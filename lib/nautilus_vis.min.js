!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("nautilus_vis",[],e):"object"==typeof exports?exports.nautilus_vis=e():t.nautilus_vis=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var i=i||{};$(document).on("initComplete",function(){var t=i.egoGraphVis;if(0!=t.zoomable){var e=t.zoom;t.zoomTranslate=e.translate(),t.checkZoom=function(i){var r=n([0,0])[1],a=n([t.graphDimensions.width,t.graphDimensions.height])[1];if(i.y<r||i.y>a){console.log(e.translate()),console.log(e.scale()),console.log(n([i.x,i.y])),console.log(n([t.graphDimensions.width,t.graphDimensions.height])),console.log(n([0,0])),t.group.call(e.event);var o=e.center(),s=e.translate(),l=n(o);e.scale(.9*e.scale());var c=function(t){var n=e.scale(),i=e.translate();return[t[0]*n+i[0],t[1]*n+i[1]]}(l);e.translate([s[0]+o[0]-c[0],s[1]+o[1]-c[1]]),t.group.transition().duration(500).call(e.event)}},$(document).on("animationFinished",function(){r(),console.log(e.translate()),console.log(e.scale())}),r()}function n(t){var n=e.scale(),i=e.translate();return[(t[0]-i[0])/n,(t[1]-i[1])/n]}function r(){var e=[300,501];console.log("coordinates"),console.log(e),console.log(n(e)),console.log(n([t.graphDimensions.width,t.graphDimensions.height]))}});i=i||{};$(document).on("initComplete",{focus_id:focus_id},function(t){var e=t.data.focus_id;e=parseInt(e);i.egoGraphVis;if(void 0===e||!e)e=function(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}("focusid");e&&$(".centerNode").click(function(){var t=Flask.url_for("generate_colldata_from_collection",{focus_id:e});window.open(t,"_blank","location=0")}),$(window).on("storage",function(t){if("message"!=t.originalEvent.key)return;var e=JSON.parse(t.originalEvent.newValue);if(!e)return;"timelineVis:paperItem:mouseover"==e.command&&(n=e.data.pid,i=[],d3.selectAll(".node").filter(function(t){if(t.targetPaperIDs&&-1!=t.targetPaperIDs.indexOf(n))return i.push(t),!0}).classed("linkedToTimeline",!0),d3.selectAll(".link").filter(function(t){return-1!=i.indexOf(t.source)}).classed("linkedToTimeline",!0));var n,i;"timelineVis:paperItem:mouseout"==e.command&&(e.data.pid,d3.selectAll(".linkedToTimeline").classed("linkedToTimeline",!1))})}),(i=i||{}).default_options=function(){var t={width:960,height:500,lineChart:{margin:{top:30,right:20,bottom:30,left:50}}};t.lineChart.width=3*t.width/4-t.lineChart.margin.left-t.lineChart.margin.right,t.lineChart.height=110-t.lineChart.margin.top-t.lineChart.margin.bottom;var e=["rgb(228,26,28)","rgb(55,126,184)","rgb(77,175,74)","rgb(152,78,163)","rgb(255,127,0)","rgb(255,255,51)","rgb(166,86,40)","rgb(247,129,191)"];return e.splice(0,0,e.splice(1,1)[0]),{defaults:{colorScheme:e,dimensions:t}}}(),(i=i||{}).lineChartData=function(){function t(t){return t.nodes[0].pew_Class}function e(t){return t.nodes[0].funding}function n(t){var e=[];return t.forEach(function(t){if(void 0!==t.linkToEgo&&!0===t.linkToEgo){var n=+t.sourceYear,i=+t.targetYear;n>0&&i>0&&n>=i&&e.push(t)}}),e}function i(t){var e=d3.min(t,function(t){return t.targetYear>0?t.targetYear:null}),n=(new Date).getFullYear(),i=d3.max(t,function(t){return t.sourceYear<=n?t.sourceYear:null});return[e,i=Math.min(i,2017)]}function r(t){for(var e=[],n=t[0];n<=t[1];n++)e.push({year:n,count:0});return e}return{prepareData_allCitations:function(a){var o={};o.pew_Class=t(a),o.funding=e(a),o.values=[];var s=n(a.links),l=i(s);return s=s.filter(function(t){return t.sourceYear<=l[1]&&t.targetYear<=l[1]}),o.values=r(l),s.forEach(function(t){var e=t.sourceYear;o.values.filter(function(t){return t.year===e})[0].count++}),o},prepareData_egoAuthorPublications:function(a){var o={};o.pew_Class=t(a),o.funding=e(a),o.values=[];var s=i(n(a.links));o.values=r(s);var l=a.nodes[0].papers;return(l=l.filter(function(t){return t.Year>=s[0]&&t.Year<=s[1]})).forEach(function(t){o.values.filter(function(e){return e.year==t.Year})[0].count++}),o},prepareData_authorEigenfactorSum:function(a){var o={};o.pew_Class=t(a),o.funding=e(a),o.values=[];var s=i(n(a.links));o.values=r(s);var l=a.nodes[0].papers;return(l=l.filter(function(t){return t.Year>=s[0]&&t.Year<=s[1]})).forEach(function(t){var e=o.values.filter(function(e){return e.year==t.Year})[0];e.count=e.count+t.EF}),o}}}();i=i||{};String.prototype.capitalize=function(){return this.toLowerCase().replace(/\b\w/g,function(t){return t.toUpperCase()})};i=i||{};function r(t){this.data=t,this.notEgoNodes=this.data.nodes.slice(1),console.log(this.data),this.graphDimensions,this.colorScheme,this.nodePlacementOptions=["force1","spiral","spiral2"],this.nodePlacement=this.nodePlacementOptions[1],this.zoomable=!1,this.svg,this.group,this.node,this.link,this.egoNode,this.eigenFactorScale,this.domainsThisGraph,this.legend,this.yearTextDisplay,this.authorImageDiv,this.tooltip,this.tip,this.tick,this.force,this.colorScheme;return this.JSDColorScale=d3.scale.linear().domain(d3.extent(this.notEgoNodes,function(t){return t.js_div})).range(["red","blue"]),this.ClusterDistanceColorScale=d3.scale.linear().domain(d3.extent(this.notEgoNodes,function(t){return t.average_cluster_distance_to_center})).range(["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"]),this.opacityVals={node:1,nodePrevYear:.6,linkToEgo:.12,linkNotToEgo:.12,linkPrevYear:.04},this.doAnnotations=!1,this.animationState,this.transitionTimePerYear,this.transitionTimePerNode,this.linkAppearDuration=500,this.currNodeIndex,this.destinationNodeIndex,this.destinationYear,this.currYear,this.destinationNodeIndex=this.data.nodes.length-1,this.c=0,this.tt=0,this}$(document).on("initComplete",function(){var t=$(window).width();!function(){$(".node").addClass("tooltipster");var t=$(window).width();function e(t,e){var i="";return d3.select(t).each(function(t){if("paper"!==t.nodeType||t.updatedProps){if(0==t.idx){t.tooltipHtml="<p>",t.nodeType&&(t.tooltipHtml=t.tooltipHtml+t.nodeType.capitalize()+": "),t.tooltipHtml=t.tooltipHtml+t.name,t.tooltipHtml=t.tooltipHtml+"</p>";var r=t.papers.length;return t.tooltipHtml=t.tooltipHtml+"<p>Number of Publications: "+r+"</p>",i=t.tooltipHtml,null!=e&&e(i),i}}else{if(void 0!==t.citation&&t.citation.length>0)return i=function(t){return t.updatedProps=!0,n(t)}(t),null!=e&&e(i),i;$.ajax({dataType:"json",url:$SCRIPT_ROOT+"/_vis_get_more_paperinfo",data:{paperid:t.id},success:function(r){return console.log(r),t.Title=r.title,t.doi=r.doi,t.citation=r.citation,t.author_str=r.author_str,t.venue=r.venue,t.updatedProps=!0,i=n(t),null!=e&&e(i),i}})}}),i}function n(t){var e=$("<span>");e.append($('<p class="title">').text(t.Title)),e.append($('<p class="authors">').text(t.author_str)),e.append($('<p class="venue">').text(t.venue)),e.append($('<p class="year">').text(t.Year)),e.append($('<p class="domain">').text("Categories: "+t.Field_of_study_names)),t.tooltipHtml=e.html();var n=t.tooltipHtml;return n}$(".tooltipster").tooltipster({theme:"tooltipster-noir",maxWidth:.5*t,animation:null,animationduration:0,delay:0,updateAnimation:null,content:"<p>Loading...</p>",contentAsHTML:!0,functionBefore:function(t,n){e(n.origin,function(e){t.content(e)})}})}(),function(){var t=$(window).width();$(".legendItem.other").tooltipster({theme:"tooltipster-noir",maxWidth:.5*t,animation:null,animationduration:0,delay:0,updateAnimation:null,content:"<p>These are papers in categories other than the ones above. Point your mouse at a specific paper to see the name of the category.</p>",contentAsHTML:!0});$(".egoGraphVisLegendHeader").tooltipster({theme:"tooltipster-noir",maxWidth:.5*t,animation:null,animationduration:0,delay:0,updateAnimation:null,content:"<p>The data underlying this visualization comes from the Microsoft Academic Graph. Each document has multiple associated Fields of Study. Here, these Fields are combined with the document's title, weighted using TF-IDF, and assigned a category using K-Means clustering. Mouse over the categories to highlight its papers, and to see more important terms.</p>",contentAsHTML:!0}),$(".legendItem").tooltipster({theme:"tooltipster-noir",maxWidth:.5*t,animation:null,animationduration:0,delay:0,updateAnimation:null,content:"<p>Loading...</p>",contentAsHTML:!0,functionBefore:function(t,e){var n=d3.select(e.origin);n.each(function(e){var n="<h3>Top terms in category "+e.DomainID+":</h3>";n+="<ul>";for(var i=0,r=e.DomainName.length;i<r;i++)n=n+"<li>"+e.DomainName[i]+"</li>";n+="</ul>",t.content(n)})}})}(),$(".yearArea, .yearTick").css("pointer-events","all").tooltipster({theme:"tooltipster-noir",maxWidth:.5*t,animation:null,animationduration:0,delay:0,updateAnimation:null,content:"<p>Loading...</p>",contentAsHTML:!0,functionInit:function(){console.log("tooltipster init")},functionBefore:function(t,e){var n=$(e.origin).data("year"),r=i.egoGraphVis.egoNode.papers.filter(function(t){return t.Year==n}).sort(function(t,e){return d3.descending(t.EF,e.EF)});if(0===r.length)return!1;!function(t,e,n,r){if(e[0].hasOwnProperty("citation")){var a='<h3 style="font-size: 100%">Top papers in this collection in '+t+":</h3>";a+="<ol>";for(var o=0,s=0,l=e.length;s<l;s++){var c=e[s];if(c.hasOwnProperty("citation")&&(a=a+"<li>"+c.citation+"</li>",++o===n))break}return a+="</ol>",i.egoGraphVis.tooltip=i.egoGraphVis.tooltip.html(a),null!=r&&r(a),a}var d=[];for(s=0,l=n;s<l;s++)s<e.length&&d.push(e[s].PaperID);$.ajax({dataType:"json",url:$SCRIPT_ROOT+"/_vis_get_more_paperinfo",data:{paperid:JSON.stringify(d)},success:function(n){console.log(n);var a=n.papers,o='<h3 style="font-size: 100%">Top papers in this collection in '+t+":</h3>";o+="<ol>";for(var s=0,l=a.length;s<l;s++)e[s].citation=a[s].citation,o=o+"<li>"+e[s].citation+"</li>";return o+="</ol>",i.egoGraphVis.tooltip=i.egoGraphVis.tooltip.html(o),null!=r&&r(o),o}})}(n,r,3,function(e){t.content(e)})}})}),String.prototype.capitalize=function(){return this.toLowerCase().replace(/\b\w/g,function(t){return t.toUpperCase()})},r.prototype.init=function(){var t=this;t.tick=t.makeTick(),t.force=t.makeForce(),!0===t.zoomable&&(t.zoom=t.makeZoom()),t.animationState="init",t.getDomainsThisGraph(),t.svg=d3.select("#graphDiv").append("svg").attr("id","graphSvg").attr("width",t.graphDimensions.width).attr("height",t.graphDimensions.height),t.group=t.svg.append("g").attr("class","graphContainer"),t.link=t.group.append("svg:g").attr("class","links").selectAll(".link"),t.node=t.group.append("svg:g").attr("class","nodes").selectAll(".node"),t.tooltip=d3.select("body").append("div").attr("class","nodeTooltip").style("position","absolute").style("width",t.graphDimensions.width/4+"px").style("z-index","10").style("visibility","hidden"),t.data.nodes[0].fixed=!0,t.data.nodes[0].x=t.graphDimensions.width/2,t.data.nodes[0].y=t.graphDimensions.height/2,t.data.nodes[0].color=t.JSDColorScale(0),t.egoNode=t.data.nodes[0];var e=d3.max(t.data.nodes,function(t){return t.EF});t.eigenFactorScale=d3.scale.linear().domain([0,e]).range([0,1]),t.data.nodes.forEach(function(e){"paper"===e.nodeType?e.radius=4.5+10*t.eigenFactorScale(e.EF):e.radius=10}),t.force.nodes(t.data.nodes),t.node=t.node.data(t.data.nodes);var n=t.node.enter();(n=n.append("svg:circle").attr("class","node").classed("centerNode",function(e){return e.id===t.egoNode.id}).attr("r",function(t){return t.radius}).attr("T",0).attr("r",1e-9).each(function(e){e.DomainName=t.data.graph.Domains[e.DomainID],e.color=t.colorScheme[e.tfidf_kmeans_category]}).attr("fill",function(t){return t.color}).style("opacity",t.opacityVals.node)).call(t.force.drag),t.force.links(t.data.links),t.link=t.link.data(t.data.links);t.link.enter().append("svg:line").attr("class",function(t){return 0===t.target?"link hidden toEgo linkToEgo":"link hidden notToEgo linkNotToEgo"}).attr("T",0).style("opacity",function(e){var n=t.opacityVals;return e.linkToEgo?n.linkToEgo:n.linkNotToEgo});!function(){switch(t.nodePlacement){case t.nodePlacementOptions[0]:t.force.start();for(var e=0;e<1e5;++e)t.force.tick();t.force.stop(),n.each(function(t){t.fixed=!0});break;case t.nodePlacementOptions[1]:var i=t.egoNode.x,r=t.egoNode.y,a=20,o=t.data.nodes.length;n.each(function(t,e){if(0!=t.idx){t.fixed=!0;var n=.95*Math.pow(e,1)+a,o=e*(Math.PI/(8.5+.05*e));t.x=i+n*Math.cos(o),t.y=r+n*Math.sin(o)}}),t.force.start(),t.force.tick(),t.force.stop();break;case t.nodePlacementOptions[2]:function s(t,e,n){for(var i=Math.PI+Math.PI;;){var r=l(t,i)-e;if(Math.abs(r)<=n)return i;i-=r/(t*Math.sqrt(i*i+1))}}function l(t,e){var n=Math.sqrt(1+e*e);return.5*t*(e*n+Math.log(e+n))}var c=function(t,e){for(var n=5,i=0,r=[],a=0,o=t;a<o;a++){var l=s(e,i,5e-5);r.push(l),i+=n,a>10&&(n=10),a>50&&(n=15)}return r}(o=t.data.nodes.length,7);i=t.egoNode.x,r=t.egoNode.y,a=20,o=t.data.nodes.length,console.log(o),n.each(function(t,e){if(0!=t.idx){t.fixed=!0,Math.PI;var n=d3.scale.pow().exponent(.7).domain([1,o]).range([0,60]),s=(n=d3.scale.linear().domain([1,Math.pow(o,.3)]).range([0,60]),n=d3.scale.log().domain([100,o+100]).range([0,60]),Math.pow(e+1,.3),n(e+100));s=c[e],t.x=i+(a+7*s)*Math.cos(s),t.y=r+(a+7*s)*Math.sin(s)}}),t.force.start(),t.force.tick(),t.force.stop()}}(),t.legendInit(),t.addAuthorImage(),t.addEventListeners(),t.yearTextDisplay=t.svg.append("svg:text").attr("x",8*t.graphDimensions.width/9).attr("y",12*t.graphDimensions.height/13).attr("dy","-.3em").attr("font-size","10em").attr("text-anchor","end").style("pointer-events","none").style("opacity",1e-9).attr("id","egoGraphVis_yearIndicator").text(t.data.graph.yearRange[0]),t.revealEgoNode()},r.prototype.makeZoom=function(){var t=this;return d3.behavior.zoom().center([t.graphDimensions.width/2,t.graphDimensions.height/2]).scaleExtent([.2,10]).on("zoom",function(){t.group.attr("transform","translate("+d3.event.translate+")scale("+d3.event.scale+")")})},r.prototype.makeTick=function(){var t=this;function e(t){return t.source.x}function n(t){return t.source.y}function i(t){return t.target.x}function r(t){return t.target.y}function a(e){return!1===t.zoomable&&(e.x=Math.max(4.5,Math.min(t.graphDimensions.width-4.5,e.x)),e.y=Math.max(4.5,Math.min(t.graphDimensions.height-4.5,e.y))),"translate("+e.x+","+e.y+")"}return function(){t.link.attr("x1",e).attr("y1",n).attr("x2",i).attr("y2",r),t.node.attr("transform",a)}},r.prototype.makeForce=function(){return d3.layout.force().size([this.graphDimensions.width,this.graphDimensions.height]).linkDistance(225).on("tick",this.tick)},r.prototype.importDefaultOptions=function(t){this.colorScheme=t.colorScheme,this.graphDimensions=t.dimensions,this.transitionTimePerYear=t.transitionTimePerYear,console.log(t)},r.prototype.getDomainsThisGraph=function(){var t=this.colorScheme.length,e=this.data.graph.tfidf_kmeans_categories;this.domainsThisGraph=[];for(var n=0;n<t;n++)this.domainsThisGraph.push({}),this.domainsThisGraph[n].DomainID=n,this.domainsThisGraph[n].DomainName=e[n],this.domainsThisGraph[n].color=this.colorScheme[n];console.log(this.domainsThisGraph)},r.prototype.legendInit=function(){var t=this,e=["computer science, data mining, ...","sociology, social science, ...","medicine, health, ...","economics, business, ...","psychology, cognition, ...","political science, ...","biology, ecology, ...","climate change, ..."],n=t.graphDimensions.width/70,i=n/3,r=n+i;t.legend=t.svg.append("g").attr("class","legend").attr("transform","translate("+i+","+i+")");var a=n;t.legend.append("svg:text").attr("transform","translate(0, "+a+")").attr("class","egoGraphVisLegendHeader").text("Categories â“˜");var o=t.legend.selectAll("g").data(t.domainsThisGraph).enter().append("g").attr("class","legendItem").attr("id",function(t){return"legendDomain"+t.DomainID}).on("mouseover",function(t){d3.selectAll(".node").filter(function(e){return t.color==e.color}).classed("legendHover",!0)}).on("mouseout",function(t){d3.selectAll(".node").classed("legendHover",!1)}).attr("display",function(e,n){return n<t.colorScheme.length?"":"none"});o.append("svg:rect").attr("width",n).attr("height",n).attr("transform",function(t,e){return"translate(0,"+(a+i+r*e)+")"}).attr("fill",function(t){return t.color}),t.legendText=o.append("svg:text").attr("transform",function(t,e){return"translate("+r+","+(a+i+r*e)+")"}).attr("dy","1em").text(function(t,n){return"C"+n+" ("+e[n]+")"}).style("font-size",".9em")},r.prototype.addAuthorImage=function(){var t=this;if(t.egoNode.hasOwnProperty("name")&&(t.egoNode.AuthorName=t.egoNode.name),t.egoNode.hasOwnProperty("AuthorName")){t.authorImageDiv=t.svg.append("foreignObject").attr("class","externalObject").attr("x",0).attr("y",t.graphDimensions.height/2-50).attr("height","100%").attr("width",t.graphDimensions.height/5).append("xhtml:div").attr("id","authorImageDiv"),t.authorImageDiv.append("xhtml:p").html("<p>"+t.data.nodes[0].AuthorName.capitalize()+"</p>");var e=t.authorImageDiv.append("xhtml").attr("id","authorImageContainer"),n=t.data.nodes[0].organization;console.log(n),void 0!==n&&d3.tsv("static/healthra/orgs_with_links.tsv",function(e,r){if(e)throw e;console.log(r);for(var a=0,o=r.length;a<o;a++)if(r[a].org_name==n){var s=r[a].match_name;if(void 0!==s&&""!=s){var l=r[a].link,c=r[a].img_url;t.authorImageDiv.append("xhtml:p").html('<a href="'+l+'" target="_blank"><p style="margin: 0; padding: 0; font-size: .85em">'+s+"</p>");var d=i(c);d.style("cursor","pointer"),d.on("click",function(){console.log(l),window.open(l,"_blank")})}else t.authorImageDiv.append("xhtml:p").html('<p style="margin: 0; padding: 0; font-size: .85em">'+n+"</p>")}})}function i(t){return e.append("xhtml:img").attr("src",t).attr("id","authorImage").attr("width","85px")}var r=t.data.nodes[0].AuthorImgUrl||t.data.nodes[0].ImgURL;if(console.log(r),void 0===r){if(void 0!==(a=t.data.nodes[0].PewScholarID)){var a;!function t(e,n,r){var a=e+n[r];if(r>=n.length)return!1;$.get(a).done(function(){i(a)}).fail(function(){t(e,n,r+1)})}("static/img/pew_photos/"+(a=(a="000"+(a=a.toString())).substr(a.length-3)),[".png",".jpg",".jpeg",".JPG",".JPEG",".PNG"],0);var o=t.data.nodes[0].pew_Class;void 0!==o&&t.authorImageDiv.append("xhtml:p").html('<p style="margin: 0; padding: 0; font-size: .85em">Pew Scholar '+o+"</p>")}}else i(r)},r.prototype.addEventListeners=function(){var t=this;!0===t.zoomable&&t.group.call(t.zoom),d3.selectAll(".node").each(function(t){t.updatedProps=!1,t.tooltipHtml="<p>Loading...</p>"}),d3.selectAll(".node").on("mouseover",function(t){t.hovered=!0;d3.select(this)}).on("mousemove",function(t){}).on("mouseout",function(e){e.hovered=!1,t.tooltip=t.tooltip.style("visibility","hidden")}).on("click",function(t){if("paper"===t.nodeType){if(t.hasOwnProperty("doi")&&""!==t.doi)var e="https://doi.org/"+t.doi;else e="https://preview.academic.microsoft.com/paper/"+t.id;window.open(e,"_blank")}})},r.prototype.makeTooltip=function(t,e){if("author"===t.nodeType||""===t.nodeType||"venue"===t.nodeType){var n='<p class="authorName">Author: '+t.AuthorName+"</p>";t.pew_Class&&(n=n+'<p class="pewClass">Pew Class: '+t.pew_Class+"</p>");var i=t.papers.length;e(n=n+'<p class="numberOfPubs">Number of Publications: '+i+"</p>")}function r(t){var e=[];return t.forEach(function(t){var n=t[1].split(" "),i=(n=n.map(function(t){return t!=t.toUpperCase()?t.capitalize():t})).join(" ");e.push(i)}),e}function a(t,e){$.ajax({dataType:"json",url:$SCRIPT_ROOT+"/_vis_get_title",data:{paperid:t},success:function(t){e(t.title)}})}function o(){var e="";e+='<p class="paperTitle">',e+=t.Title,e=(e+="</p>")+'<p class="paperYear">'+t.Year+"</p>";var n=[];return t.authorList.forEach(function(t){n.push(t)}),e=e+'<p class="paperAuthor">Authors: '+n.join(", ")+"</p>"}if(t.hasOwnProperty("authors")){var s=r(t.authors);if(t.authorList=s,t.hasOwnProperty("Title")){n=o();e(n)}else a(t.id,function(n){t.Title=n;var i=o();e(i)})}else $.ajax({dataType:"json",url:$SCRIPT_ROOT+"/_vis_get_authorinfo",data:{authorids:JSON.stringify(t.AuthorIDList)},success:function(n){t.authors=n.authors;var i=r(t.authors);if(t.authorList=i,t.hasOwnProperty("Title")){var s=o();e(s)}else a(t.id,function(n){t.Title=n;var i=o();e(i)})}})},r.prototype.revealEgoNode=function(){var t=this;t.currNodeIndex=0,t.currYear=t.data.graph.yearRange[0],d3.selectAll(".node").filter(function(e){return e.id===t.egoNode.id}).classed("hidden",!1).classed("visible",!0).transition().duration(2e3).attr("r",function(t){return t.radius}).attr("T",1).each("start",function(){t.yearTextDisplay.transition().delay(1e3).duration(1e3).style("opacity",.15)}).each("end",function(){$.event.trigger({type:"yearChange"}),t.animateToDestinationNode()})},r.prototype.animateToDestinationNode=function(){this.currNodeIndex===this.destinationNodeIndex?(console.log("goto finish"),this.finishAnimation()):this.currNodeIndex<this.destinationNodeIndex?(this.animationState="forward",this.currNodeIndex++,this.checkYear()):this.currNodeIndex>this.destinationNodeIndex&&(this.animationState="rewind",this.currNodeIndex--,this.checkYear())},r.prototype.continue=function(){void 0===this.transitionTimePerNode&&this.calculateTransitionTime(),"forward"===this.animationState?this.drawNode():"rewind"===this.animationState&&this.removeNode()},r.prototype.checkYear=function(){var t=this;if(t.currNodeIndex==t.data.nodes.length-1)return t.currYear=t.data.graph.yearRange[1],t.yearTextDisplay.text(t.currYear),$.event.trigger({type:"yearChange"}),void t.continue();var e=t.data.nodes.filter(function(e){return e.idx===t.currNodeIndex}),n=t.currYear,i=e[0].Year;return i==n?t.continue():i>n?(t.c=0,t.tt=0,t.currYear++,t.beginNewYear()):i<n&&(t.currYear--,t.beginNewYear()),t.currYear},r.prototype.beginNewYear=function(){var t=this;t.yearTextDisplay.text(t.currYear),$.event.trigger({type:"yearChange"}),t.calculateTransitionTime(),0===t.notEgoNodes.filter(function(e){return e.Year==t.currYear}).length?setTimeout(function(){t.checkYear()},t.transitionTimePerYear[t.currYear]):t.continue()},r.prototype.drawNode=function(){var t=this;d3.selectAll(".node").filter(function(e){return e.idx===t.currNodeIndex}).classed("hidden",!1).classed("visible",!0).transition().ease("linear").duration(t.transitionTimePerNode).attr("r",function(t){return t.radius}).attr("T",1).each("end",function(e){var n;t.c++,!0===t.zoomable&&t.checkZoom(e),t.animateToDestinationNode(),(n=e).linksThisNodeIsSource=d3.selectAll(".link").filter(function(t){return t.source===n}),n.linksThisNodeIsSource.classed("hidden",!1).classed("visible",!0).each(function(t){t.inTransition=!0}).attr("x2",function(t){return t.source.x}).attr("y2",function(t){return t.source.y}).style("visibility","visible").transition().ease("linear").delay(0).duration(t.linkAppearDuration).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}).attr("T",1).each("end",function(t){t.inTransition=!1})})},r.prototype.removeNode=function(){var t=this;t.animationState="rewind";d3.selectAll(".node").filter(function(e){return e.index===t.currNodeIndex});var e=d3.selectAll(".link").filter(function(e){return e.source.index===t.currNodeIndex}),n=t.transitionTimePerNode;e.transition().each("start",function(t){t.inTransition=!0}).duration(n).ease("quad").attr("x2",function(t){return t.source.x}).attr("y2",function(t){return t.source.y}).call(function(e){e.inTransition=!1,d3.selectAll(".node").filter(function(e){return e.idx===t.currNodeIndex}).transition().duration(t.transitionTimePerNode).ease("quad").attr("r",0).attr("T",1).each("end",function(e){d3.select(this).classed("hidden",!0).classed("visible",!1),t.animateToDestinationNode()})})},r.prototype.finishAnimation=function(){this.animationState="stopped",$.event.trigger({type:"animationFinished"}),console.log("finished"),console.log(this.currNodeIndex)},r.prototype.newDestinationNode=function(t){this.destinationYear=t,console.log(this.destinationYear),this.getDestinationNode(),this.currNodeIndex!==this.destinationNodeIndex&&(this.currNodeIndex<this.destinationNodeIndex?(this.animationState="forward",this.drawNode()):(this.animationState="rewind",this.removeNode()))},r.prototype.getDestinationNode=function(){var t=this,e=t.data.graph.yearRange[1];function n(){return t.notEgoNodes.filter(function(e){return e.Year==t.destinationYear})}var i=n();if(i.length>0){var r=i[i.length-1];t.destinationNodeIndex=r.idx}else t.destinationYear==e?function e(){t.destinationYear--;var i=n();i.length>0?t.getDestinationNode():e()}():(t.destinationYear++,t.getDestinationNode())},r.prototype.calculateTransitionTime=function(){var t=this.data.graph.nodeCountsPerYear[this.currYear];this.transitionTimePerNode=t?this.transitionTimePerYear[this.currYear]/t:0,this.transitionTimePerNode=this.transitionTimePerNode-10},r.prototype.revealFinalState=function(){var t=this;d3.selectAll(".node, .link").transition().duration(0),t.node.classed("hidden",!1).attr("r",function(t){return t.radius}).each(function(e){!0===t.zoomable&&t.checkZoom(e)}),t.link.classed("hidden",!1).classed("visible",!0).style("visibility","visible").attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}).each(function(t){t.inTransition=!1}),t.currNodeIndex=t.data.nodes.length-1,t.currYear=t.data.graph.yearRange[1],t.yearTextDisplay.text(t.currYear),$.event.trigger({type:"yearChange"}),t.finishAnimation()},(i=i||{}).egoGraphData=function(t){return{prepare_egoGraphData:function(t){for(a=0;a<t.nodes.length;a++)t.nodes[a].oldIdx=a;var e={},n=["graph","directed","multigraph"];for(a=0;a<n.length;a++){var i=n[a];t.hasOwnProperty(i)&&(e[i]=t[i])}e.nodes=[],e.nodes.push(t.nodes[0]),e.nodes[0].idx=0;for(var r=[],a=1;a<t.nodes.length;a++)t.nodes[a].Year>0&&""!=t.nodes[a].Title&&r.push(t.nodes[a]);if(d3.shuffle(r),r.sort(function(t,e){return d3.descending(t.EF,e.EF)}),void 0===o)var o=274;for((r=function(t){for(var e=[],n=[],i=0,r=t.length;i<r;i++)0!=t[i].DomainID?e.push(t[i]):n.push(t[i]);console.log(t);var a=e.concat(n);return console.log(a),a}(r)).length>o&&(r=r.slice(0,o)),r.sort(function(t,e){return d3.ascending(t.Year,e.Year)||d3.descending(t.EF,e.EF)}),a=0;a<r.length;a++){var s=r[a];s.idx=e.nodes.length,e.nodes.push(s)}e.links=function(t,e){var n=[];for(a=0;a<e.length;a++){var i=t.filter(function(t){return t.id===e[a].source}),r=t.filter(function(t){return t.id===e[a].target});if(i.length>0&&r.length>0)if("paper"===r[0].nodeType&&i[0].Year<r[0].Year);else{var o=e[a];o.source=i[0].idx,o.target=r[0].idx,n.push(e[a])}}return n.forEach(function(t){"number"!=typeof t.target&&console.log(t)}),n}(e.nodes,t.links);var l=e.graph.yearRange;return e.graph.nodeCountsPerYear=function(t,e){for(var n=d3.nest().key(function(t){return t.Year}).sortKeys(d3.ascending).rollup(function(t){return t.length}).map(t.slice(1)),i={},r=e[0];r<=e[1];r++){var a=n[r];i[r]=void 0===a?0:a}return i}(e.nodes,l),e}}}(),(i=i||{}).eventListeners={};i=i||{};function a(t){return this.data=t.values,this.pew_Class=t.pew_Class,this.hra_funding=t.funding,this.lineChartDimensions,this.colorScheme,this.x,this.y,this.chartDiv,this.svg,this.svgDefs,this.title,this.clipPath,this.currYearIndicator,this.yearArea,this.yearAreaOpacity=.1,this.xAxis,this.yAxis,this.line,this.area,this.chartLine,this.chartArea,this.linearGradient,this.animationState,this.currYear,this.transitionTimePerYear,this.yearRange=d3.extent(this.data,function(t){return t.year}),this.yearRange[1]=Math.min(this.yearRange[1],2017),this.fundingTime,void 0!==this.pew_Class&&(this.fundingTime=4),void 0!==this.hra_funding&&(this.hra_funding=this.hra_funding[0],this.fundingTime=this.hra_funding.duration_in_years,this.pew_Class=this.hra_funding.start_date),this}$(document).on("initComplete",function(){var t=i.egoGraphVis,e=t.data.graph.DomainsMult;if(e&&function(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}("domainsMult")){var n=$("<div>");n.append($("<label>").text("Color by: ").css("display","inline"));n.append($("<select>").attr("id","domain_select"));$("#mainDiv").prepend(n),$.each(e,function(t,e){$("#domain_select").append($("<option>").text(t)),d3.select("#mainDiv").append("p").text(t).on("click",function(){r(t)})}),$("#domain_select").val("category_from_keyword"),$("#domain_select").on("change",function(){r($(this).val())})}function r(n){t.data.graph.Domains=e[n];for(var i=0,r=t.notEgoNodes.length;i<r;i++){var a=t.notEgoNodes[i];a.DomainID=a.DomainMult[n]}t.getDomainsThisGraph(),d3.selectAll(".legendItem").remove(),t.legendInit(),d3.selectAll(".node").each(function(e){e.DomainName=t.data.graph.Domains[e.DomainID];for(var n=0;n<t.domainsThisGraph.length;n++){if(t.domainsThisGraph[n].key==e.DomainID){var i=t.domainsThisGraph[n].color;e.color=i}}}).transition().duration(200).attr("fill","white").each("end",function(){d3.select(this).transition().duration(200).attr("fill",function(t){return t.color})}),d3.transition().duration(400).each("end",function(){t.revealFinalState()})}}),a.prototype.init=function(){var t=this;t.animationState="init",t.currYear=t.yearRange[0],t.x=d3.scale.linear().range([0,t.lineChartDimensions.width]),t.y=d3.scale.linear().range([t.lineChartDimensions.height,0]),t.chartDiv=d3.select("#chartsDiv").append("div").attr("class","chartDiv"),t.svg=t.chartDiv.append("svg").attr("width",t.lineChartDimensions.width+t.lineChartDimensions.margin.left+t.lineChartDimensions.margin.right).attr("height",t.lineChartDimensions.height+t.lineChartDimensions.margin.top+t.lineChartDimensions.margin.bottom).attr("class","lineChart").append("g").attr("transform","translate("+t.lineChartDimensions.margin.left+","+t.lineChartDimensions.margin.top+")"),t.svgDefs=t.svg.append("defs"),t.x.domain(t.yearRange),t.y.domain([0,d3.max(t.data,function(t){return t.count})]),t.xAxis=d3.svg.axis().scale(t.x).orient("bottom").tickFormat(d3.format("d")).ticks(Math.min(t.data.length,20)),t.yAxis=d3.svg.axis().scale(t.y).orient("left").ticks(2).tickSize(0),t.line=d3.svg.line().x(function(e){return t.x(e.year)}).y(function(e){return t.y(e.count)}),t.area=d3.svg.area().x(function(e){return t.x(e.year)}).y0(t.lineChartDimensions.height).y1(function(e){return t.y(e.count)}),t.svg.append("g").attr("class","x axis").attr("transform","translate(0,"+t.lineChartDimensions.height+")").call(t.xAxis);t.svg.select(".x.axis").selectAll(".tick").attr("class","yearTick").attr("data-year",function(t){return t}).style("font-size",".75em"),t.svg.selectAll(".yearTick").append("svg:rect").attr("fill",t.colorScheme[4]).style("opacity",0).attr("class","highlightRect").each(function(t){var e=this.parentNode.getBBox(),n=e.width/4;d3.select(this).attr("x",e.x-n).attr("y",e.y).attr("width",e.width+2*n).attr("height",e.height)});t.svg.append("g").attr("class","y axis").call(t.yAxis).append("text").attr("transform","rotate(-90)").attr("y",-t.lineChartDimensions.margin.left/2-6).attr("x",-(t.lineChartDimensions.height+t.lineChartDimensions.margin.top+t.lineChartDimensions.margin.bottom)/2).attr("class","axisLabel").text("Num citations").attr("font-size",".5em"),t.linearGradient=d3.select("#line-gradient"),t.chartArea=t.svg.append("g").append("path").datum(t.data).attr("class","area").style("fill","url(#line-gradient)").attr("d",t.area),t.chartLine=t.svg.append("g").append("path").datum(t.data).attr("class","line").style("stroke","black").attr("d",t.line),t.currYearIndicator=t.svg.append("svg:line").attr("class","verticalLine yearIndicator hidden").attr("T",0).attr("x1",t.x(t.currYear)).attr("x2",t.x(t.currYear)).attr("y1",t.lineChartDimensions.height).attr("y2",0).attr("stroke-width",2).attr("stroke","black").attr("stroke-dasharray","5, 2").style("opacity",.25),t.yearArea=t.svg.selectAll(".yearArea").data(t.data).enter().append("svg:rect").attr("class","yearArea hidden").attr("data-year",function(t){return t.year}).attr("x",function(e){return t.x(e.year)}).attr("y",0).attr("width",function(e){return t.x(e.year+1)-t.x(e.year)}).attr("height",t.lineChartDimensions.height).attr("fill",t.colorScheme[4]).style("opacity",0),void 0!==t.pew_Class&&t.makeFundingLines(t.pew_Class)},a.prototype.importDefaultOptions=function(t){this.colorScheme=t.colorScheme,this.lineChartDimensions=t.dimensions.lineChart,this.transitionTimePerYear=t.transitionTimePerYear},a.prototype.makeColorGradient=function(t){console.log(t);var e=this.x(this.yearRange[1]);return this.svg.append("linearGradient").attr("id","line-gradient").attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("y1",this.x(this.yearRange[0])).attr("x2",e).attr("y2",0).selectAll("stop").data([{offset:this.x(this.yearRange[0])/e,color:d3.rgb(this.colorScheme[7]).darker()},{offset:this.x(t-1)/e,color:d3.rgb(this.colorScheme[7]).darker()},{offset:this.x(t+1)/e,color:this.colorScheme[2]},{offset:this.x(t+this.fundingTime-1)/e,color:this.colorScheme[2]},{offset:this.x(t+this.fundingTime+1)/e,color:this.colorScheme[0]},{offset:1,color:this.colorScheme[0]}]).enter().append("stop").attr("offset",function(t){return t.offset}).attr("stop-color",function(t){return t.color})},a.prototype.makeFundingLines=function(t){this.svg.append("svg:line").attr("class","verticalLineStatic verticalLineFundingBegin").attr("x1",this.x(t)).attr("x2",this.x(t)).attr("y1",this.lineChartDimensions.height).attr("y2",0).attr("stroke-width",2).attr("stroke",this.colorScheme[2]).style("stroke-dasharray","5, 2").style("opacity",.8),this.svg.append("svg:line").attr("class","verticalLineStatic verticalLineFundingEnd").attr("x1",this.x(t+this.fundingTime)).attr("x2",this.x(t+this.fundingTime)).attr("y1",this.lineChartDimensions.height).attr("y2",0).attr("stroke-width",2).attr("stroke",this.colorScheme[0]).style("stroke-dasharray","5, 2").style("opacity",.8)},a.prototype.changeAnimationState=function(t){var e=this;e.animationState=t,console.log(e.animationState),"forward"===e.animationState&&(e.currYearIndicator.attr("T"),e.currYearIndicator.attr("data-state","forward").classed("hidden",!1).transition().duration(e.transitionTimePerYear[e.currYear]).ease("linear").attr("x1",e.x(e.currYear)).attr("x2",e.x(e.currYear)).attr("data-state","stopped").attr("T",1).each("end",function(){d3.select(this).attr("T",0),e.currYear++}))},a.prototype.correctYear=function(t){t!=this.currYear&&(this.currYear=t,this.currYearIndicator.attr("x1",this.x(this.currYear)).attr("x2",this.x(this.currYear)),this.changeAnimationState())},a.prototype.moveYearIndicator=function(t){var e=this;e.currYear=t,e.currYearIndicator.attr("T",0).transition().duration(e.transitionTimePerYear[e.currYear]).ease("linear").attr("x1",e.x(e.currYear)).attr("x2",e.x(e.currYear)).attr("T",1).each("end",function(){d3.select(this).attr("T",0)}),e.svg.selectAll(".yearTick").selectAll(".currYear").classed(".currYear",!1).transition().duration(e.transitionTimePerYear[e.currYear]/4).style("opacity",0),e.svg.selectAll(".yearArea.currYear").classed("currYear",!1).transition().duration(e.transitionTimePerYear[e.currYear]/4).style("opacity",function(t){return t.year<e.currYear?e.yearAreaOpacity/2:0}),e.yearArea.filter(function(t){return t.year==e.currYear}).classed("currYear",!0).classed("hidden",!1).style("opacity",2*e.yearAreaOpacity).transition().duration(e.transitionTimePerYear[e.currYear]/2).style("opacity",e.yearAreaOpacity),e.yearArea.filter(function(t){return t.year<e.currYear}).classed("hidden",!1).style("opacity",e.yearAreaOpacity/2),e.yearArea.filter(function(t){return t.year>e.currYear}).style("opacity",0),console.log(e.currYear)},a.prototype.addTitle=function(t){this.title=this.svg.append("text").attr("class","lineChartTitle").attr("x",this.lineChartDimensions.width/2).attr("y",0-this.lineChartDimensions.margin.top/2).attr("text-anchor","middle").text(t)},(i=i||{}).summaryStatistics=function(){return{addSummaryStatistics:function(t){function e(t){var e=[];return t.forEach(function(t){if(void 0!==t.linkToEgo&&!0===t.linkToEgo){var n=+t.sourceYear,i=+t.targetYear;n>0&&i>0&&n>=i&&e.push(t)}}),e}var n,i,r,a;return t.graph.yearRange=(n=t.links,i=e(n),r=d3.min(i,function(t){return t.targetYear>0?t.targetYear:null}),a=(new Date).getFullYear(),[r,d3.max(i,function(t){return t.sourceYear<=a?t.sourceYear:null})]),t.graph.citationCountsPerYear=function(t){var n=function(t){for(var e=[],n=t[0];n<=t[1];n++)e.push({year:n,count:0});return e}(t.graph.yearRange);return e(t.links).forEach(function(t,e){var i=t.sourceYear;n.filter(function(t){return t.year===i})[0].count++}),n}(t),t}}}(),(i=i||{}).getTransitionTimePerYear=function(t,e){console.log(t);for(var n={},i=(e=void 0!==e?e:4e3,d3.scale.threshold().domain([1,3,10,20,30]).range([300,.2*e,.5*e,.7*e,.85*e,e])),r=t.graph.yearRange,a=r[0];a<=r[1];a++)n[a]=i(t.graph.nodeCountsPerYear[a]);return n},i.yearTickClickEventListener=function(){d3.selectAll(".yearTick").on("click",function(t){var e=this.getAttribute("data-year");d3.selectAll(".node, .link").transition().duration(0),i.egoGraphVis.newDestinationNode(e)})},n.d(e,"citationVis",function(){return i}),n.d(e,"egoGraphVis",function(){return r}),n.d(e,"lineChartByYear",function(){return a})}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uYXV0aWx1c192aXMvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL25hdXRpbHVzX3Zpcy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9uYXV0aWx1c192aXMvLi9zcmMvY29uY2F0LmpzIiwid2VicGFjazovL25hdXRpbHVzX3Zpcy8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJzZWxmIiwidGhpcyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJjaXRhdGlvblZpcyIsIiQiLCJkb2N1bWVudCIsIm9uIiwiZWdvR3JhcGhWaXMiLCJ6b29tYWJsZSIsInpvb20iLCJ6b29tVHJhbnNsYXRlIiwidHJhbnNsYXRlIiwiY2hlY2tab29tIiwiem9vbVRocmVzaG9sZE1pbiIsImNvb3JkaW5hdGVzIiwiem9vbVRocmVzaG9sZE1heCIsImdyYXBoRGltZW5zaW9ucyIsIndpZHRoIiwiaGVpZ2h0IiwieSIsImNvbnNvbGUiLCJsb2ciLCJzY2FsZSIsIngiLCJncm91cCIsImV2ZW50IiwiY2VudGVyMCIsImNlbnRlciIsInRyYW5zbGF0ZTAiLCJjb29yZGluYXRlczAiLCJjZW50ZXIxIiwicG9pbnQiLCJ0cmFuc2l0aW9uIiwiZHVyYXRpb24iLCJ0ZXN0cmVjb3JkIiwiZm9jdXNfaWQiLCJkYXRhIiwicGFyc2VJbnQiLCJ1cmwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJyZXBsYWNlIiwicmVzdWx0cyIsIlJlZ0V4cCIsImV4ZWMiLCJkZWNvZGVVUklDb21wb25lbnQiLCJnZXRQYXJhbWV0ZXJCeU5hbWUiLCJjbGljayIsIkZsYXNrIiwidXJsX2ZvciIsIm9wZW4iLCJldiIsIm9yaWdpbmFsRXZlbnQiLCJtZXNzYWdlIiwiSlNPTiIsInBhcnNlIiwibmV3VmFsdWUiLCJjb21tYW5kIiwicGFwZXJfaWQiLCJwaWQiLCJoaWdobGlnaHRlZE5vZGVzIiwiZDMiLCJzZWxlY3RBbGwiLCJmaWx0ZXIiLCJ0YXJnZXRQYXBlcklEcyIsImluZGV4T2YiLCJwdXNoIiwiY2xhc3NlZCIsInNvdXJjZSIsImRlZmF1bHRfb3B0aW9ucyIsImRpbWVuc2lvbnMiLCJtYXJnaW4iLCJ0b3AiLCJyaWdodCIsImJvdHRvbSIsImxlZnQiLCJsaW5lQ2hhcnQiLCJjb2xvclNjaGVtZSIsInNwbGljZSIsImRlZmF1bHRzIiwibGluZUNoYXJ0RGF0YSIsImdldFBld0NsYXNzWWVhciIsImdyYXBoIiwibm9kZXMiLCJwZXdfQ2xhc3MiLCJnZXRGdW5kaW5nIiwiZnVuZGluZyIsImNsZWFuTGlua3MiLCJsaW5rcyIsImNsZWFuZWRMaW5rcyIsImZvckVhY2giLCJsaW5rVG9FZ28iLCJzb3VyY2VZZWFyIiwidGFyZ2V0WWVhciIsImdldFllYXJSYW5nZSIsIm1pblllYXIiLCJtaW4iLCJ0b2RheVllYXIiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJtYXhZZWFyIiwibWF4IiwiTWF0aCIsImdldEVtcHR5Q291bnREYXRhIiwieWVhclJhbmdlIiwiZW1wdHlDb3VudERhdGEiLCJ5ZWFyIiwiY291bnQiLCJwcmVwYXJlRGF0YV9hbGxDaXRhdGlvbnMiLCJ2YWx1ZXMiLCJ0aGlzU291cmNlWWVhciIsImRkIiwicHJlcGFyZURhdGFfZWdvQXV0aG9yUHVibGljYXRpb25zIiwiZWdvUGFwZXJzIiwicGFwZXJzIiwiWWVhciIsInByZXBhcmVEYXRhX2F1dGhvckVpZ2VuZmFjdG9yU3VtIiwiZGF0YVRoaXNZZWFyIiwiRUYiLCJTdHJpbmciLCJjYXBpdGFsaXplIiwidG9Mb3dlckNhc2UiLCJ0b1VwcGVyQ2FzZSIsIm5vdEVnb05vZGVzIiwic2xpY2UiLCJub2RlUGxhY2VtZW50T3B0aW9ucyIsIm5vZGVQbGFjZW1lbnQiLCJzdmciLCJub2RlIiwibGluayIsImVnb05vZGUiLCJlaWdlbkZhY3RvclNjYWxlIiwiZG9tYWluc1RoaXNHcmFwaCIsImxlZ2VuZCIsInllYXJUZXh0RGlzcGxheSIsImF1dGhvckltYWdlRGl2IiwidG9vbHRpcCIsInRpcCIsInRpY2siLCJmb3JjZSIsIkpTRENvbG9yU2NhbGUiLCJsaW5lYXIiLCJkb21haW4iLCJleHRlbnQiLCJqc19kaXYiLCJyYW5nZSIsIkNsdXN0ZXJEaXN0YW5jZUNvbG9yU2NhbGUiLCJhdmVyYWdlX2NsdXN0ZXJfZGlzdGFuY2VfdG9fY2VudGVyIiwib3BhY2l0eVZhbHMiLCJub2RlUHJldlllYXIiLCJsaW5rTm90VG9FZ28iLCJsaW5rUHJldlllYXIiLCJkb0Fubm90YXRpb25zIiwiYW5pbWF0aW9uU3RhdGUiLCJ0cmFuc2l0aW9uVGltZVBlclllYXIiLCJ0cmFuc2l0aW9uVGltZVBlck5vZGUiLCJsaW5rQXBwZWFyRHVyYXRpb24iLCJjdXJyTm9kZUluZGV4IiwiZGVzdGluYXRpb25Ob2RlSW5kZXgiLCJkZXN0aW5hdGlvblllYXIiLCJjdXJyWWVhciIsImxlbmd0aCIsInR0Iiwid2luZG93V2lkdGgiLCJhZGRDbGFzcyIsImFqYXhQYXBlckluZm8iLCJjYWxsYmFjayIsImh0bWwiLCJzZWxlY3QiLCJlYWNoIiwibm9kZVR5cGUiLCJ1cGRhdGVkUHJvcHMiLCJpZHgiLCJ0b29sdGlwSHRtbCIsIm51bWJlck9mUHVicyIsImNpdGF0aW9uIiwibWFrZU5vZGVUb29sdGlwSHRtbCIsImJ5cGFzc0FqYXgiLCJhamF4IiwiZGF0YVR5cGUiLCIkU0NSSVBUX1JPT1QiLCJwYXBlcmlkIiwiaWQiLCJzdWNjZXNzIiwicmVzdWx0IiwiVGl0bGUiLCJkb2kiLCJhdXRob3Jfc3RyIiwidmVudWUiLCJzcGFuIiwiYXBwZW5kIiwidGV4dCIsIkZpZWxkX29mX3N0dWR5X25hbWVzIiwidG9vbHRpcHN0ZXIiLCJ0aGVtZSIsIm1heFdpZHRoIiwiYW5pbWF0aW9uIiwiYW5pbWF0aW9uZHVyYXRpb24iLCJkZWxheSIsInVwZGF0ZUFuaW1hdGlvbiIsImNvbnRlbnQiLCJjb250ZW50QXNIVE1MIiwiZnVuY3Rpb25CZWZvcmUiLCJpbnN0YW5jZSIsImhlbHBlciIsIm9yaWdpbiIsIm5vZGVUb29sdGlwcyIsImxlZ2VuZEl0ZW0iLCJEb21haW5JRCIsImxlbiIsIkRvbWFpbk5hbWUiLCJsZWdlbmRUb29sdGlwcyIsImNzcyIsImZ1bmN0aW9uSW5pdCIsInRoaXNZZWFyUGFwZXJzIiwic29ydCIsImEiLCJiIiwiZGVzY2VuZGluZyIsIm51bURpc3BsYXkiLCJudW1QYXBlcnNBZGRlZCIsInBhcGVyIiwicGlkcyIsIlBhcGVySUQiLCJzdHJpbmdpZnkiLCJkYl9wYXBlcnMiLCJtYWtlSHRtbCIsImluaXQiLCJtYWtlVGljayIsIm1ha2VGb3JjZSIsIm1ha2Vab29tIiwiZ2V0RG9tYWluc1RoaXNHcmFwaCIsImF0dHIiLCJzdHlsZSIsImZpeGVkIiwiY29sb3IiLCJlaWdlbkZhY3Rvck1heCIsInJhZGl1cyIsIm5ld05vZGUiLCJlbnRlciIsIkRvbWFpbnMiLCJ0ZmlkZl9rbWVhbnNfY2F0ZWdvcnkiLCJkcmFnIiwidGFyZ2V0Iiwib3BWYWxzIiwic3RhcnQiLCJzdG9wIiwiY3giLCJjeSIsImluaXRpYWxSYWQiLCJudW1Ob2RlcyIsInRoaXNSYWQiLCJwb3ciLCJ0aGlzU3BhY2luZyIsIlBJIiwiY29zIiwic2luIiwiY29tcHV0ZUFuZ2xlIiwiYWxwaGEiLCJhcmNMZW5ndGgiLCJlcHNpbG9uIiwiYW5nbGVSYWQiLCJjb21wdXRlQXJjTGVuZ3RoIiwiYWJzIiwic3FydCIsInUiLCJhbmdsZXMiLCJwb2ludEFyY0Rpc3RhbmNlIiwidG90YWxBcmNMZW5ndGgiLCJnZXRBbmdsZXMiLCJwb3dTY2FsZSIsImV4cG9uZW50IiwidGhpc1BvcyIsInBsYWNlTm9kZXMiLCJsZWdlbmRJbml0IiwiYWRkQXV0aG9ySW1hZ2UiLCJhZGRFdmVudExpc3RlbmVycyIsInJldmVhbEVnb05vZGUiLCJiZWhhdmlvciIsInNjYWxlRXh0ZW50IiwieDEiLCJ5MSIsIngyIiwieTIiLCJ0cmFuc2Zvcm0iLCJsYXlvdXQiLCJzaXplIiwibGlua0Rpc3RhbmNlIiwiaW1wb3J0RGVmYXVsdE9wdGlvbnMiLCJvcHRpb25zIiwibWF4RG9tYWlucyIsImRvbWFpbnMiLCJ0ZmlkZl9rbWVhbnNfY2F0ZWdvcmllcyIsIm1pc2luZm9MZWdlbmRJdGVtc1RleHQiLCJzcXVhcmVTaXplIiwicGFkZGluZyIsInNxclBsdXNQYWRkaW5nIiwibGVnZW5kSGVhZGVyU2l6ZSIsImxlZ2VuZFRleHQiLCJBdXRob3JOYW1lIiwiYXV0aG9ySW1hZ2VDb250YWluZXIiLCJhdXRob3JPcmciLCJvcmdhbml6YXRpb24iLCJ0c3YiLCJlcnJvciIsIm9yZ19kYXRhIiwibmFtZUZyb21UU1YiLCJvcmdMaW5rIiwib3JnSW1nVXJsIiwiYXV0aG9ySW1hZ2UiLCJhZGRJbWFnZSIsImF1dGhvckltYWdlU3JjIiwiQXV0aG9ySW1nVXJsIiwiSW1nVVJMIiwicGV3aWRfc3RyIiwiUGV3U2Nob2xhcklEIiwidHJ5SW1hZ2VGaWxlbmFtZXMiLCJmbmFtZV9yb290IiwicG9zc2libGVFeHRlbnNpb25zIiwiaXRlciIsImF1dGhvckltYWdlRmlsZW5hbWUiLCJkb25lIiwiZmFpbCIsInRvU3RyaW5nIiwic3Vic3RyIiwicGV3Q2xhc3MiLCJob3ZlcmVkIiwibWFrZVRvb2x0aXAiLCJnZXRBdXRob3JMaXN0IiwiYXV0aG9ycyIsImF1dGhvckxpc3QiLCJ0aGlzQXV0aG9yU3RyTGlzdCIsInNwbGl0IiwidGhpc0F1dGhvciIsIm1hcCIsImpvaW4iLCJnZXRUaXRsZSIsImF1dGhvclN0ckxpc3QiLCJ0aXRsZSIsImF1dGhvcmlkcyIsIkF1dGhvcklETGlzdCIsInRyaWdnZXIiLCJ0eXBlIiwiYW5pbWF0ZVRvRGVzdGluYXRpb25Ob2RlIiwiZmluaXNoQW5pbWF0aW9uIiwiY2hlY2tZZWFyIiwiY29udGludWUiLCJjYWxjdWxhdGVUcmFuc2l0aW9uVGltZSIsImRyYXdOb2RlIiwicmVtb3ZlTm9kZSIsImN1cnJOb2RlIiwib2xkWWVhciIsIm5ld1llYXIiLCJiZWdpbk5ld1llYXIiLCJzZXRUaW1lb3V0IiwiZWFzZSIsIm5vZGVPYmoiLCJsaW5rc1RoaXNOb2RlSXNTb3VyY2UiLCJpblRyYW5zaXRpb24iLCJpbmRleCIsImN1cnJMaW5rcyIsInJldHJhY3REdXJhdGlvbiIsIm5ld0Rlc3RpbmF0aW9uTm9kZSIsImdldERlc3RpbmF0aW9uTm9kZSIsImdldE5vZGVzVGhpc1llYXIiLCJub2Rlc1RoaXNZZWFyIiwibGFzdE5vZGVUaGlzWWVhciIsInJld2luZFNlYXJjaCIsImNvdW50VGhpc1llYXIiLCJub2RlQ291bnRzUGVyWWVhciIsInJldmVhbEZpbmFsU3RhdGUiLCJlZ29HcmFwaERhdGEiLCJtYXhOb2RlcyIsInByZXBhcmVfZWdvR3JhcGhEYXRhIiwib2xkSWR4IiwibmV3R3JhcGgiLCJwcm9wc1RvQ29weSIsInByb3AiLCJzaHVmZmxlIiwiYXJyIiwiaGFzRG9tYWluSUQiLCJub0RvbWFpbklEIiwibmV3QXJyIiwiY29uY2F0IiwiRG9tYWluSURUb0Zyb250IiwiYXNjZW5kaW5nIiwibmV3TGlua3MiLCJ0aGlzU291cmNlIiwidGhpc1RhcmdldCIsIm5ld0xpbmsiLCJyZWNhbGN1bGF0ZUxpbmtzIiwieWVhcnNOZXN0IiwibmVzdCIsInNvcnRLZXlzIiwicm9sbHVwIiwibGVhdmVzIiwiZ2V0Tm9kZUNvdW50c1BlclllYXIiLCJldmVudExpc3RlbmVycyIsImxpbmVDaGFydEJ5WWVhciIsImhyYV9mdW5kaW5nIiwibGluZUNoYXJ0RGltZW5zaW9ucyIsImNoYXJ0RGl2Iiwic3ZnRGVmcyIsImNsaXBQYXRoIiwiY3VyclllYXJJbmRpY2F0b3IiLCJ5ZWFyQXJlYSIsInllYXJBcmVhT3BhY2l0eSIsInhBeGlzIiwieUF4aXMiLCJsaW5lIiwiYXJlYSIsImNoYXJ0TGluZSIsImNoYXJ0QXJlYSIsImxpbmVhckdyYWRpZW50IiwiZnVuZGluZ1RpbWUiLCJkdXJhdGlvbl9pbl95ZWFycyIsInN0YXJ0X2RhdGUiLCJkb21haW5zTXVsdCIsIkRvbWFpbnNNdWx0IiwiJGRvbWFpbkRyb3Bkb3duIiwicHJlcGVuZCIsImsiLCJ2Iiwic3dpdGNoRG9tYWluIiwidmFsIiwiZG9tYWluVHlwZSIsInRoaXNOb2RlIiwiRG9tYWluTXVsdCIsInJlbW92ZSIsInRoaXNDb2xvciIsImR1ciIsImF4aXMiLCJvcmllbnQiLCJ0aWNrRm9ybWF0IiwiZm9ybWF0IiwidGlja3MiLCJ0aWNrU2l6ZSIsInkwIiwiYmJveCIsInBhcmVudE5vZGUiLCJnZXRCQm94IiwiZGF0dW0iLCJtYWtlRnVuZGluZ0xpbmVzIiwibWFrZUNvbG9yR3JhZGllbnQiLCJmdW5kaW5nWWVhciIsIm1heFgiLCJvZmZzZXQiLCJyZ2IiLCJkYXJrZXIiLCJjaGFuZ2VBbmltYXRpb25TdGF0ZSIsImNvcnJlY3RZZWFyIiwibW92ZVllYXJJbmRpY2F0b3IiLCJhZGRUaXRsZSIsInN1bW1hcnlTdGF0aXN0aWNzIiwiYWRkU3VtbWFyeVN0YXRpc3RpY3MiLCJjaXRhdGlvbkNvdW50c1BlclllYXIiLCJnZXRDaXRhdGlvbkNvdW50c1BlclllYXIiLCJnZXRUcmFuc2l0aW9uVGltZVBlclllYXIiLCJsb25nZXN0WWVhclRyYW5zaXRpb25UaW1lIiwidGhyZXNob2xkU2NhbGUiLCJ0aHJlc2hvbGQiLCJ5ZWFyVGlja0NsaWNrRXZlbnRMaXN0ZW5lciIsImdldEF0dHJpYnV0ZSIsIl9fd2VicGFja19leHBvcnRzX18iXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEVBQUFD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IiwiZmlsZSI6Im5hdXRpbHVzX3Zpcy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcIm5hdXRpbHVzX3Zpc1wiLCBbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJuYXV0aWx1c192aXNcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wibmF1dGlsdXNfdmlzXCJdID0gZmFjdG9yeSgpO1xufSkodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsInZhciBjaXRhdGlvblZpcyA9IGNpdGF0aW9uVmlzIHx8IHt9O1xuXG4kKCBkb2N1bWVudCApLm9uKCBcImluaXRDb21wbGV0ZVwiLCBmdW5jdGlvbigpIHtcblx0dmFyIGVnb0dyYXBoVmlzID0gY2l0YXRpb25WaXMuZWdvR3JhcGhWaXM7XG5cdGlmIChlZ29HcmFwaFZpcy56b29tYWJsZSA9PSBmYWxzZSkge1xuXHRcdHJldHVybjtcblx0fVxuXHR2YXIgem9vbSA9IGVnb0dyYXBoVmlzLnpvb207XG5cdGVnb0dyYXBoVmlzLnpvb21UcmFuc2xhdGUgPSB6b29tLnRyYW5zbGF0ZSgpO1xuXG5cdGVnb0dyYXBoVmlzLmNoZWNrWm9vbSA9IGZ1bmN0aW9uKGQpIHtcblx0XHR2YXIgem9vbVRocmVzaG9sZE1pbiA9IGNvb3JkaW5hdGVzKFswLCAwXSlbMV07ICAvLyBtaW5pbXVtIHkgdmFsdWVcblx0XHR2YXIgem9vbVRocmVzaG9sZE1heCA9IGNvb3JkaW5hdGVzKFtlZ29HcmFwaFZpcy5ncmFwaERpbWVuc2lvbnMud2lkdGgsIGVnb0dyYXBoVmlzLmdyYXBoRGltZW5zaW9ucy5oZWlnaHRdKVsxXTsgIC8vIG1heGltdW0geSB2YWx1ZVxuXHRcdGlmIChkLnkgPCB6b29tVGhyZXNob2xkTWluIHx8IGQueSA+IHpvb21UaHJlc2hvbGRNYXgpIHtcblx0XHRcdGNvbnNvbGUubG9nKHpvb20udHJhbnNsYXRlKCkpO1xuXHRcdFx0Y29uc29sZS5sb2coem9vbS5zY2FsZSgpKTtcblx0XHRcdGNvbnNvbGUubG9nKGNvb3JkaW5hdGVzKFtkLngsIGQueV0pKTtcblx0Y29uc29sZS5sb2coY29vcmRpbmF0ZXMoW2Vnb0dyYXBoVmlzLmdyYXBoRGltZW5zaW9ucy53aWR0aCwgZWdvR3JhcGhWaXMuZ3JhcGhEaW1lbnNpb25zLmhlaWdodF0pKTtcblx0Y29uc29sZS5sb2coY29vcmRpbmF0ZXMoWzAsMF0pKTtcblx0XHRcdC8vIGh0dHA6Ly9ibC5vY2tzLm9yZy9tYm9zdG9jay83ZWM5NzdjOTU5MTBkZDAyNjgxMlxuXHRcdFx0ZWdvR3JhcGhWaXMuZ3JvdXAuY2FsbCh6b29tLmV2ZW50KTtcblxuXHRcdFx0Ly8gUmVjb3JkIHRoZSBjb29yZGluYXRlcyAoaW4gZGF0YSBzcGFjZSkgb2YgdGhlIGNlbnRlciAoaW4gc2NyZWVuIHNwYWNlKS5cblx0XHRcdHZhciBjZW50ZXIwID0gem9vbS5jZW50ZXIoKTtcblx0XHRcdHZhciB0cmFuc2xhdGUwID0gem9vbS50cmFuc2xhdGUoKTtcblx0XHRcdHZhciBjb29yZGluYXRlczAgPSBjb29yZGluYXRlcyhjZW50ZXIwKTtcblx0XHRcdHpvb20uc2NhbGUoem9vbS5zY2FsZSgpICogLjkpO1xuXG5cdFx0XHQvLyBUcmFuc2xhdGUgYmFjayB0byB0aGUgY2VudGVyLlxuXHRcdFx0dmFyIGNlbnRlcjEgPSBwb2ludChjb29yZGluYXRlczApO1xuXHRcdFx0em9vbS50cmFuc2xhdGUoW3RyYW5zbGF0ZTBbMF0gKyBjZW50ZXIwWzBdIC0gY2VudGVyMVswXSwgdHJhbnNsYXRlMFsxXSArIGNlbnRlcjBbMV0gLSBjZW50ZXIxWzFdXSk7XG5cblx0XHRcdGVnb0dyYXBoVmlzLmdyb3VwLnRyYW5zaXRpb24oKS5kdXJhdGlvbig1MDApLmNhbGwoem9vbS5ldmVudCk7XG5cdFx0XHQvLyBlZ29HcmFwaFZpcy5ncm91cC5jYWxsKHpvb20uZXZlbnQpO1xuXHRcdH1cblx0fTtcblxuXHRmdW5jdGlvbiBjb29yZGluYXRlcyhwb2ludCkge1xuXHRcdHZhciBzY2FsZSA9IHpvb20uc2NhbGUoKTtcblx0XHR2YXIgdHJhbnNsYXRlID0gem9vbS50cmFuc2xhdGUoKTtcblx0XHRyZXR1cm4gWyhwb2ludFswXSAtIHRyYW5zbGF0ZVswXSkgLyBzY2FsZSwgKHBvaW50WzFdIC0gdHJhbnNsYXRlWzFdKSAvIHNjYWxlXTtcblx0fVxuXG5cdGZ1bmN0aW9uIHBvaW50KGNvb3JkaW5hdGVzKSB7XG5cdFx0dmFyIHNjYWxlID0gem9vbS5zY2FsZSgpO1xuXHRcdHZhciB0cmFuc2xhdGUgPSB6b29tLnRyYW5zbGF0ZSgpO1xuXHRcdHJldHVybiBbY29vcmRpbmF0ZXNbMF0gKiBzY2FsZSArIHRyYW5zbGF0ZVswXSwgY29vcmRpbmF0ZXNbMV0gKiBzY2FsZSArIHRyYW5zbGF0ZVsxXV07XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0cmVjb3JkKCkge1xuXHRcdHZhciB0ID0gWzMwMCwgNTAxXTtcblx0XHRjb25zb2xlLmxvZygnY29vcmRpbmF0ZXMnKTtcblx0XHRjb25zb2xlLmxvZyh0KTtcblx0XHRjb25zb2xlLmxvZyhjb29yZGluYXRlcyh0KSk7XG5cdGNvbnNvbGUubG9nKGNvb3JkaW5hdGVzKFtlZ29HcmFwaFZpcy5ncmFwaERpbWVuc2lvbnMud2lkdGgsIGVnb0dyYXBoVmlzLmdyYXBoRGltZW5zaW9ucy5oZWlnaHRdKSk7XG5cdH1cblxuXHQkKCBkb2N1bWVudCApLm9uKCBcImFuaW1hdGlvbkZpbmlzaGVkXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHRlc3RyZWNvcmQoKTtcblx0XHRjb25zb2xlLmxvZyh6b29tLnRyYW5zbGF0ZSgpKTtcblx0XHRjb25zb2xlLmxvZyh6b29tLnNjYWxlKCkpO1xuXHR9KTtcblx0dGVzdHJlY29yZCgpO1xuXHRcdFx0Ly8gLy8gUmVjb3JkIHRoZSBjb29yZGluYXRlcyAoaW4gZGF0YSBzcGFjZSkgb2YgdGhlIGNlbnRlciAoaW4gc2NyZWVuIHNwYWNlKS5cblx0XHRcdC8vIHZhciBjZW50ZXIwID0gem9vbS5jZW50ZXIoKTtcblx0XHRcdC8vIHZhciB0cmFuc2xhdGUwID0gem9vbS50cmFuc2xhdGUoKTtcblx0XHRcdC8vIHZhciBjb29yZGluYXRlczAgPSBjb29yZGluYXRlcyhjZW50ZXIwKTtcblx0XHRcdC8vIHpvb20uc2NhbGUoem9vbS5zY2FsZSgpICogLjUpO1xuICAgICAgICAgICAgLy9cblx0XHRcdC8vIC8vIFRyYW5zbGF0ZSBiYWNrIHRvIHRoZSBjZW50ZXIuXG5cdFx0XHQvLyB2YXIgY2VudGVyMSA9IHBvaW50KGNvb3JkaW5hdGVzMCk7XG5cdFx0XHQvLyB6b29tLnRyYW5zbGF0ZShbdHJhbnNsYXRlMFswXSArIGNlbnRlcjBbMF0gLSBjZW50ZXIxWzBdLCB0cmFuc2xhdGUwWzFdICsgY2VudGVyMFsxXSAtIGNlbnRlcjFbMV1dKTtcbiAgICAgICAgICAgIC8vXG5cdFx0XHQvLyAvLyBlZ29HcmFwaFZpcy5ncm91cC50cmFuc2l0aW9uKCkuZHVyYXRpb24oMjAwKS5jYWxsKHpvb20uZXZlbnQpO1xuXHRcdFx0Ly8gZWdvR3JhcGhWaXMuZ3JvdXAuY2FsbCh6b29tLmV2ZW50KTtcblx0XHRcdC8vIHRlc3RyZWNvcmQoKTtcbn0pO1xuXG52YXIgY2l0YXRpb25WaXMgPSBjaXRhdGlvblZpcyB8fCB7fTtcblxuJCggZG9jdW1lbnQgKS5vbiggXCJpbml0Q29tcGxldGVcIiwge2ZvY3VzX2lkOiBmb2N1c19pZH0sIGZ1bmN0aW9uKGV2ZW50KSB7XG5cdC8vIHBhc3MgZm9jdXNfaWQgdGhyb3VnaCB0aGUgZXZlbnQgZGF0YVxuXHR2YXIgZm9jdXNfaWQgPSBldmVudC5kYXRhLmZvY3VzX2lkO1xuXHRmb2N1c19pZCA9IHBhcnNlSW50KGZvY3VzX2lkKVxuXHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzkwMTExNS9ob3ctY2FuLWktZ2V0LXF1ZXJ5LXN0cmluZy12YWx1ZXMtaW4tamF2YXNjcmlwdFxuXHRmdW5jdGlvbiBnZXRQYXJhbWV0ZXJCeU5hbWUobmFtZSwgdXJsKSB7XG5cdFx0aWYgKCF1cmwpIHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuXHRcdG5hbWUgPSBuYW1lLnJlcGxhY2UoL1tcXFtcXF1dL2csIFwiXFxcXCQmXCIpO1xuXHRcdHZhciByZWdleCA9IG5ldyBSZWdFeHAoXCJbPyZdXCIgKyBuYW1lICsgXCIoPShbXiYjXSopfCZ8I3wkKVwiKSxcblx0XHRcdHJlc3VsdHMgPSByZWdleC5leGVjKHVybCk7XG5cdFx0aWYgKCFyZXN1bHRzKSByZXR1cm4gbnVsbDtcblx0XHRpZiAoIXJlc3VsdHNbMl0pIHJldHVybiAnJztcblx0XHRyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdHNbMl0ucmVwbGFjZSgvXFwrL2csIFwiIFwiKSk7XG5cdH1cblx0Ly8gaWYgKGdldFBhcmFtZXRlckJ5TmFtZSgncmN2bXNnJykgPT09IG51bGwpIHJldHVybjsgLy8gYWRkIFwicmN2bXNnPTFcIiB0byB0aGUgVVJMIHF1ZXJ5IHBhcmFtZXRlcnMgdG8gZW5hYmxlIHRoaXMsIG90aGVyd2lzZSBkbyBub3RoaW5nXG5cblx0dmFyIGVnb0dyYXBoVmlzID0gY2l0YXRpb25WaXMuZWdvR3JhcGhWaXM7XG5cblx0Ly8gb3BlbiB0aGUgdGltZWxpbmVWaXMgd2hlbiBjZW50ZXIgbm9kZSBpcyBjbGlja2VkXG5cdGlmICh0eXBlb2YgZm9jdXNfaWQgPT0gJ3VuZGVmaW5lZCcgfHwgIWZvY3VzX2lkKSB7XG5cdFx0dmFyIGZvY3VzX2lkID0gZ2V0UGFyYW1ldGVyQnlOYW1lKCdmb2N1c2lkJyk7XG5cdH1cblx0aWYgKGZvY3VzX2lkKSB7XG5cdFx0JCggJy5jZW50ZXJOb2RlJyApLmNsaWNrKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciB1cmwgPSBGbGFzay51cmxfZm9yKCdnZW5lcmF0ZV9jb2xsZGF0YV9mcm9tX2NvbGxlY3Rpb24nLCB7J2ZvY3VzX2lkJzogZm9jdXNfaWR9KTtcblx0XHRcdHdpbmRvdy5vcGVuKHVybCwgJ19ibGFuaycsICdsb2NhdGlvbj0wJyk7XG5cdFx0fSk7XG5cdH1cblxuXHQkKHdpbmRvdykub24oJ3N0b3JhZ2UnLCBtZXNzYWdlX3JlY2VpdmUpO1xuXG5cdC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI4MjMwODQ1L2NvbW11bmljYXRpb24tYmV0d2Vlbi10YWJzLW9yLXdpbmRvd3Ncblx0Ly8gcmVjZWl2ZSBtZXNzYWdlXG5cdC8vXG5cdGZ1bmN0aW9uIG1lc3NhZ2VfcmVjZWl2ZShldikgXG5cdHtcblx0XHRpZiAoZXYub3JpZ2luYWxFdmVudC5rZXkhPSdtZXNzYWdlJykgcmV0dXJuOyAvLyBpZ25vcmUgb3RoZXIga2V5c1xuXHRcdHZhciBtZXNzYWdlID0gSlNPTi5wYXJzZShldi5vcmlnaW5hbEV2ZW50Lm5ld1ZhbHVlKTtcblx0XHRpZiAoIW1lc3NhZ2UpIHJldHVybjsgLy8gaWdub3JlIGVtcHR5IG1lc3NhZ2Ugb3IgbWVzc2FnZSByZXNldFxuXG5cdFx0Ly8gYWN0IG9uIHRoZSBtZXNzYWdlXG5cdFx0aWYgKG1lc3NhZ2UuY29tbWFuZCA9PSAndGltZWxpbmVWaXM6cGFwZXJJdGVtOm1vdXNlb3ZlcicpIGhpZ2hsaWdodExpbmtlZFBhcGVycyhtZXNzYWdlLmRhdGEucGlkKTtcblx0XHRpZiAobWVzc2FnZS5jb21tYW5kID09ICd0aW1lbGluZVZpczpwYXBlckl0ZW06bW91c2VvdXQnKSBsaW5rZWRQYXBlcnNNb3VzZW91dChtZXNzYWdlLmRhdGEucGlkKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGhpZ2hsaWdodExpbmtlZFBhcGVycyhwYXBlcl9pZCkge1xuXHRcdHZhciBoaWdobGlnaHRlZE5vZGVzID0gW107XG5cblx0XHRkMy5zZWxlY3RBbGwoXCIubm9kZVwiKS5maWx0ZXIoZnVuY3Rpb24oZCkge1xuXHRcdFx0Ly8gcmV0dXJuIGQudGFyZ2V0UGFwZXJJRHMgJiYgZC50YXJnZXRQYXBlcklEcy5pbmRleE9mKHBhcGVyX2lkKSAhPSAtMTtcblx0XHRcdGlmIChkLnRhcmdldFBhcGVySURzICYmIGQudGFyZ2V0UGFwZXJJRHMuaW5kZXhPZihwYXBlcl9pZCkgIT0gLTEpIHtcblx0XHRcdFx0aGlnaGxpZ2h0ZWROb2Rlcy5wdXNoKGQpO1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9KVxuXHRcdC5jbGFzc2VkKFwibGlua2VkVG9UaW1lbGluZVwiLCB0cnVlKTtcblxuXHRcdC8vIGQzLnNlbGVjdEFsbChcIi5saW5rLnRvRWdvXCIpLmZpbHRlcihmdW5jdGlvbihkKSB7XG5cdFx0ZDMuc2VsZWN0QWxsKFwiLmxpbmtcIikuZmlsdGVyKGZ1bmN0aW9uKGQpIHtcblx0XHRcdHJldHVybiBoaWdobGlnaHRlZE5vZGVzLmluZGV4T2YoZC5zb3VyY2UpICE9IC0xO1xuXHRcdH0pXG5cdFx0LmNsYXNzZWQoXCJsaW5rZWRUb1RpbWVsaW5lXCIsIHRydWUpO1xuXHR9XG5cblx0ZnVuY3Rpb24gbGlua2VkUGFwZXJzTW91c2VvdXQocGFwZXJfaWQpIHtcblx0XHQvLyBkMy5zZWxlY3RBbGwoXCIubm9kZVwiKS5maWx0ZXIoZnVuY3Rpb24oZCkge1xuXHRcdC8vIFx0cmV0dXJuIGQudGFyZ2V0UGFwZXJJRHMgJiYgZC50YXJnZXRQYXBlcklEcy5pbmRleE9mKHBhcGVyX2lkKSAhPSAtMTtcblx0XHQvLyB9KVxuXHRcdC8vIC5jbGFzc2VkKFwibGlua2VkVG9UaW1lbGluZVwiLCBmYWxzZSk7XG5cdFx0ZDMuc2VsZWN0QWxsKFwiLmxpbmtlZFRvVGltZWxpbmVcIikuY2xhc3NlZChcImxpbmtlZFRvVGltZWxpbmVcIiwgZmFsc2UpO1xuXHR9XG59KTtcblxuXG5cbnZhciBjaXRhdGlvblZpcyA9IGNpdGF0aW9uVmlzIHx8IHt9O1xuXG5jaXRhdGlvblZpcy5kZWZhdWx0X29wdGlvbnMgPSAoZnVuY3Rpb24oKSB7XG5cdC8vIERpbWVuc2lvbnMgb2YgdGhlIGxhcmdlc3QgcGFydCBvZiB0aGUgdmlzdWFsaXphdGlvbiAodGhlIGdyYXBoKVxuXHR2YXIgZGltZW5zaW9ucyA9IHtcblx0XHR3aWR0aDogOTYwLFxuXHRcdGhlaWdodDogNTAwXG5cdH07XG5cdC8vIERpbWVuc2lvbnMgb2YgdGhlIGxpbmUgY2hhcnRzOlxuXHRkaW1lbnNpb25zLmxpbmVDaGFydCA9IHtcblx0XHRtYXJnaW46IHt0b3A6IDMwLCByaWdodDogMjAsIGJvdHRvbTogMzAsIGxlZnQ6IDUwfVxuXHR9O1xuXHRkaW1lbnNpb25zLmxpbmVDaGFydC53aWR0aCA9IGRpbWVuc2lvbnMud2lkdGggKiAzLzQgLSBkaW1lbnNpb25zLmxpbmVDaGFydC5tYXJnaW4ubGVmdCAtIGRpbWVuc2lvbnMubGluZUNoYXJ0Lm1hcmdpbi5yaWdodDtcblx0ZGltZW5zaW9ucy5saW5lQ2hhcnQuaGVpZ2h0ID0gMTEwIC0gZGltZW5zaW9ucy5saW5lQ2hhcnQubWFyZ2luLnRvcCAtIGRpbWVuc2lvbnMubGluZUNoYXJ0Lm1hcmdpbi5ib3R0b207XG5cblxuXHQvLyBDb2xvcnM6XG5cdC8vIFNlZSBodHRwOi8vY29sb3JicmV3ZXIyLm9yZy8/dHlwZT1xdWFsaXRhdGl2ZSZzY2hlbWU9U2V0MSZuPThcblx0dmFyIGNvbG9yU2NoZW1lID0gWydyZ2IoMjI4LDI2LDI4KScsJ3JnYig1NSwxMjYsMTg0KScsJ3JnYig3NywxNzUsNzQpJyxcblx0XHRcdCdyZ2IoMTUyLDc4LDE2MyknLCdyZ2IoMjU1LDEyNywwKScsJ3JnYigyNTUsMjU1LDUxKScsXG5cdFx0XHQncmdiKDE2Niw4Niw0MCknLCdyZ2IoMjQ3LDEyOSwxOTEpJ107XG5cdC8vIEkgbGlrZWQgdGhlIGJsdWUgYmV0dGVyIGZvciB0aGUgbWFpbiBjb2xvciwgc28gdGhlIG5leHQgbGluZSBqdXN0IG1vdmVzXG5cdC8vIHRoZSBibHVlIGNvbG9yIChvcmlnaW5hbGx5IHNlbGYuY29sb3JTY2hlbWVbMV0pIHRvIHRoZSBmcm9udCAoc2VsZi5jb2xvclNjaGVtZVswXSlcblx0Y29sb3JTY2hlbWUuc3BsaWNlKDAsIDAsIGNvbG9yU2NoZW1lLnNwbGljZSgxLCAxKVswXSk7XG5cblx0dmFyIERFRkFVTFRfT1BUSU9OUyA9IHtcblx0XHRjb2xvclNjaGVtZTogY29sb3JTY2hlbWUsXG5cdFx0ZGltZW5zaW9uczogZGltZW5zaW9uc1xuXHR9O1xuXG5cdHJldHVybiB7XG5cdFx0ZGVmYXVsdHM6IERFRkFVTFRfT1BUSU9OU1xuXHR9O1xufSgpKTtcbnZhciBjaXRhdGlvblZpcyA9IGNpdGF0aW9uVmlzIHx8IHt9O1xuXG5jaXRhdGlvblZpcy5saW5lQ2hhcnREYXRhID0gKGZ1bmN0aW9uKCkge1xuXHQvLyBUYWtlIGluIGdyYXBoIGRhdGEgYW5kIHByZXBhcmUgaXQgZm9yIGxpbmUgY2hhcnRzXG5cdFxuXHRmdW5jdGlvbiBnZXRQZXdDbGFzc1llYXIoZ3JhcGgpIHtcblx0XHR2YXIgZWdvTm9kZSA9IGdyYXBoLm5vZGVzWzBdO1xuXHRcdHJldHVybiBlZ29Ob2RlLnBld19DbGFzcztcblx0fVxuXG5cdGZ1bmN0aW9uIGdldEZ1bmRpbmcoZ3JhcGgpIHtcblx0XHR2YXIgZWdvTm9kZSA9IGdyYXBoLm5vZGVzWzBdO1xuXHRcdHJldHVybiBlZ29Ob2RlLmZ1bmRpbmc7XG5cdH1cblxuXHRmdW5jdGlvbiBjbGVhbkxpbmtzKGxpbmtzKSB7XG5cdFx0dmFyIGNsZWFuZWRMaW5rcyA9IFtdO1xuXHRcdGxpbmtzLmZvckVhY2goZnVuY3Rpb24oZCkge1xuXHRcdFx0aWYgKCAodHlwZW9mIGQubGlua1RvRWdvICE9ICd1bmRlZmluZWQnKSAmJiAoZC5saW5rVG9FZ28gPT09IHRydWUpICkge1xuXHRcdFx0XHR2YXIgc291cmNlWWVhciA9ICtkLnNvdXJjZVllYXI7XG5cdFx0XHRcdHZhciB0YXJnZXRZZWFyID0gK2QudGFyZ2V0WWVhcjtcblx0XHRcdFx0aWYgKCAoc291cmNlWWVhciA+IDApICYmICh0YXJnZXRZZWFyID4gMCkgJiYgKHNvdXJjZVllYXIgPj0gdGFyZ2V0WWVhcikgKSB7XG5cdFx0XHRcdFx0Y2xlYW5lZExpbmtzLnB1c2goZCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0XHRyZXR1cm4gY2xlYW5lZExpbmtzO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0WWVhclJhbmdlKGNsZWFuZWRMaW5rcykge1xuXHRcdC8vIE1ha2Ugc3VyZSBhbGwgb3VyIGRhdGEgZmFsbCB3aXRoaW4gdGhlIGFwcHJvcHJpYXRlIHRpbWUgc3Bhbi5cblx0XHQvLyBUaGUgbWluaW11bSB5ZWFyIGlzIHRoZSBlYXJsaWVzdCBwdWJsaWNhdGlvbiBieSB0aGUgZWdvIGF1dGhvciAodGhlcmUgd2lsbCBsaWtlbHkgYmUgbm8gY2l0YXRpb25zIHdpdGhpbiB0aGlzIHllYXIsIGJ1dCB0aGlzIGNoYXJ0IG5lZWRzIHRvIGxpbmUgdXAgd2l0aCB0aGUgb3RoZXIgY2hhcnRzKS5cblx0XHQvLyBUaGUgbWF4aW11bSB5ZWFyIGlzIHRoZSBsYXN0IHllYXIgdGhhdCBhIHBhcGVyIGNpdGVkIG9uZSBvZiB0aGUgZWdvIGF1dGhvcidzIHBhcGVyIChjaGVja2luZyB0byBtYWtlIHN1cmUgaXQgaXMgbm90IGluIHRoZSBmdXR1cmUsIHdoaWNoIHdvdWxkIG1lYW4gYmFkIGRhdGEpLlxuXHRcdHZhciBtaW5ZZWFyID0gZDMubWluKGNsZWFuZWRMaW5rcywgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC50YXJnZXRZZWFyPjAgPyBkLnRhcmdldFllYXIgOiBudWxsOyB9KTtcblx0XHQvLyBHZXQgY3VycmVudCB5ZWFyICh1c2luZyB0b2RheSdzIGRhdGUpOlxuXHRcdHZhciB0b2RheVllYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCk7XG5cdFx0dmFyIG1heFllYXIgPSBkMy5tYXgoY2xlYW5lZExpbmtzLCBmdW5jdGlvbihkKSB7IHJldHVybiBkLnNvdXJjZVllYXI8PXRvZGF5WWVhciA/IGQuc291cmNlWWVhciA6IG51bGw7IH0pO1xuXG5cdFx0Ly8gLy8gY3V0b2ZmIGF0IDIwMTVcblx0XHQvLyBtYXhZZWFyID0gTWF0aC5taW4obWF4WWVhciwgMjAxNSk7XG5cdFx0Ly8gY3V0IG9mZiBhdCAyMDE3XG5cdFx0bWF4WWVhciA9IE1hdGgubWluKG1heFllYXIsIDIwMTcpO1xuXG5cdFx0cmV0dXJuIFttaW5ZZWFyLCBtYXhZZWFyXTtcblx0fVxuXG5cdGZ1bmN0aW9uIGdldEVtcHR5Q291bnREYXRhKHllYXJSYW5nZSkge1xuXHRcdHZhciBlbXB0eUNvdW50RGF0YSA9IFtdO1xuXHRcdGZvciAodmFyIGk9eWVhclJhbmdlWzBdOyBpPD15ZWFyUmFuZ2VbMV07IGkrKykge1xuXHRcdFx0ZW1wdHlDb3VudERhdGEucHVzaCh7eWVhcjogaSwgY291bnQ6IDB9KTtcblx0XHR9XG5cdFx0cmV0dXJuIGVtcHR5Q291bnREYXRhO1xuXHR9XG5cblx0ZnVuY3Rpb24gcHJlcGFyZURhdGFfYWxsQ2l0YXRpb25zKGdyYXBoKSB7XG5cdFx0Ly8gdmFyIGRhdGEgPSB7fTtcblx0XHR2YXIgZGF0YSA9IHt9O1xuXHRcdGRhdGFbJ3Bld19DbGFzcyddID0gZ2V0UGV3Q2xhc3NZZWFyKGdyYXBoKTtcblx0XHRkYXRhWydmdW5kaW5nJ10gPSBnZXRGdW5kaW5nKGdyYXBoKTtcblx0XHRkYXRhWyd2YWx1ZXMnXSA9IFtdO1xuXG5cdFx0dmFyIGNsZWFuZWRMaW5rcyA9IGNsZWFuTGlua3MoZ3JhcGgubGlua3MpO1xuXHRcdHZhciB5ZWFyUmFuZ2UgPSBnZXRZZWFyUmFuZ2UoY2xlYW5lZExpbmtzKTtcblx0XHRjbGVhbmVkTGlua3MgPSBjbGVhbmVkTGlua3MuZmlsdGVyKGZ1bmN0aW9uKGQpIHtcblx0XHRcdHJldHVybiBkLnNvdXJjZVllYXIgPD0geWVhclJhbmdlWzFdICYmIGQudGFyZ2V0WWVhciA8PSB5ZWFyUmFuZ2VbMV07XG5cdFx0fSk7XG5cblx0XHQvLyBmb3IgKHZhciBpPXllYXJSYW5nZVswXTsgaTw9eWVhclJhbmdlWzFdOyBpKyspIHtcblx0XHQvLyBcdC8vIGRhdGFbaV0gPSAwO1xuXHRcdC8vIFx0ZGF0YS5wdXNoKHt5ZWFyOiBpLCBjb3VudDogMH0pO1xuXHRcdC8vIH1cblx0XHQvLyBjbGVhbmVkTGlua3MuZm9yRWFjaChmdW5jdGlvbihkKSB7XG5cdFx0Ly8gXHRkYXRhW2Quc291cmNlWWVhcl0rKztcblx0XHQvLyB9KTtcblx0XHRkYXRhLnZhbHVlcyA9IGdldEVtcHR5Q291bnREYXRhKHllYXJSYW5nZSk7XG5cdFx0Y2xlYW5lZExpbmtzLmZvckVhY2goZnVuY3Rpb24oZCkge1xuXHRcdFx0dmFyIHRoaXNTb3VyY2VZZWFyID0gZC5zb3VyY2VZZWFyO1xuXHRcdFx0dmFyIGRhdGFUaGlzWWVhciA9IGRhdGEudmFsdWVzLmZpbHRlcihmdW5jdGlvbihkZCkgeyByZXR1cm4gZGQueWVhcj09PXRoaXNTb3VyY2VZZWFyOyB9KVswXTtcblx0XHRcdGRhdGFUaGlzWWVhci5jb3VudCsrO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIGRhdGE7XG5cdH1cblxuXHRmdW5jdGlvbiBwcmVwYXJlRGF0YV9lZ29BdXRob3JQdWJsaWNhdGlvbnMoZ3JhcGgpIHtcblx0XHR2YXIgZGF0YSA9IHt9O1xuXHRcdGRhdGFbJ3Bld19DbGFzcyddID0gZ2V0UGV3Q2xhc3NZZWFyKGdyYXBoKTtcblx0XHRkYXRhWydmdW5kaW5nJ10gPSBnZXRGdW5kaW5nKGdyYXBoKTtcblx0XHRkYXRhWyd2YWx1ZXMnXSA9IFtdO1xuXG5cdFx0dmFyIGNsZWFuZWRMaW5rcyA9IGNsZWFuTGlua3MoZ3JhcGgubGlua3MpO1xuXHRcdHZhciB5ZWFyUmFuZ2UgPSBnZXRZZWFyUmFuZ2UoY2xlYW5lZExpbmtzKTtcblx0XHRkYXRhLnZhbHVlcyA9IGdldEVtcHR5Q291bnREYXRhKHllYXJSYW5nZSk7XG5cdFx0dmFyIGVnb1BhcGVycyA9IGdyYXBoLm5vZGVzWzBdLnBhcGVycztcblx0XHRlZ29QYXBlcnMgPSBlZ29QYXBlcnMuZmlsdGVyKGZ1bmN0aW9uKGQpIHtcblx0XHRcdHJldHVybiAoIChkLlllYXIgPj0geWVhclJhbmdlWzBdKSAmJiAoZC5ZZWFyIDw9IHllYXJSYW5nZVsxXSkgKTtcblx0XHR9KVxuXHRcdGVnb1BhcGVycy5mb3JFYWNoKGZ1bmN0aW9uKGQpIHtcblx0XHRcdHZhciBkYXRhVGhpc1llYXIgPSBkYXRhLnZhbHVlcy5maWx0ZXIoZnVuY3Rpb24oZGQpIHsgcmV0dXJuIGRkLnllYXI9PWQuWWVhcjsgfSlbMF07XG5cdFx0XHRkYXRhVGhpc1llYXIuY291bnQrKztcblx0XHR9KTtcblxuXHRcdHJldHVybiBkYXRhO1xuXHR9XG5cblx0ZnVuY3Rpb24gcHJlcGFyZURhdGFfYXV0aG9yRWlnZW5mYWN0b3JTdW0oZ3JhcGgpIHtcblx0XHQvLyBGb3IgZWFjaCB5ZWFyLCBzdW0gdGhlIGVpZ2VuZmFjdG9yIChFRikgb2YgdGhlIGVnbyBhdXRob3IncyBwYXBlcidzXG5cdFx0dmFyIGRhdGEgPSB7fTtcblx0XHRkYXRhWydwZXdfQ2xhc3MnXSA9IGdldFBld0NsYXNzWWVhcihncmFwaCk7XG5cdFx0ZGF0YVsnZnVuZGluZyddID0gZ2V0RnVuZGluZyhncmFwaCk7XG5cdFx0ZGF0YVsndmFsdWVzJ10gPSBbXTtcblxuXHRcdHZhciBjbGVhbmVkTGlua3MgPSBjbGVhbkxpbmtzKGdyYXBoLmxpbmtzKTtcblx0XHR2YXIgeWVhclJhbmdlID0gZ2V0WWVhclJhbmdlKGNsZWFuZWRMaW5rcyk7XG5cdFx0ZGF0YS52YWx1ZXMgPSBnZXRFbXB0eUNvdW50RGF0YSh5ZWFyUmFuZ2UpO1xuXHRcdHZhciBlZ29QYXBlcnMgPSBncmFwaC5ub2Rlc1swXS5wYXBlcnM7XG5cdFx0ZWdvUGFwZXJzID0gZWdvUGFwZXJzLmZpbHRlcihmdW5jdGlvbihkKSB7XG5cdFx0XHRyZXR1cm4gKCAoZC5ZZWFyID49IHllYXJSYW5nZVswXSkgJiYgKGQuWWVhciA8PSB5ZWFyUmFuZ2VbMV0pICk7XG5cdFx0fSlcblx0XHRlZ29QYXBlcnMuZm9yRWFjaChmdW5jdGlvbihkKSB7XG5cdFx0XHR2YXIgZGF0YVRoaXNZZWFyID0gZGF0YS52YWx1ZXMuZmlsdGVyKGZ1bmN0aW9uKGRkKSB7IHJldHVybiBkZC55ZWFyPT1kLlllYXI7IH0pWzBdO1xuXHRcdFx0ZGF0YVRoaXNZZWFyLmNvdW50ID0gZGF0YVRoaXNZZWFyLmNvdW50ICsgZC5FRjtcblx0XHR9KTtcblxuXHRcdHJldHVybiBkYXRhO1xuXHR9XG5cblx0cmV0dXJuIHtcblx0XHRwcmVwYXJlRGF0YV9hbGxDaXRhdGlvbnM6IHByZXBhcmVEYXRhX2FsbENpdGF0aW9ucyxcblx0XHRwcmVwYXJlRGF0YV9lZ29BdXRob3JQdWJsaWNhdGlvbnM6IHByZXBhcmVEYXRhX2Vnb0F1dGhvclB1YmxpY2F0aW9ucyxcblx0XHRwcmVwYXJlRGF0YV9hdXRob3JFaWdlbmZhY3RvclN1bTogcHJlcGFyZURhdGFfYXV0aG9yRWlnZW5mYWN0b3JTdW1cblx0fTtcbn0oKSk7XG5cblxudmFyIGNpdGF0aW9uVmlzID0gY2l0YXRpb25WaXMgfHwge307XG5cbi8vICQoIGRvY3VtZW50ICkub24oIFwiaW5pdENvbXBsZXRlXCIsIGZ1bmN0aW9uKCkge1xuLy8gXHR2YXIgZWdvR3JhcGhWaXMgPSBjaXRhdGlvblZpcy5lZ29HcmFwaFZpcztcbi8vXG4vLyBcdHZhciAkbGVnZW5kVG9nZ2xlQnV0dG9uID0gJCgnPGlucHV0IHR5cGU9XCJidXR0b25cIiB2YWx1ZT1cIlRvZ2dsZSBMZWdlbmRcIiAvPicpO1xuLy8gXHQkbGVnZW5kVG9nZ2xlQnV0dG9uLmRhdGEoJ3ZhbCcsIDApO1xuLy8gXHR2YXIgbWF4VmFsID0gMztcbi8vXG4vLyBcdCQoJyNtYWluRGl2JykucHJlcGVuZCgkbGVnZW5kVG9nZ2xlQnV0dG9uKTtcbi8vXG4vLyBcdCRsZWdlbmRUb2dnbGVCdXR0b24ub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4vLyBcdFx0dmFyIGN1clZhbCA9ICRsZWdlbmRUb2dnbGVCdXR0b24uZGF0YSgndmFsJyk7XG4vLyBcdFx0Y3VyVmFsKys7XG4vLyBcdFx0aWYgKGN1clZhbCA+IG1heFZhbCkge1xuLy8gXHRcdFx0Y3VyVmFsID0gMDtcbi8vIFx0XHR9XG4vLyBcdFx0JGxlZ2VuZFRvZ2dsZUJ1dHRvbi5kYXRhKCd2YWwnLCBjdXJWYWwpO1xuLy8gXHRcdHN3aXRjaCAoY3VyVmFsKSB7XG4vLyBcdFx0XHRjYXNlIDA6XG4vLyBcdFx0XHRcdGVnb0dyYXBoVmlzLmxlZ2VuZC5yZW1vdmUoKTtcbi8vIFx0XHRcdFx0ZWdvR3JhcGhWaXMubGVnZW5kSW5pdCgpXG4vLyBcdFx0XHRcdFxuLy8gXHRcdFx0XHRicmVhaztcbi8vIFx0XHRcdFxuLy8gXHRcdFx0Y2FzZSAxOlxuLy8gXHRcdFx0XHRlZ29HcmFwaFZpcy5sZWdlbmRUZXh0XG4vLyBcdFx0XHRcdFx0LnRleHQoZnVuY3Rpb24oZCkge1xuLy8gXHRcdFx0XHRcdFx0dmFyIGlkeCA9ICtkLmtleTtcbi8vIFx0XHRcdFx0XHRcdHZhciBuZXdUZXh0ID0gZWdvR3JhcGhWaXMuZGF0YS5ncmFwaC5mb3Nfa21lYW5zX2NhdGVnb3JpZXNfdG9wZm9zbmFtZXNfdGZpZGZbaWR4XTtcbi8vIFx0XHRcdFx0XHRcdHJldHVybiBuZXdUZXh0O1xuLy8gXHRcdFx0XHRcdH0pO1xuLy9cbi8vIFx0XHRcdFx0YnJlYWs7XG4vL1xuLy8gXHRcdFx0Y2FzZSAyOlxuLy8gXHRcdFx0XHRlZ29HcmFwaFZpcy5sZWdlbmRUZXh0XG4vLyBcdFx0XHRcdFx0LnRleHQoZnVuY3Rpb24oZCkge1xuLy8gXHRcdFx0XHRcdFx0dmFyIGlkeCA9ICtkLmtleTtcbi8vIFx0XHRcdFx0XHRcdHZhciBuZXdUZXh0ID0gZWdvR3JhcGhWaXMuZGF0YS5ncmFwaC5mb3Nfa21lYW5zX2NhdGVnb3JpZXNfdG9wdGl0bGV3b3Jkc190ZmlkZltpZHhdO1xuLy8gXHRcdFx0XHRcdFx0cmV0dXJuIG5ld1RleHQ7XG4vLyBcdFx0XHRcdFx0fSk7XG4vL1xuLy8gXHRcdFx0XHRicmVhaztcbi8vXG4vLyBcdFx0XHRjYXNlIDM6XG4vLyBcdFx0XHRcdGVnb0dyYXBoVmlzLmxlZ2VuZFRleHRcbi8vIFx0XHRcdFx0XHQudGV4dChmdW5jdGlvbihkKSB7XG4vLyBcdFx0XHRcdFx0XHR2YXIgaWR4ID0gK2Qua2V5O1xuLy8gXHRcdFx0XHRcdFx0dmFyIG5ld1RleHQgPSBlZ29HcmFwaFZpcy5kYXRhLmdyYXBoLmZvc19rbWVhbnNfY2F0ZWdvcmllc190b3B0aXRsZXdvcmRzX3RmaWRmX3Jlc3RyaWN0ZWRbaWR4XTtcbi8vIFx0XHRcdFx0XHRcdHJldHVybiBuZXdUZXh0O1xuLy8gXHRcdFx0XHRcdH0pO1xuLy9cbi8vIFx0XHRcdFx0YnJlYWs7XG4vLyBcdFx0fVxuLy8gXHR9KTtcbi8vIFx0Ly8gZWdvR3JhcGhWaXMubGVnZW5kVGV4dFxuLy8gXHQvLyBcdC50ZXh0KCdkZGQnKTtcbi8vIH0pO1xuLy9cbi8vXG4vLyBodHRwOi8vY29kZXJldmlldy5zdGFja2V4Y2hhbmdlLmNvbS9xdWVzdGlvbnMvNzc2MTQvY2FwaXRhbGl6ZS10aGUtZmlyc3QtY2hhcmFjdGVyLW9mLWFsbC13b3Jkcy1ldmVuLXdoZW4tZm9sbG93aW5nLWFcblN0cmluZy5wcm90b3R5cGUuY2FwaXRhbGl6ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvTG93ZXJDYXNlKCkucmVwbGFjZSggL1xcYlxcdy9nLCBmdW5jdGlvbihtKSB7XG4gICAgICAgIHJldHVybiBtLnRvVXBwZXJDYXNlKCk7XG4gICAgfSk7XG59O1xuXG5cbnZhciBjaXRhdGlvblZpcyA9IGNpdGF0aW9uVmlzIHx8IHt9O1xuXG5mdW5jdGlvbiBtYWtlSHRtbCh5ZWFyLCBwYXBlcnMsIG51bURpc3BsYXksIGNhbGxiYWNrKSB7XG5cdGlmIChwYXBlcnNbMF0uaGFzT3duUHJvcGVydHkoJ2NpdGF0aW9uJykpIHtcblx0XHR2YXIgdG9vbHRpcEh0bWwgPSAnPGgzIHN0eWxlPVwiZm9udC1zaXplOiAxMDAlXCI+VG9wIHBhcGVycyBpbiB0aGlzIGNvbGxlY3Rpb24gaW4gJyArIHllYXIgKyc6PC9oMz4nO1xuXHRcdHRvb2x0aXBIdG1sID0gdG9vbHRpcEh0bWwgKyAnPG9sPic7XG5cdFx0dmFyIG51bVBhcGVyc0FkZGVkID0gMDtcblx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gcGFwZXJzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHR2YXIgcGFwZXIgPSBwYXBlcnNbaV07XG5cdFx0XHRpZiAocGFwZXIuaGFzT3duUHJvcGVydHkoJ2NpdGF0aW9uJykpIHtcblx0XHRcdFx0dG9vbHRpcEh0bWwgPSB0b29sdGlwSHRtbCArICc8bGk+JyArIHBhcGVyWydjaXRhdGlvbiddICsgJzwvbGk+Jztcblx0XHRcdFx0bnVtUGFwZXJzQWRkZWQrKztcblx0XHRcdFx0aWYgKG51bVBhcGVyc0FkZGVkID09PSBudW1EaXNwbGF5KSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0dG9vbHRpcEh0bWwgPSB0b29sdGlwSHRtbCArICc8L29sPic7XG5cblx0XHRjaXRhdGlvblZpcy5lZ29HcmFwaFZpcy50b29sdGlwID0gY2l0YXRpb25WaXMuZWdvR3JhcGhWaXMudG9vbHRpcC5odG1sKHRvb2x0aXBIdG1sKTtcblx0XHRpZiAoY2FsbGJhY2sgIT0gbnVsbCkge1xuXHRcdFx0Y2FsbGJhY2sodG9vbHRpcEh0bWwpO1xuXHRcdH1cblx0XHRyZXR1cm4gdG9vbHRpcEh0bWw7XG5cblx0fSBlbHNlIHtcblx0XHR2YXIgcGlkcyA9IFtdO1xuXHRcdGZvciAodmFyIGkgPSAwLCBsZW4gPSBudW1EaXNwbGF5OyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGlmIChpIDwgcGFwZXJzLmxlbmd0aCkge1xuXHRcdFx0XHRwaWRzLnB1c2gocGFwZXJzW2ldLlBhcGVySUQpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHQkLmFqYXgoe1xuXHRcdFx0ZGF0YVR5cGU6ICdqc29uJyxcblx0XHRcdHVybDogJFNDUklQVF9ST09UICsgJy9fdmlzX2dldF9tb3JlX3BhcGVyaW5mbycsXG5cdFx0XHRkYXRhOiB7cGFwZXJpZDogSlNPTi5zdHJpbmdpZnkocGlkcyl9LFxuXHRcdFx0c3VjY2VzczogZnVuY3Rpb24ocmVzdWx0KSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKHJlc3VsdCk7XG5cdFx0XHRcdHZhciBkYl9wYXBlcnMgPSByZXN1bHRbJ3BhcGVycyddO1xuXHRcdFx0XHR2YXIgdG9vbHRpcEh0bWwgPSAnPGgzIHN0eWxlPVwiZm9udC1zaXplOiAxMDAlXCI+VG9wIHBhcGVycyBpbiB0aGlzIGNvbGxlY3Rpb24gaW4gJyArIHllYXIgKyc6PC9oMz4nO1xuXHRcdFx0XHR0b29sdGlwSHRtbCA9IHRvb2x0aXBIdG1sICsgJzxvbD4nO1xuXHRcdFx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gZGJfcGFwZXJzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRcdFx0cGFwZXJzW2ldWydjaXRhdGlvbiddID0gZGJfcGFwZXJzW2ldWydjaXRhdGlvbiddO1xuXHRcdFx0XHRcdHRvb2x0aXBIdG1sID0gdG9vbHRpcEh0bWwgKyAnPGxpPicgKyBwYXBlcnNbaV1bJ2NpdGF0aW9uJ10gKyAnPC9saT4nO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRvb2x0aXBIdG1sID0gdG9vbHRpcEh0bWwgKyAnPC9vbD4nO1xuXG5cdFx0XHRcdGNpdGF0aW9uVmlzLmVnb0dyYXBoVmlzLnRvb2x0aXAgPSBjaXRhdGlvblZpcy5lZ29HcmFwaFZpcy50b29sdGlwLmh0bWwodG9vbHRpcEh0bWwpO1xuXHRcdFx0XHRpZiAoY2FsbGJhY2sgIT0gbnVsbCkge1xuXHRcdFx0XHRcdGNhbGxiYWNrKHRvb2x0aXBIdG1sKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdG9vbHRpcEh0bWw7XG5cblx0XHRcdFx0Lypcblx0XHRcdFx0ZC5UaXRsZSA9IHJlc3VsdFsndGl0bGUnXTtcblx0XHRcdFx0ZC5kb2kgPSByZXN1bHRbJ2RvaSddO1xuXHRcdFx0XHRkLmNpdGF0aW9uID0gcmVzdWx0WydjaXRhdGlvbiddO1xuXHRcdFx0XHRkLnVwZGF0ZWRQcm9wcyA9IHRydWU7XG5cdFx0XHRcdGQudG9vbHRpcEh0bWwgPSAnPHA+JyArIGQuY2l0YXRpb24gKyAnPC9wPic7XG5cdFx0XHRcdGQudG9vbHRpcEh0bWwgPSBkLnRvb2x0aXBIdG1sICsgJzxicj4nO1xuXHRcdFx0XHRkLnRvb2x0aXBIdG1sID0gZC50b29sdGlwSHRtbCArICc8cD5DYXRlZ29yeTogJyArIGQuRG9tYWluTmFtZSArICc8L3A+Jztcblx0XHRcdFx0aWYgKGQuaG92ZXJlZCkge1xuXHRcdFx0XHRcdHNlbGYudGlwLnNob3coZCwgaG92ZXJlZEl0ZW0ubm9kZSgpKTtcblx0XHRcdFx0XHQvLyBzZWxmLnRpcC5zaG93KGQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdCovXG5cblx0XHRcdH1cblx0XHR9KTtcblx0fSAgLy8gZW5kIGVsc2VcblxuXG59XG5cbi8qXG4kKCBkb2N1bWVudCApLm9uKCBcImluaXRDb21wbGV0ZVwiLCBmdW5jdGlvbigpIHtcblx0dmFyIGxpbmVDaGFydHMgPSBjaXRhdGlvblZpcy5saW5lQ2hhcnRzO1xuXHR2YXIgZWdvR3JhcGhWaXMgPSBjaXRhdGlvblZpcy5lZ29HcmFwaFZpcztcblx0dmFyIGVnb1BhcGVycyA9IGNpdGF0aW9uVmlzLmVnb0dyYXBoVmlzLmVnb05vZGUucGFwZXJzO1xuXHRmb3IgKHZhciBpID0gMCwgbGVuID0gbGluZUNoYXJ0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdHZhciB5ZWFyQXJlYSA9IGxpbmVDaGFydHNbaV0ueWVhckFyZWE7XG5cdFx0eWVhckFyZWEuc3R5bGUoJ3BvaW50ZXItZXZlbnRzJywgJ2FsbCcpXG5cdFx0XHQub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKGQpIHtcblx0XHRcdFx0dmFyIHRoaXNZZWFyUGFwZXJzID0gZWdvUGFwZXJzLmZpbHRlcihmdW5jdGlvbihkZCkge1xuXHRcdFx0XHRcdHJldHVybiBkZC5ZZWFyPT1kLnllYXI7fVxuXHRcdFx0XHRcdClcblx0XHRcdFx0XHQuc29ydChmdW5jdGlvbihhLCBiKSB7IHJldHVybiBkMy5kZXNjZW5kaW5nKGEuRUYsIGIuRUYpOyB9KTtcblx0XHRcdFx0Y29uc29sZS5sb2codGhpc1llYXJQYXBlcnMpO1xuXHRcdFx0XHRpZiAodGhpc1llYXJQYXBlcnMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNpdGF0aW9uVmlzLmVnb0dyYXBoVmlzLnRvb2x0aXAgPSBjaXRhdGlvblZpcy5lZ29HcmFwaFZpcy50b29sdGlwXG5cdFx0XHRcdFx0Lmh0bWwoJzxwPkxvYWRpbmcuLi48L3A+Jylcblx0XHRcdFx0XHQuc3R5bGUoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpXG5cdFx0XHRcdFx0LnN0eWxlKCdib3JkZXItc3R5bGUnLCAnc29saWQnKVxuXHRcdFx0XHRcdC5zdHlsZSgnYm9yZGVyLWNvbG9yJywgY2l0YXRpb25WaXMuZWdvR3JhcGhWaXMuY29sb3JTY2hlbWVbMF0pXG5cdFx0XHRcdFx0LnN0eWxlKCd0b3AnLCAoZDMuZXZlbnQucGFnZVktMjAwKSsncHgnKVxuXHRcdFx0XHRcdC5zdHlsZSgnbGVmdCcsIChkMy5ldmVudC5wYWdlWCsxMCkrJ3B4Jyk7XG5cdFx0XHRcdHZhciB0b29sdGlwSHRtbCA9IG1ha2VIdG1sKGQueWVhciwgdGhpc1llYXJQYXBlcnMsIDMpO1xuXHRcdFx0XHR9KVxuXHRcdFx0Lm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRjaXRhdGlvblZpcy5lZ29HcmFwaFZpcy50b29sdGlwID0gY2l0YXRpb25WaXMuZWdvR3JhcGhWaXMudG9vbHRpcFxuXHRcdFx0XHRcdC5zdHlsZSgndmlzaWJpbGl0eScsICdoaWRkZW4nKTtcblx0XHRcdH0pO1xuXHR9XG5cbn0pO1xuKi9cblxuXG4vLyB0b29sdGlwc3RlciBtZXRob2RcbiQoIGRvY3VtZW50ICkub24oICdpbml0Q29tcGxldGUnLCBmdW5jdGlvbigpIHtcblx0dmFyIHdpbmRvd1dpZHRoID0gJCh3aW5kb3cpLndpZHRoKCk7XG5cblx0bm9kZVRvb2x0aXBzKCk7XG5cdGxlZ2VuZFRvb2x0aXBzKCk7XG5cblx0JCgnLnllYXJBcmVhLCAueWVhclRpY2snKS5jc3MoJ3BvaW50ZXItZXZlbnRzJywgJ2FsbCcpXG5cdFx0LnRvb2x0aXBzdGVyKHtcblx0XHRcdHRoZW1lOiAndG9vbHRpcHN0ZXItbm9pcicsXG5cdFx0XHRtYXhXaWR0aDogd2luZG93V2lkdGggKiAuNSxcblx0XHRcdGFuaW1hdGlvbjogbnVsbCxcblx0XHRcdGFuaW1hdGlvbmR1cmF0aW9uOiAwLFxuXHRcdFx0ZGVsYXk6IDAsXG5cdFx0XHR1cGRhdGVBbmltYXRpb246IG51bGwsXG5cdFx0XHRjb250ZW50OiAnPHA+TG9hZGluZy4uLjwvcD4nLFxuXHRcdFx0Y29udGVudEFzSFRNTDogdHJ1ZSxcblx0XHRcdGZ1bmN0aW9uSW5pdDogZnVuY3Rpb24oKSB7Y29uc29sZS5sb2coJ3Rvb2x0aXBzdGVyIGluaXQnKTt9LFxuXHRcdFx0ZnVuY3Rpb25CZWZvcmU6IGZ1bmN0aW9uKGluc3RhbmNlLCBoZWxwZXIpIHtcblx0XHRcdFx0dmFyICRvcmlnaW4gPSAkKGhlbHBlci5vcmlnaW4pO1xuXHRcdFx0XHR2YXIgeWVhciA9ICRvcmlnaW4uZGF0YSgneWVhcicpO1xuXHRcdFx0XHR2YXIgZWdvUGFwZXJzID0gY2l0YXRpb25WaXMuZWdvR3JhcGhWaXMuZWdvTm9kZS5wYXBlcnM7XG5cdFx0XHRcdHZhciB0aGlzWWVhclBhcGVycyA9IGVnb1BhcGVycy5maWx0ZXIoZnVuY3Rpb24oZGQpIHtcblx0XHRcdFx0XHRyZXR1cm4gZGQuWWVhcj09eWVhcjt9XG5cdFx0XHRcdFx0KVxuXHRcdFx0XHRcdC5zb3J0KGZ1bmN0aW9uKGEsIGIpIHsgcmV0dXJuIGQzLmRlc2NlbmRpbmcoYS5FRiwgYi5FRik7IH0pO1xuXHRcdFx0XHRpZiAodGhpc1llYXJQYXBlcnMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHZhciB0b29sdGlwSHRtbCA9IG1ha2VIdG1sKHllYXIsIHRoaXNZZWFyUGFwZXJzLCAzLCBmdW5jdGlvbihodG1sKSB7XG5cdFx0XHRcdFx0aW5zdGFuY2UuY29udGVudChodG1sKTsgXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHQvLyBpbnN0YW5jZS5jb250ZW50KHRvb2x0aXBIdG1sKTtcblx0XHRcdH1cblx0fSk7XG59ICk7XG5cbmZ1bmN0aW9uIG5vZGVUb29sdGlwcygpIHtcblx0Ly8gJCgnLmQzLXRpcCcpLnJlbW92ZSgpO1xuXHQkKCcubm9kZScpLmFkZENsYXNzKCd0b29sdGlwc3RlcicpO1xuXHQvLyAkKCcubm9kZScpLmZpcnN0KCkuYWRkQ2xhc3MoJ2NlbnRlci1ub2RlJyk7XG5cdHZhciB3aW5kb3dXaWR0aCA9ICQod2luZG93KS53aWR0aCgpO1xuXHQkKCcudG9vbHRpcHN0ZXInKS50b29sdGlwc3Rlcih7XG5cdFx0dGhlbWU6ICd0b29sdGlwc3Rlci1ub2lyJyxcblx0XHRtYXhXaWR0aDogd2luZG93V2lkdGggKiAuNSxcblx0XHRhbmltYXRpb246IG51bGwsXG5cdFx0YW5pbWF0aW9uZHVyYXRpb246IDAsXG5cdFx0ZGVsYXk6IDAsXG5cdFx0dXBkYXRlQW5pbWF0aW9uOiBudWxsLFxuXHRcdGNvbnRlbnQ6ICc8cD5Mb2FkaW5nLi4uPC9wPicsXG5cdFx0Y29udGVudEFzSFRNTDogdHJ1ZSxcblx0XHRmdW5jdGlvbkJlZm9yZTogZnVuY3Rpb24oaW5zdGFuY2UsIGhlbHBlcikge1xuXHRcdFx0dmFyIHRvb2x0aXBIdG1sID0gYWpheFBhcGVySW5mbyhoZWxwZXIub3JpZ2luLCBmdW5jdGlvbihodG1sKSB7XG5cdFx0XHRcdGluc3RhbmNlLmNvbnRlbnQoaHRtbCk7IFxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9KTtcblxuXHRmdW5jdGlvbiBhamF4UGFwZXJJbmZvKG5vZGUsIGNhbGxiYWNrKSB7XG5cdFx0Ly8gbm9kZSBpcyB0aGUgRE9NIGVsZW1lbnQgZm9yIGEgbm9kZVxuXHRcdHZhciBodG1sID0gJyc7XG5cdFx0ZDMuc2VsZWN0KG5vZGUpLmVhY2goZnVuY3Rpb24oZCkge1xuXHRcdFx0aWYgKCAoZC5ub2RlVHlwZSA9PT0gJ3BhcGVyJykgJiYgKCFkLnVwZGF0ZWRQcm9wcykgKSB7XG5cdFx0XHRcdGlmICggKHR5cGVvZiBkLmNpdGF0aW9uICE9IFwidW5kZWZpbmVkXCIpICYmIChkLmNpdGF0aW9uLmxlbmd0aD4wKSApIHtcblx0XHRcdFx0XHRodG1sID0gYnlwYXNzQWpheChkKTtcblx0XHRcdFx0XHRpZiAoY2FsbGJhY2sgIT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2soaHRtbCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBodG1sXG5cdFx0XHRcdH1cblx0XHRcdFx0JC5hamF4KHtcblx0XHRcdFx0XHRkYXRhVHlwZTogJ2pzb24nLFxuXHRcdFx0XHRcdHVybDogJFNDUklQVF9ST09UICsgJy9fdmlzX2dldF9tb3JlX3BhcGVyaW5mbycsXG5cdFx0XHRcdFx0ZGF0YToge3BhcGVyaWQ6IGQuaWR9LFxuXHRcdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3VsdCkge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2cocmVzdWx0KTtcblx0XHRcdFx0XHRcdGQuVGl0bGUgPSByZXN1bHRbJ3RpdGxlJ107XG5cdFx0XHRcdFx0XHRkLmRvaSA9IHJlc3VsdFsnZG9pJ107XG5cdFx0XHRcdFx0XHRkLmNpdGF0aW9uID0gcmVzdWx0WydjaXRhdGlvbiddO1xuXHRcdFx0XHRcdFx0ZC5hdXRob3Jfc3RyID0gcmVzdWx0WydhdXRob3Jfc3RyJ107XG5cdFx0XHRcdFx0XHRkLnZlbnVlID0gcmVzdWx0Wyd2ZW51ZSddO1xuXHRcdFx0XHRcdFx0ZC51cGRhdGVkUHJvcHMgPSB0cnVlO1xuXHRcdFx0XHRcdFx0Ly8gZC50b29sdGlwSHRtbCA9ICc8cD4nICsgZC5jaXRhdGlvbiArICc8L3A+Jztcblx0XHRcdFx0XHRcdC8vIGQudG9vbHRpcEh0bWwgPSBkLnRvb2x0aXBIdG1sICsgJzxicj4nO1xuXHRcdFx0XHRcdFx0Ly8gZC50b29sdGlwSHRtbCA9IGQudG9vbHRpcEh0bWwgKyAnPHA+Q2F0ZWdvcnk6ICcgKyBkLkRvbWFpbk5hbWUgKyAnPC9wPic7XG5cdFx0XHRcdFx0XHQvLyBpZiAoZC5ob3ZlcmVkKSB7XG5cdFx0XHRcdFx0XHQvLyBcdHNlbGYudGlwLnNob3coZCwgaG92ZXJlZEl0ZW0ubm9kZSgpKTtcblx0XHRcdFx0XHRcdC8vIFx0Ly8gc2VsZi50aXAuc2hvdyhkKTtcblx0XHRcdFx0XHRcdC8vIH1cblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0aHRtbCA9IG1ha2VOb2RlVG9vbHRpcEh0bWwoZCk7XG5cdFx0XHRcdFx0XHRpZiAoY2FsbGJhY2sgIT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0XHRjYWxsYmFjayhodG1sKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHJldHVybiBodG1sXG5cblxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2UgaWYgKCBkLmlkeCA9PSAwICkge1xuXHRcdFx0XHRkLnRvb2x0aXBIdG1sID0gJzxwPic7XG5cdFx0XHRcdGlmIChkLm5vZGVUeXBlKSB7XG5cdFx0XHRcdFx0ZC50b29sdGlwSHRtbCA9IGQudG9vbHRpcEh0bWwgKyBkLm5vZGVUeXBlLmNhcGl0YWxpemUoKSArICc6ICc7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZC50b29sdGlwSHRtbCA9IGQudG9vbHRpcEh0bWwgKyBkLm5hbWU7XG5cdFx0XHRcdGQudG9vbHRpcEh0bWwgPSBkLnRvb2x0aXBIdG1sICsgJzwvcD4nO1xuXHRcdFx0XHR2YXIgbnVtYmVyT2ZQdWJzID0gZC5wYXBlcnMubGVuZ3RoO1xuXHRcdFx0XHRkLnRvb2x0aXBIdG1sID0gZC50b29sdGlwSHRtbCArICc8cD5OdW1iZXIgb2YgUHVibGljYXRpb25zOiAnICsgbnVtYmVyT2ZQdWJzICsgJzwvcD4nO1xuXHRcdFx0XHRodG1sID0gZC50b29sdGlwSHRtbDtcblx0XHRcdFx0aWYgKGNhbGxiYWNrICE9IG51bGwpIHtcblx0XHRcdFx0XHRjYWxsYmFjayhodG1sKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdFx0cmV0dXJuIGh0bWw7XG5cdFx0XHR9XG5cblx0XHR9KTtcblx0XHRyZXR1cm4gaHRtbDtcblx0fVxuXG5cdGZ1bmN0aW9uIGJ5cGFzc0FqYXgoZCkge1xuXHRcdGQudXBkYXRlZFByb3BzID0gdHJ1ZTtcblx0XHR2YXIgaHRtbCA9IG1ha2VOb2RlVG9vbHRpcEh0bWwoZCk7XG5cdFx0cmV0dXJuIGh0bWxcblx0fVxuXG5cdGZ1bmN0aW9uIG1ha2VOb2RlVG9vbHRpcEh0bWwoZCkge1xuXHRcdHZhciBzcGFuID0gJCggJzxzcGFuPicgKTtcblx0XHRzcGFuLmFwcGVuZCggJCggJzxwIGNsYXNzPVwidGl0bGVcIj4nICkudGV4dChkLlRpdGxlKSApO1xuXHRcdHNwYW4uYXBwZW5kKCAkKCAnPHAgY2xhc3M9XCJhdXRob3JzXCI+JyApLnRleHQoZC5hdXRob3Jfc3RyKSApO1xuXHRcdHNwYW4uYXBwZW5kKCAkKCAnPHAgY2xhc3M9XCJ2ZW51ZVwiPicgKS50ZXh0KGQudmVudWUpICk7XG5cdFx0c3Bhbi5hcHBlbmQoICQoICc8cCBjbGFzcz1cInllYXJcIj4nICkudGV4dChkLlllYXIpICk7XG5cdFx0Ly8gc3Bhbi5hcHBlbmQoICQoICc8cCBjbGFzcz1cInRvb2x0aXAgZG9tYWluXCI+JyApLnRleHQoXCJDYXRlZ29yeTogXCIgKyBkLkRvbWFpbk5hbWUpICk7XG5cdFx0c3Bhbi5hcHBlbmQoICQoICc8cCBjbGFzcz1cImRvbWFpblwiPicgKS50ZXh0KFwiQ2F0ZWdvcmllczogXCIgKyBkLkZpZWxkX29mX3N0dWR5X25hbWVzKSApO1xuXHRcdC8vIHNwYW4uYXBwZW5kKCAkKCAnPHAgY2xhc3M9XCJ0b29sdGlwIGpzX2RpdlwiPicgKS50ZXh0KFwiSlMgRGl2ZXJnZW5jZTogXCIgKyBkLmpzX2RpdikgKTtcblx0XHQvLyBzcGFuLmFwcGVuZCggJCggJzxwIGNsYXNzPVwidG9vbHRpcCBhdmdfZGlzdGFuY2VcIj4nICkudGV4dChcIkF2ZXJhZ2UgY2x1c3RlciBkaXN0YW5jZTogXCIgKyBkLmF2ZXJhZ2VfY2x1c3Rlcl9kaXN0YW5jZV90b19jZW50ZXIpICk7XG5cdFx0Ly8gc3Bhbi5hcHBlbmQoICQoICc8cCBjbGFzcz1cInRvb2x0aXAgZm9zX2ttZWFuc19jYXRlZ29yeVwiPicgKS50ZXh0KFwiRk9TIEttZWFucyBjYXRlZ29yeTogXCIgKyBkLmZvc19rbWVhbnNfY2F0ZWdvcnkpICk7XG5cdFx0ZC50b29sdGlwSHRtbCA9IHNwYW4uaHRtbCgpO1xuXHRcdHZhciBodG1sID0gZC50b29sdGlwSHRtbDtcblx0XHRyZXR1cm4gaHRtbDtcblx0XHRcblx0fVxufVxuXG5mdW5jdGlvbiBsZWdlbmRUb29sdGlwcygpIHtcblx0dmFyIHdpbmRvd1dpZHRoID0gJCh3aW5kb3cpLndpZHRoKCk7XG5cdHZhciBvdGhlckh0bWwgPSAnPHA+VGhlc2UgYXJlIHBhcGVycyBpbiBjYXRlZ29yaWVzIG90aGVyIHRoYW4gdGhlIG9uZXMgYWJvdmUuIFBvaW50IHlvdXIgbW91c2UgYXQgYSBzcGVjaWZpYyBwYXBlciB0byBzZWUgdGhlIG5hbWUgb2YgdGhlIGNhdGVnb3J5LjwvcD4nO1xuXHQkKCcubGVnZW5kSXRlbS5vdGhlcicpLnRvb2x0aXBzdGVyKHtcblx0XHR0aGVtZTogJ3Rvb2x0aXBzdGVyLW5vaXInLFxuXHRcdG1heFdpZHRoOiB3aW5kb3dXaWR0aCAqIC41LFxuXHRcdGFuaW1hdGlvbjogbnVsbCxcblx0XHRhbmltYXRpb25kdXJhdGlvbjogMCxcblx0XHRkZWxheTogMCxcblx0XHR1cGRhdGVBbmltYXRpb246IG51bGwsXG5cdFx0Y29udGVudDogb3RoZXJIdG1sLFxuXHRcdGNvbnRlbnRBc0hUTUw6IHRydWVcblx0fSk7XG5cblx0dmFyIGhlYWRlckh0bWwgPSBcIjxwPlRoZSBkYXRhIHVuZGVybHlpbmcgdGhpcyB2aXN1YWxpemF0aW9uIGNvbWVzIGZyb20gdGhlIE1pY3Jvc29mdCBBY2FkZW1pYyBHcmFwaC4gRWFjaCBkb2N1bWVudCBoYXMgbXVsdGlwbGUgYXNzb2NpYXRlZCBGaWVsZHMgb2YgU3R1ZHkuIEhlcmUsIHRoZXNlIEZpZWxkcyBhcmUgY29tYmluZWQgd2l0aCB0aGUgZG9jdW1lbnQncyB0aXRsZSwgd2VpZ2h0ZWQgdXNpbmcgVEYtSURGLCBhbmQgYXNzaWduZWQgYSBjYXRlZ29yeSB1c2luZyBLLU1lYW5zIGNsdXN0ZXJpbmcuIE1vdXNlIG92ZXIgdGhlIGNhdGVnb3JpZXMgdG8gaGlnaGxpZ2h0IGl0cyBwYXBlcnMsIGFuZCB0byBzZWUgbW9yZSBpbXBvcnRhbnQgdGVybXMuPC9wPlwiO1xuXHQkKCcuZWdvR3JhcGhWaXNMZWdlbmRIZWFkZXInKS50b29sdGlwc3Rlcih7XG5cdFx0dGhlbWU6ICd0b29sdGlwc3Rlci1ub2lyJyxcblx0XHRtYXhXaWR0aDogd2luZG93V2lkdGggKiAuNSxcblx0XHRhbmltYXRpb246IG51bGwsXG5cdFx0YW5pbWF0aW9uZHVyYXRpb246IDAsXG5cdFx0ZGVsYXk6IDAsXG5cdFx0dXBkYXRlQW5pbWF0aW9uOiBudWxsLFxuXHRcdGNvbnRlbnQ6IGhlYWRlckh0bWwsXG5cdFx0Y29udGVudEFzSFRNTDogdHJ1ZVxuXHR9KTtcblxuXHQkKCcubGVnZW5kSXRlbScpLnRvb2x0aXBzdGVyKHtcblx0XHR0aGVtZTogJ3Rvb2x0aXBzdGVyLW5vaXInLFxuXHRcdG1heFdpZHRoOiB3aW5kb3dXaWR0aCAqIC41LFxuXHRcdGFuaW1hdGlvbjogbnVsbCxcblx0XHRhbmltYXRpb25kdXJhdGlvbjogMCxcblx0XHRkZWxheTogMCxcblx0XHR1cGRhdGVBbmltYXRpb246IG51bGwsXG5cdFx0Y29udGVudDogJzxwPkxvYWRpbmcuLi48L3A+Jyxcblx0XHRjb250ZW50QXNIVE1MOiB0cnVlLFxuXHRcdGZ1bmN0aW9uQmVmb3JlOiBmdW5jdGlvbihpbnN0YW5jZSwgaGVscGVyKSB7XG5cdFx0XHR2YXIgbGVnZW5kSXRlbSA9IGQzLnNlbGVjdChoZWxwZXIub3JpZ2luKTtcblx0XHRcdGxlZ2VuZEl0ZW0uZWFjaChmdW5jdGlvbihkKSB7XG5cdFx0XHRcdHZhciBodG1sID0gXCI8aDM+VG9wIHRlcm1zIGluIGNhdGVnb3J5IFwiICsgZC5Eb21haW5JRCArIFwiOjwvaDM+XCI7XG5cdFx0XHRcdGh0bWwgPSBodG1sICsgXCI8dWw+XCJcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IGQuRG9tYWluTmFtZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0XHRcdGh0bWwgPSBodG1sICsgXCI8bGk+XCIgKyBkLkRvbWFpbk5hbWVbaV0gKyBcIjwvbGk+XCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0aHRtbCA9IGh0bWwgKyBcIjwvdWw+XCJcblx0XHRcdFx0aW5zdGFuY2UuY29udGVudChodG1sKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fSk7XG5cdFx0fSxcblx0fSk7XG59XG4vLyBodHRwOi8vY29kZXJldmlldy5zdGFja2V4Y2hhbmdlLmNvbS9xdWVzdGlvbnMvNzc2MTQvY2FwaXRhbGl6ZS10aGUtZmlyc3QtY2hhcmFjdGVyLW9mLWFsbC13b3Jkcy1ldmVuLXdoZW4tZm9sbG93aW5nLWFcblN0cmluZy5wcm90b3R5cGUuY2FwaXRhbGl6ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvTG93ZXJDYXNlKCkucmVwbGFjZSggL1xcYlxcdy9nLCBmdW5jdGlvbihtKSB7XG4gICAgICAgIHJldHVybiBtLnRvVXBwZXJDYXNlKCk7XG4gICAgfSk7XG59O1xuXG5cbmZ1bmN0aW9uIGVnb0dyYXBoVmlzKGRhdGEpIHtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXHRzZWxmLmRhdGEgPSBkYXRhO1xuXHRzZWxmLm5vdEVnb05vZGVzID0gc2VsZi5kYXRhLm5vZGVzLnNsaWNlKDEpO1xuXHRjb25zb2xlLmxvZyhzZWxmLmRhdGEpO1xuXG5cdC8vIERlZmF1bHRzXG5cdC8vIEdyYXBoIFNWRyBEaW1lbnNpb25zXG4gICAgLy8gc2VsZi5ncmFwaERpbWVuc2lvbnMgPSB7XG4gICAgLy8gICAgIHdpZHRoOiA5NjAsXG4gICAgLy8gICAgIGhlaWdodDogNTAwXG4gICAgLy8gfTtcblx0c2VsZi5ncmFwaERpbWVuc2lvbnM7ICAvLyBpbXBvcnRlZCBpbiBzZWxmLmltcG9ydERlZmF1bHRPcHRpb25zIGJlbG93XG5cdFxuXHRzZWxmLmNvbG9yU2NoZW1lO1xuXG4gICAgLy8gTm9kZSBwbGFjZW1lbnQgb3B0aW9uczpcbiAgICAvLyBcImZvcmNlMVwiOiBub2RlcyBwbGFjZWQgYnkgcnVubmluZyB0aGUgZm9yY2UgbGF5b3V0IGFuZCB0aGVuIGZyZWV6aW5nXG4gICAgLy8gXCJzcGlyYWxcIiBwbGFjZXMgdGhlIG5vZGVzIGluIGEgc3BpcmFsIGZvcm1hdGlvbiB3aXRoIHRoZSBlZ28gbm9kZSBhdCB0aGUgY2VudGVyXG5cdC8vIFwic3BpcmFsMlwiOiBhbHRlcm5hdGUgc3BpcmFsIGFsZ29yaXRobVxuICAgIC8vIEFERCBNT1JFXG4gICAgc2VsZi5ub2RlUGxhY2VtZW50T3B0aW9ucyA9IFtcImZvcmNlMVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzcGlyYWxcIixcblx0XHRcdFx0XHRcdFx0XHQgXCJzcGlyYWwyXCJdO1xuXHRzZWxmLm5vZGVQbGFjZW1lbnQgPSBzZWxmLm5vZGVQbGFjZW1lbnRPcHRpb25zWzFdO1xuXHRcblx0c2VsZi56b29tYWJsZSA9IGZhbHNlO1xuXG5cdHNlbGYuc3ZnO1xuICAgIHNlbGYuZ3JvdXA7XG5cdHNlbGYubm9kZTtcblx0c2VsZi5saW5rO1xuXHRzZWxmLmVnb05vZGU7XG5cblx0c2VsZi5laWdlbkZhY3RvclNjYWxlO1xuXG5cdC8vIHNlbGYubG9hZGluZ1RleHQ7XG5cblx0c2VsZi5kb21haW5zVGhpc0dyYXBoO1xuICAgIHNlbGYubGVnZW5kO1xuXG4gICAgc2VsZi55ZWFyVGV4dERpc3BsYXk7XG5cbiAgICBzZWxmLmF1dGhvckltYWdlRGl2O1xuXG4gICAgc2VsZi50b29sdGlwO1xuXHRzZWxmLnRpcDtcblxuXHRzZWxmLnRpY2s7XG5cdHNlbGYuZm9yY2U7XG5cbiAgICAvLyBTZWUgaHR0cDovL2NvbG9yYnJld2VyMi5vcmcvP3R5cGU9cXVhbGl0YXRpdmUmc2NoZW1lPVNldDEmbj04XG4gICAgLy8gc2VsZi5jb2xvclNjaGVtZSA9IFsncmdiKDIyOCwyNiwyOCknLCdyZ2IoNTUsMTI2LDE4NCknLCdyZ2IoNzcsMTc1LDc0KScsXG5cdC8vIFx0J3JnYigxNTIsNzgsMTYzKScsJ3JnYigyNTUsMTI3LDApJywncmdiKDI1NSwyNTUsNTEpJyxcblx0Ly8gXHQncmdiKDE2Niw4Niw0MCknLCdyZ2IoMjQ3LDEyOSwxOTEpJ11cbiAgICAvLyAvLyBJIGxpa2VkIHRoZSBibHVlIGJldHRlciBmb3IgdGhlIG1haW4gY29sb3IsIHNvIHRoZSBuZXh0IGxpbmUganVzdCBtb3Zlc1xuICAgIC8vIC8vIHRoZSBibHVlIGNvbG9yIChvcmlnaW5hbGx5IHNlbGYuY29sb3JTY2hlbWVbMV0pIHRvIHRoZSBmcm9udCAoc2VsZi5jb2xvclNjaGVtZVswXSlcbiAgICAvLyBzZWxmLmNvbG9yU2NoZW1lLnNwbGljZSgwLCAwLCBzZWxmLmNvbG9yU2NoZW1lLnNwbGljZSgxLCAxKVswXSlcblx0c2VsZi5jb2xvclNjaGVtZTsgIC8vIGltcG9ydGVkIGluIGltcG9ydERlZmF1bHRPcHRpb25zIGJlbG93XG5cblx0Ly8gY29udGludW91cyBjb2xvciBzY2hlbWUgYmFzZWQgb24gamVuc2VuLXNoYW5ub24gZGl2ZXJnZW5jZVxuXHR2YXIgdmlyaWRpcyA9IFtcIiM0NDAxNTRcIixcIiM0NDAyNTZcIixcIiM0NTA0NTdcIixcIiM0NTA1NTlcIixcIiM0NjA3NWFcIixcIiM0NjA4NWNcIixcIiM0NjBhNWRcIixcIiM0NjBiNWVcIixcIiM0NzBkNjBcIixcIiM0NzBlNjFcIixcIiM0NzEwNjNcIixcIiM0NzExNjRcIixcIiM0NzEzNjVcIixcIiM0ODE0NjdcIixcIiM0ODE2NjhcIixcIiM0ODE3NjlcIixcIiM0ODE4NmFcIixcIiM0ODFhNmNcIixcIiM0ODFiNmRcIixcIiM0ODFjNmVcIixcIiM0ODFkNmZcIixcIiM0ODFmNzBcIixcIiM0ODIwNzFcIixcIiM0ODIxNzNcIixcIiM0ODIzNzRcIixcIiM0ODI0NzVcIixcIiM0ODI1NzZcIixcIiM0ODI2NzdcIixcIiM0ODI4NzhcIixcIiM0ODI5NzlcIixcIiM0NzJhN2FcIixcIiM0NzJjN2FcIixcIiM0NzJkN2JcIixcIiM0NzJlN2NcIixcIiM0NzJmN2RcIixcIiM0NjMwN2VcIixcIiM0NjMyN2VcIixcIiM0NjMzN2ZcIixcIiM0NjM0ODBcIixcIiM0NTM1ODFcIixcIiM0NTM3ODFcIixcIiM0NTM4ODJcIixcIiM0NDM5ODNcIixcIiM0NDNhODNcIixcIiM0NDNiODRcIixcIiM0MzNkODRcIixcIiM0MzNlODVcIixcIiM0MjNmODVcIixcIiM0MjQwODZcIixcIiM0MjQxODZcIixcIiM0MTQyODdcIixcIiM0MTQ0ODdcIixcIiM0MDQ1ODhcIixcIiM0MDQ2ODhcIixcIiMzZjQ3ODhcIixcIiMzZjQ4ODlcIixcIiMzZTQ5ODlcIixcIiMzZTRhODlcIixcIiMzZTRjOGFcIixcIiMzZDRkOGFcIixcIiMzZDRlOGFcIixcIiMzYzRmOGFcIixcIiMzYzUwOGJcIixcIiMzYjUxOGJcIixcIiMzYjUyOGJcIixcIiMzYTUzOGJcIixcIiMzYTU0OGNcIixcIiMzOTU1OGNcIixcIiMzOTU2OGNcIixcIiMzODU4OGNcIixcIiMzODU5OGNcIixcIiMzNzVhOGNcIixcIiMzNzViOGRcIixcIiMzNjVjOGRcIixcIiMzNjVkOGRcIixcIiMzNTVlOGRcIixcIiMzNTVmOGRcIixcIiMzNDYwOGRcIixcIiMzNDYxOGRcIixcIiMzMzYyOGRcIixcIiMzMzYzOGRcIixcIiMzMjY0OGVcIixcIiMzMjY1OGVcIixcIiMzMTY2OGVcIixcIiMzMTY3OGVcIixcIiMzMTY4OGVcIixcIiMzMDY5OGVcIixcIiMzMDZhOGVcIixcIiMyZjZiOGVcIixcIiMyZjZjOGVcIixcIiMyZTZkOGVcIixcIiMyZTZlOGVcIixcIiMyZTZmOGVcIixcIiMyZDcwOGVcIixcIiMyZDcxOGVcIixcIiMyYzcxOGVcIixcIiMyYzcyOGVcIixcIiMyYzczOGVcIixcIiMyYjc0OGVcIixcIiMyYjc1OGVcIixcIiMyYTc2OGVcIixcIiMyYTc3OGVcIixcIiMyYTc4OGVcIixcIiMyOTc5OGVcIixcIiMyOTdhOGVcIixcIiMyOTdiOGVcIixcIiMyODdjOGVcIixcIiMyODdkOGVcIixcIiMyNzdlOGVcIixcIiMyNzdmOGVcIixcIiMyNzgwOGVcIixcIiMyNjgxOGVcIixcIiMyNjgyOGVcIixcIiMyNjgyOGVcIixcIiMyNTgzOGVcIixcIiMyNTg0OGVcIixcIiMyNTg1OGVcIixcIiMyNDg2OGVcIixcIiMyNDg3OGVcIixcIiMyMzg4OGVcIixcIiMyMzg5OGVcIixcIiMyMzhhOGRcIixcIiMyMjhiOGRcIixcIiMyMjhjOGRcIixcIiMyMjhkOGRcIixcIiMyMThlOGRcIixcIiMyMThmOGRcIixcIiMyMTkwOGRcIixcIiMyMTkxOGNcIixcIiMyMDkyOGNcIixcIiMyMDkyOGNcIixcIiMyMDkzOGNcIixcIiMxZjk0OGNcIixcIiMxZjk1OGJcIixcIiMxZjk2OGJcIixcIiMxZjk3OGJcIixcIiMxZjk4OGJcIixcIiMxZjk5OGFcIixcIiMxZjlhOGFcIixcIiMxZTliOGFcIixcIiMxZTljODlcIixcIiMxZTlkODlcIixcIiMxZjllODlcIixcIiMxZjlmODhcIixcIiMxZmEwODhcIixcIiMxZmExODhcIixcIiMxZmExODdcIixcIiMxZmEyODdcIixcIiMyMGEzODZcIixcIiMyMGE0ODZcIixcIiMyMWE1ODVcIixcIiMyMWE2ODVcIixcIiMyMmE3ODVcIixcIiMyMmE4ODRcIixcIiMyM2E5ODNcIixcIiMyNGFhODNcIixcIiMyNWFiODJcIixcIiMyNWFjODJcIixcIiMyNmFkODFcIixcIiMyN2FkODFcIixcIiMyOGFlODBcIixcIiMyOWFmN2ZcIixcIiMyYWIwN2ZcIixcIiMyY2IxN2VcIixcIiMyZGIyN2RcIixcIiMyZWIzN2NcIixcIiMyZmI0N2NcIixcIiMzMWI1N2JcIixcIiMzMmI2N2FcIixcIiMzNGI2NzlcIixcIiMzNWI3NzlcIixcIiMzN2I4NzhcIixcIiMzOGI5NzdcIixcIiMzYWJhNzZcIixcIiMzYmJiNzVcIixcIiMzZGJjNzRcIixcIiMzZmJjNzNcIixcIiM0MGJkNzJcIixcIiM0MmJlNzFcIixcIiM0NGJmNzBcIixcIiM0NmMwNmZcIixcIiM0OGMxNmVcIixcIiM0YWMxNmRcIixcIiM0Y2MyNmNcIixcIiM0ZWMzNmJcIixcIiM1MGM0NmFcIixcIiM1MmM1NjlcIixcIiM1NGM1NjhcIixcIiM1NmM2NjdcIixcIiM1OGM3NjVcIixcIiM1YWM4NjRcIixcIiM1Y2M4NjNcIixcIiM1ZWM5NjJcIixcIiM2MGNhNjBcIixcIiM2M2NiNWZcIixcIiM2NWNiNWVcIixcIiM2N2NjNWNcIixcIiM2OWNkNWJcIixcIiM2Y2NkNWFcIixcIiM2ZWNlNThcIixcIiM3MGNmNTdcIixcIiM3M2QwNTZcIixcIiM3NWQwNTRcIixcIiM3N2QxNTNcIixcIiM3YWQxNTFcIixcIiM3Y2QyNTBcIixcIiM3ZmQzNGVcIixcIiM4MWQzNGRcIixcIiM4NGQ0NGJcIixcIiM4NmQ1NDlcIixcIiM4OWQ1NDhcIixcIiM4YmQ2NDZcIixcIiM4ZWQ2NDVcIixcIiM5MGQ3NDNcIixcIiM5M2Q3NDFcIixcIiM5NWQ4NDBcIixcIiM5OGQ4M2VcIixcIiM5YmQ5M2NcIixcIiM5ZGQ5M2JcIixcIiNhMGRhMzlcIixcIiNhMmRhMzdcIixcIiNhNWRiMzZcIixcIiNhOGRiMzRcIixcIiNhYWRjMzJcIixcIiNhZGRjMzBcIixcIiNiMGRkMmZcIixcIiNiMmRkMmRcIixcIiNiNWRlMmJcIixcIiNiOGRlMjlcIixcIiNiYWRlMjhcIixcIiNiZGRmMjZcIixcIiNjMGRmMjVcIixcIiNjMmRmMjNcIixcIiNjNWUwMjFcIixcIiNjOGUwMjBcIixcIiNjYWUxMWZcIixcIiNjZGUxMWRcIixcIiNkMGUxMWNcIixcIiNkMmUyMWJcIixcIiNkNWUyMWFcIixcIiNkOGUyMTlcIixcIiNkYWUzMTlcIixcIiNkZGUzMThcIixcIiNkZmUzMThcIixcIiNlMmU0MThcIixcIiNlNWU0MTlcIixcIiNlN2U0MTlcIixcIiNlYWU1MWFcIixcIiNlY2U1MWJcIixcIiNlZmU1MWNcIixcIiNmMWU1MWRcIixcIiNmNGU2MWVcIixcIiNmNmU2MjBcIixcIiNmOGU2MjFcIixcIiNmYmU3MjNcIixcIiNmZGU3MjVcIl07XG5cdHZhciBzcGVjdHJhbDggPSBbJyNkNTNlNGYnLCAnI2Y0NmQ0MycsICcjZmRhZTYxJywgJyNmZWUwOGInLCAnI2U2ZjU5OCcsICcjYWJkZGE0JywgJyM2NmMyYTUnLCAnIzMyODhiZCddO1xuXHR2YXIgcmFpbmJvdyA9IFtcIiMyYzdiYjZcIiwgXCIjMDBhNmNhXCIsXCIjMDBjY2JjXCIsXCIjOTBlYjlkXCIsXCIjZmZmZjhjXCIsIFwiI2Y5ZDA1N1wiLFwiI2YyOWUyZVwiLFwiI2U3NjgxOFwiLFwiI2Q3MTkxY1wiXVxuXHRzZWxmLkpTRENvbG9yU2NhbGUgPSBkMy5zY2FsZS5saW5lYXIoKVxuXHRcdC5kb21haW4oZDMuZXh0ZW50KHNlbGYubm90RWdvTm9kZXMsIGZ1bmN0aW9uKGQpIHtyZXR1cm4gZC5qc19kaXY7fSkpXG5cdFx0LnJhbmdlKFtcInJlZFwiLCBcImJsdWVcIl0pO1xuXHRzZWxmLkNsdXN0ZXJEaXN0YW5jZUNvbG9yU2NhbGUgPSBkMy5zY2FsZS5saW5lYXIoKVxuXHRcdC5kb21haW4oZDMuZXh0ZW50KHNlbGYubm90RWdvTm9kZXMsIGZ1bmN0aW9uKGQpIHtyZXR1cm4gZC5hdmVyYWdlX2NsdXN0ZXJfZGlzdGFuY2VfdG9fY2VudGVyO30pKVxuXHRcdC5yYW5nZShzcGVjdHJhbDgpO1xuXG4gICAgLy8gT3BhY2l0eSB2YWx1ZXNcbiAgICBzZWxmLm9wYWNpdHlWYWxzID0ge1xuXHRcdG5vZGU6IDEsIFxuXHRcdG5vZGVQcmV2WWVhcjogLjYsXG5cdFx0bGlua1RvRWdvOiAuMTIsXG5cdFx0bGlua05vdFRvRWdvOiAuMTIsXG5cdFx0bGlua1ByZXZZZWFyOiAuMDRcblx0fTtcblxuXHRzZWxmLmRvQW5ub3RhdGlvbnMgPSBmYWxzZTtcblxuICAgIHNlbGYuYW5pbWF0aW9uU3RhdGU7ICAvLyBcImZvcndhcmRcIiwgXCJyZXdpbmRcIiwgXCJzdG9wcGVkXCJcblx0c2VsZi50cmFuc2l0aW9uVGltZVBlclllYXI7IC8vIGltcG9ydGVkIGluIGltcG9ydERlZmF1bHRPcHRpb25zIGJlbG93XG5cdC8vIHNlbGYudHJhbnNpdGlvblRpbWVQZXJOb2RlID0gMTAwOyAgLy8gVEVTVFxuXHRzZWxmLnRyYW5zaXRpb25UaW1lUGVyTm9kZTsgLy8gY2FsY3VsYXRlZCBpbiBjYWxjdWxhdGVUcmFuc2l0aW9uVGltZSgpXG4gICAgLy8gc2VsZi5ub2RlQXBwZWFyRHVyYXRpb24gPSBzZWxmLnRyYW5zaXRpb25UaW1lUGVyTm9kZSAqIDQ7XG5cdC8vIEkgaGF2ZW4ndCBhY3R1YWxseSBnb3R0ZW4gaXQgdG8gd29yayBoYXZpbmcgZGlmZmVyZW50IHRyYW5zaXRpb25UaW1lUGVyTm9kZSBhbmQgbm9kZUFwcGVhckR1cmF0aW9uXG5cdHNlbGYubGlua0FwcGVhckR1cmF0aW9uID0gNTAwO1xuICAgIHNlbGYuY3Vyck5vZGVJbmRleDsgIC8vIEluZGV4IG9mIG5vZGUgY3VycmVudGx5IGJlaW5nIGFubm90YXRlZFxuICAgIHNlbGYuZGVzdGluYXRpb25Ob2RlSW5kZXg7ICAvLyBJbmRleCBvZiBub2RlIHRvIHdoaWNoIHRoZSBhbmltYXRpb24gaXMgY3VycmVudGx5IG1vdmluZ1xuICAgIHNlbGYuZGVzdGluYXRpb25ZZWFyO1xuICAgIHNlbGYuY3VyclllYXI7XG5cblx0Ly8gc2VsZi5kZXN0aW5hdGlvbk5vZGVJbmRleCA9IDIwMDsgIC8vIFRFU1Rcblx0c2VsZi5kZXN0aW5hdGlvbk5vZGVJbmRleCA9IHNlbGYuZGF0YS5ub2Rlcy5sZW5ndGgtMTsgIC8vIFRFU1RcblxuXHQvL3Rlc3Rpbmdcblx0c2VsZi5jID0gMDtcblx0c2VsZi50dCA9IDA7XG5cblx0Ly8gc2VsZi5pbml0KCk7XG5cblx0cmV0dXJuIHNlbGY7XG5cbn1cblxuZWdvR3JhcGhWaXMucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgc2VsZi50aWNrID0gc2VsZi5tYWtlVGljaygpO1xuICAgIHNlbGYuZm9yY2UgPSBzZWxmLm1ha2VGb3JjZSgpO1xuXHRpZiAoc2VsZi56b29tYWJsZSA9PT0gdHJ1ZSkge1xuXHRcdHNlbGYuem9vbSA9IHNlbGYubWFrZVpvb20oKTtcblx0fVxuICAgIC8vIHNlbGYuZHJhZyA9IHNlbGYubWFrZURyYWcoKTtcblx0XG5cdHNlbGYuYW5pbWF0aW9uU3RhdGUgPSAnaW5pdCc7XG5cblx0c2VsZi5nZXREb21haW5zVGhpc0dyYXBoKCk7XG5cblx0c2VsZi5zdmcgPSBkMy5zZWxlY3QoJyNncmFwaERpdicpLmFwcGVuZCgnc3ZnJylcblx0XHQuYXR0cignaWQnLCAnZ3JhcGhTdmcnKVxuXHRcdC5hdHRyKCd3aWR0aCcsIHNlbGYuZ3JhcGhEaW1lbnNpb25zLndpZHRoKVxuXHRcdC5hdHRyKCdoZWlnaHQnLCBzZWxmLmdyYXBoRGltZW5zaW9ucy5oZWlnaHQpO1xuXG5cdC8vIHNlbGYudGlwID0gZDMudGlwKClcblx0Ly8gXHQuYXR0cignY2xhc3MnLCAnZDMtdGlwJylcblx0Ly8gXHQuc3R5bGUoJ2N1cnNvcicsICdkZWZhdWx0Jylcblx0Ly8gXHQuc3R5bGUoJ2JvcmRlci1zdHlsZScsICdzb2xpZCcpXG5cdC8vIFx0Ly8gLnN0eWxlKCdib3JkZXItY29sb3InLCBmdW5jdGlvbihkKSB7IHJldHVybiBkLmNvbG9yOyB9KVxuXHQvLyBcdC5zdHlsZSgncG9pbnRlci1ldmVudHMnLCAnbm9uZScpO1xuXHQvLyBzZWxmLnN2Zy5jYWxsKHNlbGYudGlwKTtcblxuICAgIHNlbGYuZ3JvdXAgPSBzZWxmLnN2Zy5hcHBlbmQoJ2cnKVxuXHRcdCAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdncmFwaENvbnRhaW5lcicpXG4gICAgc2VsZi5saW5rID0gc2VsZi5ncm91cC5hcHBlbmQoJ3N2ZzpnJylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2xpbmtzJylcbiAgICAgICAgICAgICAgICAgICAgLnNlbGVjdEFsbCgnLmxpbmsnKTtcbiAgICBzZWxmLm5vZGUgPSBzZWxmLmdyb3VwLmFwcGVuZCgnc3ZnOmcnKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnbm9kZXMnKVxuICAgICAgICAgICAgICAgICAgICAuc2VsZWN0QWxsKCcubm9kZScpO1xuXHRcbiAgICAvLyBJbml0aWFsaXplIHRvb2x0aXAgZm9yIG5vZGVzICh3aGljaCB3aWxsIGJlIHZpc2libGUgb24gbW91c2VvdmVyIG9mIG5vZGVzKVxuICAgIHNlbGYudG9vbHRpcCA9IGQzLnNlbGVjdCgnYm9keScpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2RpdicpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdub2RlVG9vbHRpcCcpXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgncG9zaXRpb24nLCAnYWJzb2x1dGUnKVxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ3dpZHRoJywgc2VsZi5ncmFwaERpbWVuc2lvbnMud2lkdGggLyA0ICsgJ3B4JylcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCd6LWluZGV4JywgJzEwJylcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCd2aXNpYmlsaXR5JywgJ2hpZGRlbicpO1xuXG5cdC8vIEFkZCBzcGVjaWFsIHByb3BlcnRpZXMgdG8gdGhlIGVnbyBub2RlOlxuXHRzZWxmLmRhdGEubm9kZXNbMF0uZml4ZWQgPSB0cnVlO1xuXHQvLyBwb3NpdGlvbiBpbiBjZW50ZXJcblx0c2VsZi5kYXRhLm5vZGVzWzBdLnggPSBzZWxmLmdyYXBoRGltZW5zaW9ucy53aWR0aC8yO1xuXHRzZWxmLmRhdGEubm9kZXNbMF0ueSA9IHNlbGYuZ3JhcGhEaW1lbnNpb25zLmhlaWdodC8yO1xuXHQvLyBzZWxmLmRhdGEubm9kZXNbMF0uY29sb3IgPSBzZWxmLmNvbG9yU2NoZW1lWzBdO1xuXHRzZWxmLmRhdGEubm9kZXNbMF0uY29sb3IgPSBzZWxmLkpTRENvbG9yU2NhbGUoMCk7XG5cdHNlbGYuZWdvTm9kZSA9IHNlbGYuZGF0YS5ub2Rlc1swXTtcblx0XG5cdC8vIFNldCB1cCBhIHNjYWxlIGZvciBFaWdlbmZhY3RvciBpbiBvcmRlciB0byBlbmNvZGUgc2l6ZSBvZiBub2RlcyBieSBFaWdlbmZhY3RvciAoaW5mbHVlbmNlKVxuXHR2YXIgZWlnZW5GYWN0b3JNYXggPSBkMy5tYXgoc2VsZi5kYXRhLm5vZGVzLCBmdW5jdGlvbihkKSB7IHJldHVybiBkLkVGOyB9KTtcblx0c2VsZi5laWdlbkZhY3RvclNjYWxlID0gZDMuc2NhbGUubGluZWFyKClcblx0XHQuZG9tYWluKFswLCBlaWdlbkZhY3Rvck1heF0pXG5cdFx0LnJhbmdlKFswLCAxXSk7XG5cdHNlbGYuZGF0YS5ub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uKGQpIHtcblx0XHRpZiAoZC5ub2RlVHlwZSA9PT0gJ3BhcGVyJykge1xuXHRcdFx0ZC5yYWRpdXMgPSA0LjUgKyAoc2VsZi5laWdlbkZhY3RvclNjYWxlKGQuRUYpICogMTApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkLnJhZGl1cyA9IDEwO1xuXHRcdH1cblx0fSk7XG5cbiAgICAvLyBhZGQgZ3JhcGggcHJvcGVydGllc1xuXHRzZWxmLmZvcmNlLm5vZGVzKHNlbGYuZGF0YS5ub2Rlcyk7XG5cdFxuICAgIC8vIHVwZGF0ZSBub2RlIGVsZW1lbnRzXG4gICAgc2VsZi5ub2RlID0gc2VsZi5ub2RlLmRhdGEoc2VsZi5kYXRhLm5vZGVzKTtcbiAgICAvL3NlbGYubm9kZS5leGl0KCkucmVtb3ZlKCk7XG4gICAgdmFyIG5ld05vZGUgPSBzZWxmLm5vZGUuZW50ZXIoKTtcblxuICAgIG5ld05vZGUgPSBuZXdOb2RlLmFwcGVuZCgnc3ZnOmNpcmNsZScpXG5cdFx0Ly90ZXN0XG5cdFx0LmF0dHIoJ2NsYXNzJywgJ25vZGUnKVxuXHRcdC8vIGFkZCBjbGFzcyBmb3IgdGhlIGNlbnRlciBub2RlXG5cdFx0LmNsYXNzZWQoJ2NlbnRlck5vZGUnLCBmdW5jdGlvbihkKSB7IHJldHVybiBkLmlkID09PSBzZWxmLmVnb05vZGUuaWQ7IH0pXG5cdFx0LmF0dHIoJ3InLCBmdW5jdGlvbihkKSB7IHJldHVybiBkLnJhZGl1czsgfSlcbiAgICAgICAgLy8gLmF0dHIoJ2NsYXNzJywgJ25vZGUgaGlkZGVuJylcbiAgICAgICAgLy8gXCJUXCIgYXR0cmlidXRlIHdpbGwga2VlcCB0cmFjayBvZiB0aGUgdHJhbnNpdGlvbiB0aW1lIGVsYXBzZWRcbiAgICAgICAgLmF0dHIoJ1QnLCAwKVxuICAgICAgICAvLyBTdGFydCB3aXRoIHRoZSBub2RlIGludmlzaWJsZVxuICAgICAgICAuYXR0cigncicsMWUtOSlcblx0XHQuZWFjaChmdW5jdGlvbihkKSB7XG5cdFx0XHRkLkRvbWFpbk5hbWUgPSBzZWxmLmRhdGEuZ3JhcGguRG9tYWluc1tkLkRvbWFpbklEXTtcblx0XHRcdC8vIGZvciAodmFyIGk9MDsgaTxzZWxmLmRvbWFpbnNUaGlzR3JhcGgubGVuZ3RoOyBpKyspIHtcblx0XHRcdC8vIFx0dmFyIHRoaXNEb21haW4gPSBzZWxmLmRvbWFpbnNUaGlzR3JhcGhbaV0ua2V5XG5cdFx0XHQvLyBcdGlmICh0aGlzRG9tYWluPT1kLkRvbWFpbklEKSB7XG5cdFx0XHQvLyBcdFx0Ly8gdmFyIHRoaXNDb2xvciA9IHNlbGYuY29sb3JTY2hlbWVbaV07XG5cdFx0XHQvLyBcdFx0dmFyIHRoaXNDb2xvciA9IHNlbGYuZG9tYWluc1RoaXNHcmFwaFtpXS5jb2xvcjtcblx0XHRcdC8vIFx0XHRkLmNvbG9yID0gdGhpc0NvbG9yO1xuXHRcdFx0Ly8gXHR9XG5cdFx0XHQvLyB9XG5cdFx0XHQvLyBkLmNvbG9yID0gc2VsZi5KU0RDb2xvclNjYWxlKGQuanNfZGl2KTtcblx0XHRcdC8vIGQuY29sb3IgPSBzZWxmLkNsdXN0ZXJEaXN0YW5jZUNvbG9yU2NhbGUoZC5hdmVyYWdlX2NsdXN0ZXJfZGlzdGFuY2VfdG9fY2VudGVyKTtcblxuXHRcdFx0Ly8gZC5jb2xvciA9IHNlbGYuY29sb3JTY2hlbWVbZC5mb3Nfa21lYW5zX2NhdGVnb3J5XTtcblx0XHRcdGQuY29sb3IgPSBzZWxmLmNvbG9yU2NoZW1lW2QudGZpZGZfa21lYW5zX2NhdGVnb3J5XTtcblx0XHR9KVxuICAgICAgICAvLyBDb2xvciBieSBkaWZmZXJlbnQgY2F0ZWdvcmllcyBvZiBob3cgc2ltaWxhciB0aGUgbm9kZSdzIGNsdXN0ZXIgaXMgdG8gdGhlIGVnbyBub2RlXG4gICAgICAgIC5hdHRyKCdmaWxsJywgZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgLy8gY29sb3IgdGhlIG5vZGVzIGJhc2VkIG9uIERvbWFpbklEXG5cdFx0XHRyZXR1cm4gZC5jb2xvclxuICAgICAgICB9KVxuICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCBzZWxmLm9wYWNpdHlWYWxzLm5vZGUpO1xuXG4gICAgbmV3Tm9kZS5jYWxsKHNlbGYuZm9yY2UuZHJhZyk7XG5cblx0Ly8gc2VsZi5lZ29Ob2RlID0gc2VsZi5ub2RlLmZpbHRlcihmdW5jdGlvbihkKSB7IHJldHVybiBkLmlkeCA9PT0gMDsgfSk7XG5cdFxuICAgIC8vIHVwZGF0ZSBsaW5rIGVsZW1lbnRzXG5cdHNlbGYuZm9yY2UubGlua3Moc2VsZi5kYXRhLmxpbmtzKTtcblxuICAgIHNlbGYubGluayA9IHNlbGYubGluay5kYXRhKHNlbGYuZGF0YS5saW5rcyk7XG4gICAgLy9zZWxmLmxpbmsuZXhpdCgpLnJlbW92ZSgpO1xuXHR2YXIgbmV3TGluayA9IHNlbGYubGlua1xuXHRcdC5lbnRlcigpXG5cdFx0LmFwcGVuZCgnc3ZnOmxpbmUnKVxuXHRcdC5hdHRyKCdjbGFzcycsIGZ1bmN0aW9uKGQpIHtcblx0XHRcdC8vIGlmIChkLnRhcmdldCA9PT0gMCkgeyByZXR1cm4gJ2xpbmsgdG9FZ28gbGlua1RvRWdvJzsgfVxuXHRcdFx0Ly8gZWxzZSB7IHJldHVybiAnbGluayBub3RUb0VnbyBsaW5rTm90VG9FZ28nOyB9XG5cdFx0XHRpZiAoZC50YXJnZXQgPT09IDApIHsgcmV0dXJuICdsaW5rIGhpZGRlbiB0b0VnbyBsaW5rVG9FZ28nOyB9XG5cdFx0XHRlbHNlIHsgcmV0dXJuICdsaW5rIGhpZGRlbiBub3RUb0VnbyBsaW5rTm90VG9FZ28nOyB9XG5cdFx0fSlcblx0XHQvLyBcIlRcIiBhdHRyaWJ1dGUgd2lsbCBrZWVwIHRyYWNrIG9mIHRoZSB0cmFuc2l0aW9uIHRpbWUgZWxhcHNlZFxuXHRcdC5hdHRyKCdUJywgMClcblx0XHQvLyBMaW5rcyB0byB0aGUgZWdvIG5vZGUgYXJlIGRhcmtlciB0aGFuIGxpbmtzIGJldHdlZW4gdGhlIG90aGVyc1xuXHRcdC5zdHlsZSgnb3BhY2l0eScsIGZ1bmN0aW9uKGQpIHtcblx0XHRcdHZhciBvcFZhbHMgPSBzZWxmLm9wYWNpdHlWYWxzO1xuXHRcdFx0aWYgKGQubGlua1RvRWdvKSB7XG5cdFx0XHRcdHJldHVybiBvcFZhbHMubGlua1RvRWdvO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIG9wVmFscy5saW5rTm90VG9FZ287XG5cdFx0XHR9XG5cdFx0XHQvLyByZXR1cm4gLjU7XG5cdFx0XHQvLyBpZiAoZC50YXJnZXQgPT09IDApIHsgcmV0dXJuIHNlbGYuZ3JhcGhQYXJhbXMub3BhY2l0eVZhbHMudmFsdWUubGlua1RvRWdvOyB9XG5cdFx0XHQvLyBlbHNlIHsgcmV0dXJuIHNlbGYuZ3JhcGhQYXJhbXMub3BhY2l0eVZhbHMudmFsdWUubGlua05vdFRvRWdvOyB9XG5cdFx0fSk7XG5cblx0ZnVuY3Rpb24gcGxhY2VOb2RlcygpIHtcblx0XHQvLyBUaGlzIGZ1bmN0aW9uIHdpbGwgZGV0ZXJtaW5lIHRoZSBmaW5hbCBzcGF0aWFsIHBsYWNlbWVudCBvZiBhbGwgb2YgdGhlIG5vZGVzLlxuXG5cdFx0c3dpdGNoIChzZWxmLm5vZGVQbGFjZW1lbnQpIHtcblx0XHRcdGNhc2Ugc2VsZi5ub2RlUGxhY2VtZW50T3B0aW9uc1swXTpcblx0XHRcdFx0Ly8gUGxhY2UgdGhlIG5vZGVzIHVzaW5nIHRoZSBmb3JjZSBsYXlvdXQuXG5cdFx0XHRcdC8vIFVzZXMgdGhlIGZvcmNlIGxheW91dCBwYXJhbWV0ZXJzIGluIHNlbGYubWFrZUZvcmNlXG5cdFx0XHRcdHNlbGYuZm9yY2Uuc3RhcnQoKTtcblx0XHRcdFx0Ly8gRXhlY3V0ZSBmb3JjZSBhIGJpdCwgdGhlbiBzdG9wXG5cdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpPDEwMDAwMDsgKytpKSBzZWxmLmZvcmNlLnRpY2soKTtcblx0XHRcdFx0c2VsZi5mb3JjZS5zdG9wKCk7XG5cdFx0XHRcdG5ld05vZGUuZWFjaChmdW5jdGlvbihkKSB7IGQuZml4ZWQgPSB0cnVlOyB9KTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2Ugc2VsZi5ub2RlUGxhY2VtZW50T3B0aW9uc1sxXTpcblx0XHRcdFx0Ly8gUGxhY2UgdGhlIG5vZGVzIGluIHNwaXJhbCBmb3JtYXRpb24uXG5cdFx0XHRcdHZhciBjeCA9IHNlbGYuZWdvTm9kZS54LFxuXHRcdFx0ICAgICAgICBjeSA9IHNlbGYuZWdvTm9kZS55LFxuXHRcdFx0ICAgICAgICAvLyBpbml0aWFsUmFkID0gNjA7XG5cdFx0XHQgICAgICAgIGluaXRpYWxSYWQgPSAyMDtcblx0XHRcdFx0dmFyIG51bU5vZGVzID0gc2VsZi5kYXRhLm5vZGVzLmxlbmd0aDtcblx0XHRcdFx0Ly8gY29uc29sZS5sb2cobnVtTm9kZXMpO1xuXHRcdFx0XHRuZXdOb2RlLmVhY2goZnVuY3Rpb24oZCwgaSkge1xuXHRcdFx0XHRcdGlmIChkLmlkeCAhPSAwKSB7XG5cdFx0XHRcdFx0XHRkLmZpeGVkID0gdHJ1ZTtcblx0XHRcdFx0XHRcdC8vIHZhciB0aGlzUmFkID0gaSAqIDIgKyBpbml0aWFsUmFkO1xuXHRcdFx0XHRcdFx0Ly8gdmFyIHRoaXNTcGFjaW5nID0gaSAqIChNYXRoLlBJLyg4LjUrLjEqaSkpO1xuXG5cdFx0XHRcdFx0XHR2YXIgdGhpc1JhZCA9IE1hdGgucG93KGksIDEpICogLjk1ICsgaW5pdGlhbFJhZDtcblx0XHRcdFx0XHRcdHZhciB0aGlzU3BhY2luZyA9IGkgKiAoTWF0aC5QSS8oOC41Ky4wNSppKSk7XG5cdFx0XHRcdFx0XHRkLnggPSBjeCArICh0aGlzUmFkICogTWF0aC5jb3ModGhpc1NwYWNpbmcpKTtcblx0XHRcdFx0XHRcdGQueSA9IGN5ICsgKHRoaXNSYWQgKiBNYXRoLnNpbih0aGlzU3BhY2luZykpO1xuXHRcdFx0XHRcdFx0Ly8gdmFyIGFuZ2xlID0gMC4xICogaTtcblx0XHRcdFx0XHRcdC8vIGQueCA9IGN4ICsgdGhpc1JhZCAqIE1hdGguY29zKGFuZ2xlKTtcblx0XHRcdFx0XHRcdC8vIGQueSA9IGN5ICsgdGhpc1JhZCAqIE1hdGguc2luKGFuZ2xlKTtcblxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHRcdHNlbGYuZm9yY2Uuc3RhcnQoKTtcblx0XHRcdFx0c2VsZi5mb3JjZS50aWNrKCk7XG5cdFx0XHRcdHNlbGYuZm9yY2Uuc3RvcCgpO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSBzZWxmLm5vZGVQbGFjZW1lbnRPcHRpb25zWzJdOlxuXHRcdFx0XHQvLyBBbHRlcm5hdGUgc3BpcmFsIGFsZ29yaXRobVxuXHRcdFx0XHQvL1xuXHRcdFx0XHQvLyBodHRwOi8vZ2FtZWRldi5zdGFja2V4Y2hhbmdlLmNvbS9xdWVzdGlvbnMvMTY3NDUvbW92aW5nLWEtcGFydGljbGUtYXJvdW5kLWFuLWFyY2hpbWVkZWFuLXNwaXJhbC1hdC1hLWNvbnN0YW50LXNwZWVkXG5cdFx0XHRcdGZ1bmN0aW9uIGNvbXB1dGVBbmdsZShhbHBoYSwgYXJjTGVuZ3RoLCBlcHNpbG9uKSB7XG5cdFx0XHRcdFx0Ly8gYWxwaGE6IGRpc3RhbmNlIGJldHdlZW4gc3VjY2Vzc2l2ZSB0dXJuaW5nc1xuXHRcdFx0XHRcdC8vIGFyY0xlbmd0aDogZGVzaXJlZCBhcmNMZW5ndGhcblx0XHRcdFx0XHQvLyBlcHNpbG9uOiAodmFsdWUgPjApIGluZGljYXRlcyB0aGUgcHJlY2lzaW9uIG9mIHRoZSBhcHByb3hpbWF0aW9uXG5cdFx0XHRcdFx0Ly8gcmV0dXJuczogYW5nbGUgYXQgd2hpY2ggdGhlIGRlc2lyZWQgYXJjTGVuZ3RoIGlzIGFjaGlldmVkXG5cdFx0XHRcdFx0dmFyIGFuZ2xlUmFkID0gTWF0aC5QSSArIE1hdGguUEk7XG5cdFx0XHRcdFx0d2hpbGUgKHRydWUpIHtcblx0XHRcdFx0XHRcdHZhciBkID0gY29tcHV0ZUFyY0xlbmd0aChhbHBoYSwgYW5nbGVSYWQpIC0gYXJjTGVuZ3RoO1xuXHRcdFx0XHRcdFx0aWYgKE1hdGguYWJzKGQpIDw9IGVwc2lsb24pIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGFuZ2xlUmFkO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0dmFyIGRhID0gYWxwaGEgKiBNYXRoLnNxcnQoYW5nbGVSYWQgKiBhbmdsZVJhZCArIDEpO1xuXHRcdFx0XHRcdFx0YW5nbGVSYWQgPSBhbmdsZVJhZCAtIChkIC8gZGEpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRmdW5jdGlvbiBjb21wdXRlQXJjTGVuZ3RoKGFscGhhLCBhbmdsZVJhZCkge1xuXHRcdFx0XHRcdHZhciB1ID0gTWF0aC5zcXJ0KDEgKyBhbmdsZVJhZCAqIGFuZ2xlUmFkKTtcblx0XHRcdFx0XHR2YXIgdiA9IE1hdGgubG9nKGFuZ2xlUmFkICsgdSk7XG5cdFx0XHRcdFx0cmV0dXJuIDAuNSAqIGFscGhhICogKGFuZ2xlUmFkICogdSArIHYpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGZ1bmN0aW9uIGNvbXB1dGVQb2ludChhbHBoYSwgYW5nbGVSYWQpIHtcblx0XHRcdFx0XHR2YXIgZGlzdGFuY2UgPSBhbmdsZVJhZCAqIGFscGhhO1xuXHRcdFx0XHRcdHZhciB4ID0gTWF0aC5zaW4oYW5nbGVSYWQpICogZGlzdGFuY2U7XG5cdFx0XHRcdFx0dmFyIHkgPSBNYXRoLmNvcyhhbmdsZVJhZCkgKiBkaXN0YW5jZTtcblx0XHRcdFx0XHRyZXR1cm4gW3gsIHldO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGZ1bmN0aW9uIGdldEFuZ2xlcyhudW1Ob2RlcywgYWxwaGEpIHtcblx0XHRcdFx0XHR2YXIgcG9pbnRBcmNEaXN0YW5jZSA9IDU7XG5cdFx0XHRcdFx0dmFyIGVwc2lsb24gPSAuMDAwMDU7XG5cdFx0XHRcdFx0dmFyIHRvdGFsQXJjTGVuZ3RoID0gMC4wO1xuXHRcdFx0XHRcdHZhciBwcmV2aW91c0FuZ2xlUmFkID0gMC4wO1xuXHRcdFx0XHRcdHZhciBhbmdsZXMgPSBbXTtcblx0XHRcdFx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gbnVtTm9kZXM7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0XHRcdFx0dmFyIGFuZ2xlUmFkID0gY29tcHV0ZUFuZ2xlKGFscGhhLCB0b3RhbEFyY0xlbmd0aCwgZXBzaWxvbik7XG5cdFx0XHRcdFx0XHRhbmdsZXMucHVzaChhbmdsZVJhZCk7XG5cdFx0XHRcdFx0XHR0b3RhbEFyY0xlbmd0aCA9IHRvdGFsQXJjTGVuZ3RoICsgcG9pbnRBcmNEaXN0YW5jZTtcblx0XHRcdFx0XHRcdHByZXZpb3VzQW5nbGVSYWQgPSBhbmdsZVJhZDtcblx0XHRcdFx0XHRcdGlmIChpPjEwKSB7IHBvaW50QXJjRGlzdGFuY2UgPSAxMDt9XG5cdFx0XHRcdFx0XHRpZiAoaT41MCkgeyBwb2ludEFyY0Rpc3RhbmNlID0gMTU7fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gYW5nbGVzO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHZhciBudW1Ob2RlcyA9IHNlbGYuZGF0YS5ub2Rlcy5sZW5ndGg7XG5cdFx0XHRcdHZhciBhbmdsZXMgPSBnZXRBbmdsZXMobnVtTm9kZXMsIDcpO1xuXHRcdFx0XHQvLyBjb25zb2xlLmxvZyhhbmdsZXMpO1xuXHRcdFx0XHR2YXIgY3ggPSBzZWxmLmVnb05vZGUueCxcblx0XHRcdCAgICAgICAgY3kgPSBzZWxmLmVnb05vZGUueSxcblx0XHRcdCAgICAgICAgLy8gaW5pdGlhbFJhZCA9IDYwO1xuXHRcdFx0ICAgICAgICBpbml0aWFsUmFkID0gMjA7XG5cdFx0XHRcdHZhciBudW1Ob2RlcyA9IHNlbGYuZGF0YS5ub2Rlcy5sZW5ndGg7XG5cdFx0XHRcdGNvbnNvbGUubG9nKG51bU5vZGVzKTtcblx0XHRcdFx0bmV3Tm9kZS5lYWNoKGZ1bmN0aW9uKGQsIGkpIHtcblx0XHRcdFx0XHRpZiAoZC5pZHggIT0gMCkge1xuXHRcdFx0XHRcdFx0ZC5maXhlZCA9IHRydWU7XG5cdFx0XHRcdFx0XHR2YXIgdGhpc1JhZCA9IGkgKiAyICsgaW5pdGlhbFJhZDtcblx0XHRcdFx0XHRcdHZhciB0aGlzU3BhY2luZyA9IGkgKiAoTWF0aC5QSS8oOC41Ky4xKmkpKTtcblxuXHRcdFx0XHRcdFx0Ly8gdmFyIHRoaXNSYWQgPSBNYXRoLnBvdyhpLCAxKSAqIC45NSArIGluaXRpYWxSYWQ7XG5cdFx0XHRcdFx0XHQvLyB2YXIgdGhpc1NwYWNpbmcgPSBpICogKE1hdGguUEkvKDguNSsuMDUqaSkpO1xuXHRcdFx0XHRcdFx0Ly8gZC54ID0gY3ggKyAodGhpc1JhZCAqIE1hdGguY29zKHRoaXNTcGFjaW5nKSk7XG5cdFx0XHRcdFx0XHQvLyBkLnkgPSBjeSArICh0aGlzUmFkICogTWF0aC5zaW4odGhpc1NwYWNpbmcpKTtcblx0XHRcdFx0XHRcdC8vIHZhciBhbmdsZSA9IDAuMSAqIGk7XG5cdFx0XHRcdFx0XHQvLyBkLnggPSBjeCArIHRoaXNSYWQgKiBNYXRoLmNvcyhhbmdsZSk7XG5cdFx0XHRcdFx0XHQvLyBkLnkgPSBjeSArIHRoaXNSYWQgKiBNYXRoLnNpbihhbmdsZSk7XG5cdFx0XHRcdFx0XHR2YXIgcG93U2NhbGUgPSBkMy5zY2FsZS5wb3coKS5leHBvbmVudCguNykuZG9tYWluKFsxLG51bU5vZGVzXSkucmFuZ2UoWzAsNjBdKTtcblx0XHRcdFx0XHRcdHZhciBwb3dTY2FsZSA9IGQzLnNjYWxlLmxpbmVhcigpLmRvbWFpbihbMSxNYXRoLnBvdyhudW1Ob2RlcywgLjMpXSkucmFuZ2UoWzAsNjBdKTtcblx0XHRcdFx0XHRcdHZhciBwb3dTY2FsZSA9IGQzLnNjYWxlLmxvZygpLmRvbWFpbihbMTAwLCBudW1Ob2RlcysxMDBdKS5yYW5nZShbMCw2MF0pO1xuXHRcdFx0XHRcdFx0Ly8gdmFyIHRoaXNQb3MgPSBNYXRoLnBvdyhpKzEsIC43KSAqIDE7XG5cdFx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZyh0aGlzUG9zKTtcblx0XHRcdFx0XHRcdHZhciBuZXdpID0gTWF0aC5wb3coaSsxLCAuMyk7XG5cdFx0XHRcdFx0XHR2YXIgbmV3aSA9IChpKSsxMDA7XG5cdFx0XHRcdFx0XHR2YXIgdGhpc1BvcyA9IHBvd1NjYWxlKG5ld2kpO1xuXHRcdFx0XHRcdFx0Ly8gY29uc29sZS5sb2codGhpc1Bvcylcblx0XHRcdFx0XHRcdHZhciBiID0gNztcblx0XHRcdFx0XHRcdHZhciB0aGlzUG9zID0gYW5nbGVzW2ldO1xuXHRcdFx0XHRcdFx0ZC54ID0gY3ggKyAoaW5pdGlhbFJhZCArIGIgKiB0aGlzUG9zKSAqIE1hdGguY29zKHRoaXNQb3MpO1xuXHRcdFx0XHRcdFx0ZC55ID0gY3kgKyAoaW5pdGlhbFJhZCArIGIgKiB0aGlzUG9zKSAqIE1hdGguc2luKHRoaXNQb3MpO1xuXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0c2VsZi5mb3JjZS5zdGFydCgpO1xuXHRcdFx0XHRzZWxmLmZvcmNlLnRpY2soKTtcblx0XHRcdFx0c2VsZi5mb3JjZS5zdG9wKCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuICAgIHBsYWNlTm9kZXMoKTtcblxuXHRzZWxmLmxlZ2VuZEluaXQoKTtcblx0c2VsZi5hZGRBdXRob3JJbWFnZSgpO1xuXHRzZWxmLmFkZEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICBzZWxmLnllYXJUZXh0RGlzcGxheSA9IHNlbGYuc3ZnLmFwcGVuZCgnc3ZnOnRleHQnKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneCcsIHNlbGYuZ3JhcGhEaW1lbnNpb25zLndpZHRoICogOC85KVxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneScsIHNlbGYuZ3JhcGhEaW1lbnNpb25zLmhlaWdodCAqIDEyLzEzKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZHknLCAnLS4zZW0nKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZm9udC1zaXplJywgJzEwZW0nKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cigndGV4dC1hbmNob3InLCAnZW5kJylcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdwb2ludGVyLWV2ZW50cycsICdub25lJylcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMWUtOSlcblx0XHRcdFx0XHQuYXR0cignaWQnLCAnZWdvR3JhcGhWaXNfeWVhckluZGljYXRvcicpXG5cdFx0XHRcdFx0LnRleHQoc2VsZi5kYXRhLmdyYXBoLnllYXJSYW5nZVswXSk7XG5cblx0c2VsZi5yZXZlYWxFZ29Ob2RlKCk7XG5cbn07XG5cbmVnb0dyYXBoVmlzLnByb3RvdHlwZS5tYWtlWm9vbSA9IGZ1bmN0aW9uICgpIHtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXHRyZXR1cm4gZDMuYmVoYXZpb3Iuem9vbSgpXG5cdFx0LmNlbnRlcihbc2VsZi5ncmFwaERpbWVuc2lvbnMud2lkdGgvMiwgc2VsZi5ncmFwaERpbWVuc2lvbnMuaGVpZ2h0LzJdKVxuXHRcdC5zY2FsZUV4dGVudChbMC4yLCAxMF0pXG5cdFx0Lm9uKCd6b29tJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRzZWxmLmdyb3VwLmF0dHIoXG5cdFx0XHRcdCd0cmFuc2Zvcm0nLFxuXHRcdFx0XHQndHJhbnNsYXRlKCcgKyBkMy5ldmVudC50cmFuc2xhdGUgKyAnKScgK1xuXHRcdFx0XHRcdCdzY2FsZSgnICsgZDMuZXZlbnQuc2NhbGUgKyAnKSdcblx0XHRcdCk7XG5cdFx0fSk7XG59O1xuXG5lZ29HcmFwaFZpcy5wcm90b3R5cGUubWFrZVRpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIC8vIGNhY2hlIGZ1bmN0aW9uIGNyZWF0aW9uIGZvciB0aW55IG9wdGltaXphdGlvblxuICAgIGZ1bmN0aW9uIHgxKGQpIHsgcmV0dXJuIGQuc291cmNlLng7IH1cbiAgICBmdW5jdGlvbiB5MShkKSB7IHJldHVybiBkLnNvdXJjZS55OyB9XG4gICAgZnVuY3Rpb24geDIoZCkgeyByZXR1cm4gZC50YXJnZXQueDsgfVxuICAgIGZ1bmN0aW9uIHkyKGQpIHsgcmV0dXJuIGQudGFyZ2V0Lnk7IH1cbiAgICAvLyBmdW5jdGlvbiB0cmFuc2Zvcm0oZCkge1xuICAgIC8vICAgICBkLnggPSBNYXRoLm1heCg0LjUsIE1hdGgubWluKHNlbGYuZ3JhcGhEaW1lbnNpb25zLndpZHRoIC0gNC41LCBkLngpKTtcbiAgICAvLyAgICAgZC55ID0gTWF0aC5tYXgoNC41LCBNYXRoLm1pbihzZWxmLmdyYXBoRGltZW5zaW9ucy5oZWlnaHQgLSA0LjUsIGQueSkpO1xuICAgIC8vICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgnICsgZC54ICsgJywnICsgZC55ICsgJyknO1xuICAgIC8vIH1cbiAgICBmdW5jdGlvbiB0cmFuc2Zvcm0oZCkge1xuXHRcdC8vIFRoZSBiZWxvdyBsaW5lcyBjb25zdHJhaW4gdGhlIG5vZGVzIHRvIHN0YXkgd2l0aGluIHRoZSBib3VuZHMgb2YgdGhlIG9yaWdpbmFsIGRpc3BsYXkuXG5cdFx0aWYgKHNlbGYuem9vbWFibGUgPT09IGZhbHNlKSB7XG5cdFx0XHRkLnggPSBNYXRoLm1heCg0LjUsIE1hdGgubWluKHNlbGYuZ3JhcGhEaW1lbnNpb25zLndpZHRoIC0gNC41LCBkLngpKTtcblx0XHRcdGQueSA9IE1hdGgubWF4KDQuNSwgTWF0aC5taW4oc2VsZi5ncmFwaERpbWVuc2lvbnMuaGVpZ2h0IC0gNC41LCBkLnkpKTtcblx0XHR9XG4gICAgICAgIHJldHVybiAndHJhbnNsYXRlKCcgKyBkLnggKyAnLCcgKyBkLnkgKyAnKSc7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGYubGlua1xuICAgICAgICAgICAgLmF0dHIoJ3gxJywgeDEpXG4gICAgICAgICAgICAuYXR0cigneTEnLCB5MSlcbiAgICAgICAgICAgIC5hdHRyKCd4MicsIHgyKVxuICAgICAgICAgICAgLmF0dHIoJ3kyJywgeTIpO1xuICAgICAgICBzZWxmLm5vZGVcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCB0cmFuc2Zvcm0pO1xuICAgIH07XG59O1xuXG5lZ29HcmFwaFZpcy5wcm90b3R5cGUubWFrZUZvcmNlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gZDMubGF5b3V0LmZvcmNlKClcbiAgICAgICAgLnNpemUoW3NlbGYuZ3JhcGhEaW1lbnNpb25zLndpZHRoLCBzZWxmLmdyYXBoRGltZW5zaW9ucy5oZWlnaHRdKVxuICAgICAgICAubGlua0Rpc3RhbmNlKDIyNSlcbiAgICAgICAgLy8ubGlua0Rpc3RhbmNlKGZ1bmN0aW9uKGQpIHsgY29uc29sZS5sb2coc2VsZi5sZFNjbChkLnNvdXJjZS5ZZWFyKSk7IHJldHVybiBzZWxmLmxkU2NsKGQuc291cmNlLlllYXIpID8gNzUgKyBzZWxmLmxkU2NsKGQuc291cmNlLlllYXIpIDogMDt9KVxuICAgICAgICAvLy5saW5rU3RyZW5ndGgoZnVuY3Rpb24oZCkgeyByZXR1cm4gc2VsZi5sc1NjbChkLnNvdXJjZS5ZZWFyKSA/IHNlbGYubHNTY2woZC5zb3VyY2UuWWVhcikgOiAwO30pXG4gICAgICAgIC8vIC5jaGFyZ2UoLTE1KVxuICAgICAgICAvLyAuZ3Jhdml0eSgwLjAzKVxuICAgICAgICAvLyAuZnJpY3Rpb24oMC44KVxuICAgICAgICAvLyAudGhldGEoMC45KVxuICAgICAgICAvLyAuYWxwaGEoMC4xKVxuICAgICAgICAub24oJ3RpY2snLCB0aGlzLnRpY2spO1xufTtcblxuZWdvR3JhcGhWaXMucHJvdG90eXBlLmltcG9ydERlZmF1bHRPcHRpb25zID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0c2VsZi5jb2xvclNjaGVtZSA9IG9wdGlvbnMuY29sb3JTY2hlbWU7XG5cblx0c2VsZi5ncmFwaERpbWVuc2lvbnMgPSBvcHRpb25zLmRpbWVuc2lvbnM7XG5cblx0c2VsZi50cmFuc2l0aW9uVGltZVBlclllYXIgPSBvcHRpb25zLnRyYW5zaXRpb25UaW1lUGVyWWVhcjtcblxuXHRjb25zb2xlLmxvZyhvcHRpb25zKTtcblxufTtcblxuLy8gVGhpcyB2ZXJzaW9uIG9mIGdldERvbWFpbnNUaGlzR3JhcGggY291bnRzIHVwIHRoZSBvY2N1cnJlbmNlcyBvZiB0aGUgZG9tYWluc1xuLy8gdG8gYWxsb3cgZm9yIGFuIFwib3RoZXJcIiBjYXRlZ29yeS5cbi8vIElmIHdlJ3JlIHVzaW5nIHByZWRldGVybWluZWQgay1tZWFucy1iYXNlZCBjYXRlZ29yaWVzLCB3ZSBkb24ndCBuZWVkIHRoaXMuXG4vLyBTbyB1c2UgdGhlIGJlbG93IHZlcnNpb24gb2YgZ2V0RG9tYWluc1RoaXNHcmFwaCBpbnN0ZWFkLlxuLy9cbi8vIGVnb0dyYXBoVmlzLnByb3RvdHlwZS5nZXREb21haW5zVGhpc0dyYXBoID0gZnVuY3Rpb24oKSB7XG4vLyBcdHZhciBzZWxmID0gdGhpcztcbi8vXG4vLyBcdC8vIHZhciBkb21haW5zID0gc2VsZi5kYXRhLmdyYXBoLkRvbWFpbnM7XG4vLyBcdC8vIHZhciBkb21haW5zID0gc2VsZi5kYXRhLmdyYXBoLmZvc19rbWVhbnNfY2F0ZWdvcmllcztcbi8vIFx0dmFyIGRvbWFpbnMgPSBzZWxmLmRhdGEuZ3JhcGgudGl0bGVzX2ttZWFuc19jYXRlZ29yaWVzO1xuLy8gXHRjb25zb2xlLmxvZyhkb21haW5zKTtcbi8vXG4vLyBcdHZhciBtYXhEb21haW5zID0gc2VsZi5jb2xvclNjaGVtZS5sZW5ndGg7XG4vLyBcdFxuLy8gXHQvLyBzZWxmLmRvbWFpbnNUaGlzR3JhcGggd2lsbCBiZSBhbiBhcnJheSBvZiB7a2V5OiBcIkRvbWFpbklEXCIsIHZhbHVlczogY291bnR9XG4vLyBcdHNlbGYuZG9tYWluc1RoaXNHcmFwaCA9IGQzLm5lc3QoKVxuLy8gXHRcdC8vIC5rZXkoZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5Eb21haW5JRDsgfSlcbi8vIFx0XHQvLyAua2V5KGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQuZm9zX2ttZWFuc19jYXRlZ29yeTsgfSlcbi8vIFx0XHQua2V5KGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQudGl0bGVfa21lYW5zX2NhdGVnb3J5OyB9KVxuLy8gXHRcdC5yb2xsdXAoZnVuY3Rpb24obGVhdmVzKSB7IHJldHVybiBsZWF2ZXMubGVuZ3RoOyB9KVxuLy8gXHRcdC5lbnRyaWVzKHNlbGYubm90RWdvTm9kZXMpO1xuLy8gXHQvLyBzZWxmLmRvbWFpbnNUaGlzR3JhcGguc29ydChmdW5jdGlvbihhLGIpIHsgcmV0dXJuIGQzLmRlc2NlbmRpbmcoYS52YWx1ZXMsIGIudmFsdWVzKTsgfSk7XG4vLyBcdC8vIEFkZCBhIGZldyBtb3JlIHZhcmlhYmxlcyB0byB0aGUgZG9tYWluc1RoaXNHcmFwaCBkYXRhOlxuLy8gXHRmb3IgKHZhciBpPTA7IGk8c2VsZi5kb21haW5zVGhpc0dyYXBoLmxlbmd0aDsgaSsrKSB7XG4vLyBcdFx0Ly8gdmFyIGtleSA9ICtzZWxmLmRvbWFpbnNUaGlzR3JhcGhbaV0ua2V5O1xuLy8gXHRcdHZhciBrZXkgPSBzZWxmLmRvbWFpbnNUaGlzR3JhcGhbaV0ua2V5O1xuLy8gXHRcdHNlbGYuZG9tYWluc1RoaXNHcmFwaFtpXS5Eb21haW5JRCA9IGtleTtcbi8vIFx0XHQvLyBpZiAoaTxtYXhEb21haW5zLTEpIHtcbi8vIFx0XHQvLyBcdHNlbGYuZG9tYWluc1RoaXNHcmFwaFtpXS5Eb21haW5OYW1lID0gZG9tYWluc1trZXldO1xuLy8gXHRcdC8vIFx0c2VsZi5kb21haW5zVGhpc0dyYXBoW2ldLmNvbG9yID0gc2VsZi5jb2xvclNjaGVtZVtpXTtcbi8vIFx0XHQvLyB9IGVsc2Uge1xuLy8gXHRcdC8vIFx0c2VsZi5kb21haW5zVGhpc0dyYXBoW2ldLkRvbWFpbk5hbWUgPSBcIk90aGVyXCI7XG4vLyBcdFx0Ly8gXHRzZWxmLmRvbWFpbnNUaGlzR3JhcGhbaV0uY29sb3IgPSBzZWxmLmNvbG9yU2NoZW1lW21heERvbWFpbnMtMV07XG4vLyBcdFx0Ly8gfVxuLy8gXHRcdHNlbGYuZG9tYWluc1RoaXNHcmFwaFtpXS5Eb21haW5OYW1lID0gZG9tYWluc1trZXldO1xuLy8gXHRcdHNlbGYuZG9tYWluc1RoaXNHcmFwaFtpXS5jb2xvciA9IHNlbGYuY29sb3JTY2hlbWVbaV07XG4vLyBcdH1cbi8vIFx0Y29uc29sZS5sb2coc2VsZi5kb21haW5zVGhpc0dyYXBoKTtcbi8vIH07XG5cbmVnb0dyYXBoVmlzLnByb3RvdHlwZS5nZXREb21haW5zVGhpc0dyYXBoID0gZnVuY3Rpb24oKSB7XG5cdC8vIFVzZSB0aGlzIHZlcnNpb24gb2YgZ2V0RG9tYWluc1RoaXNHcmFwaCBpZiB0aGUgY2F0ZWdvcmllcyBhcmUgcHJlZGV0ZXJtaW5lZCBhbmQgZG9uJ3QgbmVlZCB0byBiZSBjb3VudGVkLlxuXHQvLyAoV2UgZG9uJ3QgbmVlZCBhbiBcIm90aGVyXCIgKG1pc2NlbGxhbmVvdXMpIGNhdGVnb3J5XG5cdFxuXHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0dmFyIG1heERvbWFpbnMgPSBzZWxmLmNvbG9yU2NoZW1lLmxlbmd0aDtcblx0XG5cdHZhciBkb21haW5zID0gc2VsZi5kYXRhLmdyYXBoLnRmaWRmX2ttZWFuc19jYXRlZ29yaWVzO1xuXHRzZWxmLmRvbWFpbnNUaGlzR3JhcGggPSBbXTtcblx0Ly8gQWRkIGEgZmV3IG1vcmUgdmFyaWFibGVzIHRvIHRoZSBkb21haW5zVGhpc0dyYXBoIGRhdGE6XG5cdGZvciAodmFyIGk9MDsgaTxtYXhEb21haW5zOyBpKyspIHtcblx0XHRzZWxmLmRvbWFpbnNUaGlzR3JhcGgucHVzaCh7fSk7XG5cdFx0c2VsZi5kb21haW5zVGhpc0dyYXBoW2ldLkRvbWFpbklEID0gaTtcblx0XHRzZWxmLmRvbWFpbnNUaGlzR3JhcGhbaV0uRG9tYWluTmFtZSA9IGRvbWFpbnNbaV07XG5cdFx0c2VsZi5kb21haW5zVGhpc0dyYXBoW2ldLmNvbG9yID0gc2VsZi5jb2xvclNjaGVtZVtpXTtcblx0fVxuXHRjb25zb2xlLmxvZyhzZWxmLmRvbWFpbnNUaGlzR3JhcGgpO1xufTtcblxuZWdvR3JhcGhWaXMucHJvdG90eXBlLmxlZ2VuZEluaXQgPSBmdW5jdGlvbigpIHtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdHZhciBtaXNpbmZvTGVnZW5kSXRlbXNUZXh0ID0gW1xuXHRcdCdjb21wdXRlciBzY2llbmNlLCBkYXRhIG1pbmluZywgLi4uJyxcblx0XHQnc29jaW9sb2d5LCBzb2NpYWwgc2NpZW5jZSwgLi4uJyxcblx0XHQnbWVkaWNpbmUsIGhlYWx0aCwgLi4uJyxcblx0XHQnZWNvbm9taWNzLCBidXNpbmVzcywgLi4uJyxcblx0XHQncHN5Y2hvbG9neSwgY29nbml0aW9uLCAuLi4nLFxuXHRcdCdwb2xpdGljYWwgc2NpZW5jZSwgLi4uJyxcblx0XHQnYmlvbG9neSwgZWNvbG9neSwgLi4uJyxcblx0XHQnY2xpbWF0ZSBjaGFuZ2UsIC4uLicsXG5cdF07XG5cblx0dmFyIHNxdWFyZVNpemUgPSBzZWxmLmdyYXBoRGltZW5zaW9ucy53aWR0aCAvIDcwO1xuICAgIHZhciBwYWRkaW5nID0gc3F1YXJlU2l6ZSAvIDM7XG4gICAgdmFyIHNxclBsdXNQYWRkaW5nID0gc3F1YXJlU2l6ZSArIHBhZGRpbmc7XG5cbiAgICBzZWxmLmxlZ2VuZCA9IHNlbGYuc3ZnLmFwcGVuZCgnZycpXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdsZWdlbmQnKVxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnK3BhZGRpbmcrJywnK3BhZGRpbmcrJyknKTtcbiAgICAgICAgLy8gLnN0eWxlKCdvcGFjaXR5JywgMWUtOSk7XG5cdHZhciBsZWdlbmRIZWFkZXJTaXplID0gc3F1YXJlU2l6ZTtcblx0c2VsZi5sZWdlbmQuYXBwZW5kKCdzdmc6dGV4dCcpXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDAsICcgKyBsZWdlbmRIZWFkZXJTaXplICsgJyknKVxuXHRcdC5hdHRyKCdjbGFzcycsICdlZ29HcmFwaFZpc0xlZ2VuZEhlYWRlcicpXG5cdFx0LnRleHQoJ0NhdGVnb3JpZXMg4pOYJyk7XG5cbiAgICB2YXIgbGVnZW5kSXRlbSA9IHNlbGYubGVnZW5kLnNlbGVjdEFsbCgnZycpXG4gICAgICAgIC5kYXRhKHNlbGYuZG9tYWluc1RoaXNHcmFwaClcbiAgICAgICAgLmVudGVyKClcbiAgICAgICAgLmFwcGVuZCgnZycpXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdsZWdlbmRJdGVtJylcblx0XHQvLyAvLyBhZGQgXCJvdGhlclwiIGNsYXNzIHRvIGxhc3QgbGVnZW5kIGl0ZW1cblx0XHQvLyAuY2xhc3NlZCgnb3RoZXInLCBmdW5jdGlvbihkKSB7IFxuXHRcdC8vIFx0cmV0dXJuIChkLkRvbWFpbklEICE9IDAgJiYgZC5Eb21haW5OYW1lLnRvTG93ZXJDYXNlKCk9PVwib3RoZXJcIikgPyB0cnVlIDogZmFsc2U7XG5cdFx0Ly8gfSlcbiAgICAgICAgLmF0dHIoJ2lkJywgZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgLy8gcmV0dXJuICdsZWdlbmRDbHVzdGVyJyArIGQuY2x1c3RlcjsgfSlcbiAgICAgICAgICAgIC8vIFVzZSBEb21haW4gaW5zdGVhZCBvZiBjbHVzdGVyXG4gICAgICAgICAgICAvLyByZXR1cm4gJ2xlZ2VuZERvbWFpbicgKyBkLkRvbWFpbklELnJlcGxhY2UoXCIgXCIsIFwiXCIpOyB9KVxuICAgICAgICAgICAgcmV0dXJuICdsZWdlbmREb21haW4nICsgZC5Eb21haW5JRDsgfSlcblx0XHQub24oXCJtb3VzZW92ZXJcIiwgZnVuY3Rpb24oZCkge1xuXHRcdFx0ZDMuc2VsZWN0QWxsKFwiLm5vZGVcIilcblx0XHRcdFx0LmZpbHRlcihmdW5jdGlvbihkZCkge1xuXHRcdFx0XHRcdHJldHVybiBkLmNvbG9yPT1kZC5jb2xvcjtcblx0XHRcdFx0fSlcblx0XHRcdFx0LmNsYXNzZWQoXCJsZWdlbmRIb3ZlclwiLCB0cnVlKTtcblxuXHRcdH0pXG5cdFx0Lm9uKFwibW91c2VvdXRcIiwgZnVuY3Rpb24oZCkge1xuXHRcdFx0ZDMuc2VsZWN0QWxsKFwiLm5vZGVcIikuY2xhc3NlZChcImxlZ2VuZEhvdmVyXCIsIGZhbHNlKTtcblx0XHR9KVxuXHRcdC5hdHRyKFwiZGlzcGxheVwiLCBmdW5jdGlvbihkLCBpKSB7XG5cdFx0XHRcdC8vIGhpZGUgYWxsIFwib3RoZXJcIiBkb21haW4gb2JqZWN0cyBleGNlcHQgdGhlIGZpcnN0IG9uZVxuXHRcdFx0XHRpZiAoaTxzZWxmLmNvbG9yU2NoZW1lLmxlbmd0aCkge1xuXHRcdFx0XHRcdHJldHVybiBcIlwiO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJldHVybiBcIm5vbmVcIjtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG4gICAgICAgIC8vIC8vIHN0YXJ0IG9mZiBoaWRkZW4gaWYgbm90IHRoZSBzYW1lIGRvbWFpbiBhcyB0aGUgZWdvIG5vZGVcbiAgICAgICAgLy8gLnN0eWxlKCdvcGFjaXR5JywgZnVuY3Rpb24oZCkge1xuICAgICAgICAvLyAgICAgLy8gdmFyIHRoaXNUb3BDbHVzdGVyID0gZC5jbHVzdGVyLnNwbGl0KCc6JylbMF07XG4gICAgICAgIC8vICAgICAvLyBpZiAodGhpc1RvcENsdXN0ZXIgPT09IGVnb05vZGVUb3BDbHVzdGVyKSByZXR1cm4gMTsgZWxzZSByZXR1cm4gMDtcbiAgICAgICAgLy8gICAgIGlmIChkLkRvbWFpbklEPT09c2VsZi5lZ29Ob2RlLkRvbWFpbklEKSByZXR1cm4gMTsgZWxzZSByZXR1cm4gMDtcbiAgICAgICAgLy8gfSk7XG4gICAgLy8gLy8gRG9uJ3QgaGlkZSB0aGUgbGVnZW5kIGlmIGFubm90YXRpb25zIGFyZSB0dXJuZWQgb2ZmXG4gICAgLy8gLy8gbWF5YmUgdHJ5IGEgZGlmZmVyZW50IGFwcHJvYWNoIGxhdGVyXG4gICAgLy8gaWYgKCAhc2VsZi5ncmFwaFBhcmFtcy5kb0Fubm90YXRpb25zLnZhbHVlICkgbGVnZW5kSXRlbS5zdHlsZSgnb3BhY2l0eScsIDEpO1xuXG4gICAgbGVnZW5kSXRlbS5hcHBlbmQoJ3N2ZzpyZWN0JylcbiAgICAgICAgLmF0dHIoJ3dpZHRoJywgc3F1YXJlU2l6ZSlcbiAgICAgICAgLmF0dHIoJ2hlaWdodCcsIHNxdWFyZVNpemUpXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBmdW5jdGlvbihkLCBpKSB7XG4gICAgICAgICAgICAvLyByZXR1cm4gJ3RyYW5zbGF0ZSgwLCcgKyAoc3FyUGx1c1BhZGRpbmcgKiBpKSArICcpJztcbiAgICAgICAgICAgIHJldHVybiAndHJhbnNsYXRlKDAsJyArIChsZWdlbmRIZWFkZXJTaXplICsgcGFkZGluZyArIHNxclBsdXNQYWRkaW5nICogaSkgKyAnKSc7XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKCdmaWxsJywgZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgcmV0dXJuIGQuY29sb3I7IH0pO1xuICAgIHNlbGYubGVnZW5kVGV4dCA9IGxlZ2VuZEl0ZW0uYXBwZW5kKCdzdmc6dGV4dCcpXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBmdW5jdGlvbihkLCBpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArIChzcXJQbHVzUGFkZGluZykgKyAnLCcgKyAobGVnZW5kSGVhZGVyU2l6ZSArIHBhZGRpbmcgKyBzcXJQbHVzUGFkZGluZyAqIGkpICsgJyknO1xuICAgICAgICB9KVxuICAgICAgICAuYXR0cignZHknLCAnMWVtJylcbiAgICAgICAgLnRleHQoZnVuY3Rpb24oZCwgaSkge1xuICAgICAgICAgICAgICAgIC8vIHJldHVybiAnUGFwZXJzIGluIGNhdGVnb3J5IFwiJyArIGQuRG9tYWluTmFtZSArICdcIiAoZG9tYWluICcgKyBkLkRvbWFpbklEICsgJyknO1xuICAgICAgICAgICAgICAgIC8vXG5cdFx0XHRcdC8vIGlmIChkLkRvbWFpbklEICE9IDAgJiYgZC5Eb21haW5OYW1lLnRvTG93ZXJDYXNlKCk9PVwib3RoZXJcIikge1xuXHRcdFx0XHQvLyBcdHJldHVybiBcIlBhcGVycyBpbiBvdGhlciBjYXRlZ29yaWVzXCI7XG5cdFx0XHRcdC8vIH0gZWxzZSB7XG5cdFx0XHRcdC8vIFx0cmV0dXJuICdQYXBlcnMgaW4gY2F0ZWdvcnkgXCInICsgZC5Eb21haW5OYW1lICsgJ1wiJztcblx0XHRcdFx0Ly8gfVxuICAgICAgICAgICAgICAgIC8vXG5cdFx0XHRcdC8vIHJldHVybiBkLkRvbWFpbk5hbWU7XG4gICAgICAgICAgICAgICAgLy9cblx0XHRcdFx0Ly8gcmV0dXJuIFwiQ2F0ZWdvcnkgXCIgKyBkLkRvbWFpbklEO1xuXG5cdFx0XHRcdHJldHVybiAnQycgKyBpICsgJyAoJyArIG1pc2luZm9MZWdlbmRJdGVtc1RleHRbaV0gKyAnKSc7XG4gICAgICAgIH0pXG5cdFx0LnN0eWxlKCdmb250LXNpemUnLCAnLjllbScpO1xuXG5cbn07XG5cbmVnb0dyYXBoVmlzLnByb3RvdHlwZS5hZGRBdXRob3JJbWFnZSA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cdGlmIChzZWxmLmVnb05vZGUuaGFzT3duUHJvcGVydHkoJ25hbWUnKSkge1xuXHRcdHNlbGYuZWdvTm9kZS5BdXRob3JOYW1lID0gc2VsZi5lZ29Ob2RlLm5hbWU7XG5cdH1cblx0aWYgKHNlbGYuZWdvTm9kZS5oYXNPd25Qcm9wZXJ0eSgnQXV0aG9yTmFtZScpKSB7XG5cdFx0XG5cdFx0c2VsZi5hdXRob3JJbWFnZURpdiA9IHNlbGYuc3ZnLmFwcGVuZCgnZm9yZWlnbk9iamVjdCcpLmF0dHIoJ2NsYXNzJywgJ2V4dGVybmFsT2JqZWN0Jylcblx0XHRcdC5hdHRyKCd4JywgMClcblx0XHRcdC5hdHRyKCd5Jywgc2VsZi5ncmFwaERpbWVuc2lvbnMuaGVpZ2h0LzIgLSA1MClcblx0XHRcdC8vIC5hdHRyKCdoZWlnaHQnLCBzZWxmLmdyYXBoRGltZW5zaW9ucy5oZWlnaHQvNSlcblx0XHRcdC5hdHRyKCdoZWlnaHQnLCAnMTAwJScpXG5cdFx0XHQuYXR0cignd2lkdGgnLCBzZWxmLmdyYXBoRGltZW5zaW9ucy5oZWlnaHQvNSlcblx0XHRcdC5hcHBlbmQoJ3hodG1sOmRpdicpXG5cdFx0XHQuYXR0cignaWQnLCAnYXV0aG9ySW1hZ2VEaXYnKTtcblx0XHRzZWxmLmF1dGhvckltYWdlRGl2XG5cdFx0XHQuYXBwZW5kKCd4aHRtbDpwJylcblx0XHRcdC5odG1sKCc8cD4nICsgc2VsZi5kYXRhLm5vZGVzWzBdLkF1dGhvck5hbWUuY2FwaXRhbGl6ZSgpICsgJzwvcD4nKTtcblxuXHRcdHZhciBhdXRob3JJbWFnZUNvbnRhaW5lciA9IHNlbGYuYXV0aG9ySW1hZ2VEaXZcblx0XHRcdC5hcHBlbmQoJ3hodG1sJylcblx0XHRcdC5hdHRyKCdpZCcsICdhdXRob3JJbWFnZUNvbnRhaW5lcicpO1xuXG5cdFx0Ly8gQWRkIGNvbnRlbnQgZm9yIEhSQSBhdXRob3JzXG5cdFx0dmFyIGF1dGhvck9yZyA9IHNlbGYuZGF0YS5ub2Rlc1swXS5vcmdhbml6YXRpb247XG5cdFx0Y29uc29sZS5sb2coYXV0aG9yT3JnKTtcblx0XHRpZiAodHlwZW9mIGF1dGhvck9yZyAhPSAndW5kZWZpbmVkJykge1xuXHRcdFx0ZDMudHN2KFwic3RhdGljL2hlYWx0aHJhL29yZ3Nfd2l0aF9saW5rcy50c3ZcIiwgZnVuY3Rpb24oZXJyb3IsIG9yZ19kYXRhKSB7XG5cdFx0XHRcdGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG5cdFx0XHRcdHZhciBwc3R5bGUgPSAnc3R5bGU9XCJtYXJnaW46IDA7IHBhZGRpbmc6IDA7IGZvbnQtc2l6ZTogLjg1ZW1cIidcblx0XHRcdFx0Y29uc29sZS5sb2cob3JnX2RhdGEpO1xuXHRcdFx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gb3JnX2RhdGEubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdFx0XHRpZiAob3JnX2RhdGFbaV1bJ29yZ19uYW1lJ10gPT0gYXV0aG9yT3JnKSB7XG5cdFx0XHRcdFx0XHR2YXIgbmFtZUZyb21UU1YgPSBvcmdfZGF0YVtpXVsnbWF0Y2hfbmFtZSddO1xuXHRcdFx0XHRcdFx0aWYgKCAodHlwZW9mIG5hbWVGcm9tVFNWICE9ICd1bmRlZmluZWQnKSAmJiAobmFtZUZyb21UU1YgIT0gJycpICkge1xuXHRcdFx0XHRcdFx0XHR2YXIgb3JnTGluayA9IG9yZ19kYXRhW2ldWydsaW5rJ107XG5cdFx0XHRcdFx0XHRcdHZhciBvcmdJbWdVcmwgPSBvcmdfZGF0YVtpXVsnaW1nX3VybCddO1xuXHRcdFx0XHRcdFx0XHRzZWxmLmF1dGhvckltYWdlRGl2XG5cdFx0XHRcdFx0XHRcdFx0LmFwcGVuZCgneGh0bWw6cCcpXG5cdFx0XHRcdFx0XHRcdFx0Lmh0bWwoJzxhIGhyZWY9XCInICsgb3JnTGluayArICdcIiB0YXJnZXQ9XCJfYmxhbmtcIj48cCAnICsgcHN0eWxlICsgJz4nICsgbmFtZUZyb21UU1YgKyAnPC9wPicpO1xuXHRcdFx0XHRcdFx0XHR2YXIgYXV0aG9ySW1hZ2UgPSBhZGRJbWFnZShvcmdJbWdVcmwpO1xuXHRcdFx0XHRcdFx0XHRhdXRob3JJbWFnZS5zdHlsZSgnY3Vyc29yJywgJ3BvaW50ZXInKTtcblx0XHRcdFx0XHRcdFx0YXV0aG9ySW1hZ2Uub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7IGNvbnNvbGUubG9nKG9yZ0xpbmspOyB3aW5kb3cub3BlbihvcmdMaW5rLCAnX2JsYW5rJyl9KTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHNlbGYuYXV0aG9ySW1hZ2VEaXZcblx0XHRcdFx0XHRcdFx0XHQuYXBwZW5kKCd4aHRtbDpwJylcblx0XHRcdFx0XHRcdFx0XHQuaHRtbCgnPHAgc3R5bGU9XCJtYXJnaW46IDA7IHBhZGRpbmc6IDA7IGZvbnQtc2l6ZTogLjg1ZW1cIj4nICsgYXV0aG9yT3JnICsgJzwvcD4nKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHR9XG5cdH1cblxuXHRmdW5jdGlvbiBhZGRJbWFnZShhdXRob3JJbWFnZVNyYykge1xuXHRcdHZhciBhdXRob3JJbWFnZSA9IGF1dGhvckltYWdlQ29udGFpbmVyXG5cdFx0XHQuYXBwZW5kKCd4aHRtbDppbWcnKVxuXHRcdFx0LmF0dHIoJ3NyYycsIGF1dGhvckltYWdlU3JjKVxuXHRcdFx0LmF0dHIoJ2lkJywgJ2F1dGhvckltYWdlJylcblx0XHRcdC5hdHRyKCd3aWR0aCcsICc4NXB4Jyk7XG5cdFx0cmV0dXJuIGF1dGhvckltYWdlO1xuXHR9XG5cblx0Ly8gSWYgYW4gaW1hZ2UgVVJMIGlzIGluY2x1ZGVkIGluIHRoZSBkYXRhOlxuXHR2YXIgQXV0aG9ySW1nVXJsID0gc2VsZi5kYXRhLm5vZGVzWzBdLkF1dGhvckltZ1VybCB8fCBzZWxmLmRhdGEubm9kZXNbMF0uSW1nVVJMO1xuXHRjb25zb2xlLmxvZyhBdXRob3JJbWdVcmwpO1xuXHRpZiAodHlwZW9mIEF1dGhvckltZ1VybCAhPSAndW5kZWZpbmVkJykge1xuXHRcdGFkZEltYWdlKEF1dGhvckltZ1VybCk7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Ly8gUGV3IG1ldGhvZCBvZiBnZXR0aW5nIGF1dGhvciBpbWFnZTpcblx0Ly8gVHJ5IHNvbWUgZmlsZW5hbWUgZXh0ZW5zaW9ucyBhbmQgYXR0ZW1wdCB0byBpbnNlcnQgdGhlIGltYWdlXG5cdHZhciBwZXdpZF9zdHIgPSBzZWxmLmRhdGEubm9kZXNbMF0uUGV3U2Nob2xhcklEO1xuXHRpZiAodHlwZW9mIHBld2lkX3N0ciA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRyZXR1cm47XG5cdH1cblx0dmFyIHBld2lkX3N0ciA9IHBld2lkX3N0ci50b1N0cmluZygpO1xuXHQvLyB6ZXJvLXBhZCB0aGUgcGV3IGlkXG5cdHBld2lkX3N0ciA9ICgnMDAwJyArIHBld2lkX3N0cik7XG5cdHBld2lkX3N0ciA9IHBld2lkX3N0ci5zdWJzdHIocGV3aWRfc3RyLmxlbmd0aC0zKTtcblx0dmFyIGZuYW1lX3Jvb3QgPSBcInN0YXRpYy9pbWcvcGV3X3Bob3Rvcy9cIiArIHBld2lkX3N0cjtcblx0dmFyIHBvc3NpYmxlRXh0ZW5zaW9ucyA9IFsnLnBuZycsICcuanBnJywgJy5qcGVnJywgJy5KUEcnLCAnLkpQRUcnLCAnLlBORyddO1xuXHRcblx0Ly8gcmVjdXJzaXZlIGZ1bmN0aW9uIHRoYXQgbG9vcHMgdGhyb3VnaCB0aGUgZGlmZmVyZW50IHBvc3NpYmxlIGZpbGUgZXh0ZW5zaW9ucyBhYm92ZVxuXHRmdW5jdGlvbiB0cnlJbWFnZUZpbGVuYW1lcyhmbmFtZV9yb290LCBwb3NzaWJsZUV4dGVuc2lvbnMsIGl0ZXIpIHtcblx0XHR2YXIgYXV0aG9ySW1hZ2VGaWxlbmFtZSA9IGZuYW1lX3Jvb3QgKyBwb3NzaWJsZUV4dGVuc2lvbnNbaXRlcl07XG5cdFx0aWYgKGl0ZXIgPj0gcG9zc2libGVFeHRlbnNpb25zLmxlbmd0aCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHQkLmdldChhdXRob3JJbWFnZUZpbGVuYW1lKVxuXHRcdFx0LmRvbmUoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGFkZEltYWdlKGF1dGhvckltYWdlRmlsZW5hbWUpO1xuXHRcdFx0fSkuZmFpbChmdW5jdGlvbigpIHtcblx0XHRcdFx0Ly8gcmVjdXJzZVxuXHRcdFx0XHR2YXIgYyA9IGl0ZXIgKyAxO1xuXHRcdFx0XHR0cnlJbWFnZUZpbGVuYW1lcyhmbmFtZV9yb290LCBwb3NzaWJsZUV4dGVuc2lvbnMsIGMpO1xuXHRcdFx0fSk7XG5cdH1cblx0dHJ5SW1hZ2VGaWxlbmFtZXMoZm5hbWVfcm9vdCwgcG9zc2libGVFeHRlbnNpb25zLCAwKTtcblxuXG5cdHZhciBwZXdDbGFzcyA9IHNlbGYuZGF0YS5ub2Rlc1swXS5wZXdfQ2xhc3M7XG5cdGlmICh0eXBlb2YgcGV3Q2xhc3MgIT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRzZWxmLmF1dGhvckltYWdlRGl2XG5cdFx0XHQuYXBwZW5kKCd4aHRtbDpwJylcblx0XHRcdC5odG1sKCc8cCBzdHlsZT1cIm1hcmdpbjogMDsgcGFkZGluZzogMDsgZm9udC1zaXplOiAuODVlbVwiPlBldyBTY2hvbGFyICcgKyBwZXdDbGFzcyArICc8L3A+Jyk7XG5cdH1cblxuXG59O1xuXG5lZ29HcmFwaFZpcy5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcnMgPSBmdW5jdGlvbigpIHtcblx0Ly8gT25seSBhZGQgZXZlbnQgbGlzdGVuZXJzIGhlcmUgdGhhdCBkb24ndCBhY3QgYWNyb3NzIGRpZmZlcmVudCB2aXMgb2JqZWN0c1xuXHQvLyBPdGhlcndpc2UgdGhleSBuZWVkIHRvIGJlIGFkZGVkIHRvIChlLmcuKSBjaXRhdGlvblZpc19NYWluLmpzXG5cdFxuXHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0aWYgKHNlbGYuem9vbWFibGUgPT09IHRydWUpIHtcblx0XHRzZWxmLmdyb3VwLmNhbGwoc2VsZi56b29tKTtcblx0fVxuXG4gICAgLy8gQWRkIGV2ZW50IGxpc3RlbmVyIHRvIG5vZGVzIGZvciB0b29sdGlwOlxuICAgIGQzLnNlbGVjdEFsbCgnLm5vZGUnKVxuXHRcdC5lYWNoKGZ1bmN0aW9uKGQpIHsgXG5cdFx0XHRkLnVwZGF0ZWRQcm9wcyA9IGZhbHNlO1xuXHQgICAgICAgIGQudG9vbHRpcEh0bWwgPSAnPHA+TG9hZGluZy4uLjwvcD4nXHR9KTtcblx0Ly8gc2VsZi50aXAuaHRtbChmdW5jdGlvbihkKSB7IHJldHVybiBkLnRvb2x0aXBIdG1sOyB9KTtcblx0ZDMuc2VsZWN0QWxsKCcubm9kZScpXG4gICAgICAgIC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24oZCkge1xuXHRcdFx0ZC5ob3ZlcmVkID0gdHJ1ZTtcblx0XHRcdHZhciBob3ZlcmVkSXRlbSA9IGQzLnNlbGVjdCh0aGlzKTtcblx0XHRcdC8vICQoXCIjZGV2b3V0cHV0XCIpLmh0bWwoXCI8aDM+XCIgKyBkLmpzX2RpdiArIFwiPC9oMz5cIikuY3NzKFwiY29sb3JcIiwgZC5jb2xvcik7XG5cblx0XHRcdC8vIHNlbGYudG9vbHRpcCA9IHNlbGYudG9vbHRpcFxuXHRcdFx0Ly8gXHQuaHRtbChkLnRvb2x0aXBIdG1sKVxuXHRcdFx0Ly8gXHQuc3R5bGUoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpXG5cdFx0XHQvLyBcdC5zdHlsZSgnYm9yZGVyLXN0eWxlJywgJ3NvbGlkJylcblx0XHRcdC8vIFx0LnN0eWxlKCdib3JkZXItY29sb3InLCBkLmNvbG9yKTtcblx0XHRcdC8vIHRoZSBmaXJzdCB0aW1lIGEgbm9kZSBpcyBtb3VzZWQgb3ZlciwgcmV0cmlldmUgYWRkaXRpb25hbCBwcm9wZXJ0aWVzIGlmIGl0IGlzIGEgcGFwZXIgbm9kZVxuXHRcdFx0Ly8gaWYgKCAoZC5ub2RlVHlwZSA9PT0gJ3BhcGVyJykgJiYgKCFkLnVwZGF0ZWRQcm9wcykgKSB7XG5cdFx0XHQvLyBcdCQuYWpheCh7XG5cdFx0XHQvLyBcdFx0ZGF0YVR5cGU6ICdqc29uJyxcblx0XHRcdC8vIFx0XHR1cmw6ICRTQ1JJUFRfUk9PVCArICcvX3Zpc19nZXRfbW9yZV9wYXBlcmluZm8nLFxuXHRcdFx0Ly8gXHRcdGRhdGE6IHtwYXBlcmlkOiBkLmlkfSxcblx0XHRcdC8vIFx0XHRzdWNjZXNzOiBmdW5jdGlvbihyZXN1bHQpIHtcblx0XHRcdC8vIFx0XHRcdGQuVGl0bGUgPSByZXN1bHRbJ3RpdGxlJ107XG5cdFx0XHQvLyBcdFx0XHRkLmRvaSA9IHJlc3VsdFsnZG9pJ107XG5cdFx0XHQvLyBcdFx0XHRkLmNpdGF0aW9uID0gcmVzdWx0WydjaXRhdGlvbiddO1xuXHRcdFx0Ly8gXHRcdFx0ZC51cGRhdGVkUHJvcHMgPSB0cnVlO1xuXHRcdFx0Ly8gXHRcdFx0Ly8gZC50b29sdGlwSHRtbCA9ICc8cD4nICsgZC5jaXRhdGlvbiArICc8L3A+Jztcblx0XHRcdC8vIFx0XHRcdC8vIGQudG9vbHRpcEh0bWwgPSBkLnRvb2x0aXBIdG1sICsgJzxicj4nO1xuXHRcdFx0Ly8gXHRcdFx0Ly8gZC50b29sdGlwSHRtbCA9IGQudG9vbHRpcEh0bWwgKyAnPHA+Q2F0ZWdvcnk6ICcgKyBkLkRvbWFpbk5hbWUgKyAnPC9wPic7XG5cdFx0XHQvLyBcdFx0XHQvLyBpZiAoZC5ob3ZlcmVkKSB7XG5cdFx0XHQvLyBcdFx0XHQvLyBcdHNlbGYudGlwLnNob3coZCwgaG92ZXJlZEl0ZW0ubm9kZSgpKTtcblx0XHRcdC8vIFx0XHRcdC8vIFx0Ly8gc2VsZi50aXAuc2hvdyhkKTtcblx0XHRcdC8vIFx0XHRcdC8vIH1cbiAgICAgICAgICAgIC8vXG5cdFx0XHQvLyBcdFx0fVxuXHRcdFx0Ly8gXHR9KTtcblx0XHRcdC8vIH0gZWxzZSBpZiAoIGQuaWR4ID09IDAgKSB7XG5cdFx0XHQvLyBcdGQudG9vbHRpcEh0bWwgPSAnPHA+Jztcblx0XHRcdC8vIFx0aWYgKGQubm9kZVR5cGUpIHtcblx0XHRcdC8vIFx0XHRkLnRvb2x0aXBIdG1sID0gZC50b29sdGlwSHRtbCArIGQubm9kZVR5cGUuY2FwaXRhbGl6ZSgpICsgJzogJztcblx0XHRcdC8vIFx0fVxuXHRcdFx0Ly8gXHRkLnRvb2x0aXBIdG1sID0gZC50b29sdGlwSHRtbCArIGQubmFtZTtcblx0XHRcdC8vIFx0ZC50b29sdGlwSHRtbCA9IGQudG9vbHRpcEh0bWwgKyAnPC9wPic7XG5cdFx0XHQvLyBcdHZhciBudW1iZXJPZlB1YnMgPSBkLnBhcGVycy5sZW5ndGg7XG5cdFx0XHQvLyBcdGQudG9vbHRpcEh0bWwgPSBkLnRvb2x0aXBIdG1sICsgJzxwPk51bWJlciBvZiBQdWJsaWNhdGlvbnM6ICcgKyBudW1iZXJPZlB1YnMgKyAnPC9wPic7XG5cdFx0XHQvLyBcdFxuXHRcdFx0Ly8gfVxuXHRcdFx0Ly8gc2VsZi50aXAuc3R5bGUoJ2JvcmRlci1jb2xvcicsIGQuY29sb3IpXG5cdFx0XHQvLyBcdC5zaG93KGQsIGhvdmVyZWRJdGVtLm5vZGUoKSk7XG5cdFx0XHRcdC8vIC5zaG93KGQpO1xuXHRcdFx0Ly8gc2VsZi5tYWtlVG9vbHRpcChkLCBmdW5jdGlvbih0b29sdGlwSHRtbCkge1xuXHRcdFx0Ly8gXHRzZWxmLnRvb2x0aXAgPSBzZWxmLnRvb2x0aXBcblx0XHRcdC8vIFx0XHQuaHRtbCh0b29sdGlwSHRtbClcblx0XHRcdC8vIFx0XHQuc3R5bGUoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpXG5cdFx0XHQvLyBcdFx0LnN0eWxlKCdib3JkZXItc3R5bGUnLCAnc29saWQnKVxuXHRcdFx0Ly8gXHRcdC5zdHlsZSgnYm9yZGVyLWNvbG9yJywgZC5jb2xvcik7XG5cdFx0XHQvLyB9KTtcblx0XHRcdC8vIGdvaW5nIHRvIHRyeSB0byB1c2UgdGhlIG1ldGhvZCBvZiBnZXR0aW5nIHRoZSBjaXRhdGlvbiB0ZXh0LiBidXQgbm90IHdvcmtpbmcgeWV0XG5cdFx0XHQvLyBnZXRDaXRhdGlvbihkLlBhcGVySUQsIHRoaXMpO1xuICAgICAgICB9KVxuICAgICAgICAub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uKGQpIHtcblx0XHRcdC8vIHNlbGYudGlwLnNob3coZCk7XG4gICAgICAgICAgICAvLyBzZWxmLnRvb2x0aXAgPSBzZWxmLnRvb2x0aXBcblx0XHRcdC8vIFx0Lmh0bWwoZC50b29sdGlwSHRtbClcbiAgICAgICAgICAgIC8vICAgICAuc3R5bGUoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpXG4gICAgICAgICAgICAvLyAgICAgLnN0eWxlKCd0b3AnLCAoZDMuZXZlbnQucGFnZVktMTApKydweCcpXG4gICAgICAgICAgICAvLyAgICAgLnN0eWxlKCdsZWZ0JywgKGQzLmV2ZW50LnBhZ2VYKzEwKSsncHgnKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uKGQpIHtcblx0XHRcdGQuaG92ZXJlZCA9IGZhbHNlO1xuXHRcdFx0Ly8gc2VsZi50aXAuaGlkZShkKTtcbiAgICAgICAgICAgIHNlbGYudG9vbHRpcCA9IHNlbGYudG9vbHRpcC5zdHlsZSgndmlzaWJpbGl0eScsICdoaWRkZW4nKTsgfSlcblx0XHQub24oJ2NsaWNrJywgZnVuY3Rpb24oZCkge1xuXHRcdFx0Ly8gdmFyIGRvaSA9IGdldERPSShkLlBhcGVySUQsIHRoaXMpO1xuXHRcdFx0aWYgKCAoZC5ub2RlVHlwZSA9PT0gJ3BhcGVyJykgKSB7XG5cdFx0XHRcdGlmICggKGQuaGFzT3duUHJvcGVydHkoJ2RvaScpKSAmJiAoZC5kb2kgIT09ICcnKSApIHtcblx0XHRcdFx0XHR2YXIgdXJsID0gJ2h0dHBzOi8vZG9pLm9yZy8nICsgZC5kb2k7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dmFyIHVybCA9ICdodHRwczovL3ByZXZpZXcuYWNhZGVtaWMubWljcm9zb2Z0LmNvbS9wYXBlci8nICsgZC5pZDtcblx0XHRcdFx0fVxuXHRcdFx0XHR3aW5kb3cub3Blbih1cmwsICdfYmxhbmsnKTtcblx0XHRcdFx0XG5cdFx0XHR9XG5cdFx0fSlcblxuXHRmdW5jdGlvbiBnZXRET0kocGFwZXJpZCwgbm9kZU9iaikge1xuXHRcdHZhciB0aGlzTm9kZSA9IGQzLnNlbGVjdChub2RlT2JqKTtcblx0XHQkLmFqYXgoe1xuXHRcdFx0ZGF0YVR5cGU6ICdqc29uJyxcblx0XHRcdHVybDogJFNDUklQVF9ST09UICsgJy9fdmlzX2dldF9kb2knLFxuXHRcdFx0ZGF0YToge3BhcGVyaWQ6IHBhcGVyaWR9LFxuXHRcdFx0c3VjY2VzczogZnVuY3Rpb24ocmVzdWx0KSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKHJlc3VsdFsnZG9pJ10pO1xuXHRcdFx0XHR2YXIgZG9pID0gcmVzdWx0Wydkb2knXTtcblx0XHRcdFx0aWYgKGRvaSkge1xuXHRcdFx0XHRcdHZhciB1cmwgPSAnaHR0cHM6Ly9kb2kub3JnLycgKyBkb2k7XG5cdFx0XHRcdFx0d2luZG93Lm9wZW4odXJsLCAnX2JsYW5rJyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdFxuXHR9XG5cdGZ1bmN0aW9uIGdldENpdGF0aW9uKHBhcGVyaWQsIG5vZGVPYmopIHtcblx0XHQvL1xuXHRcdHZhciB0aGlzTm9kZSA9IGQzLnNlbGVjdChub2RlT2JqKTtcblx0XHQkLmFqYXgoe1xuXHRcdFx0ZGF0YVR5cGU6ICdqc29uJyxcblx0XHRcdHVybDogJFNDUklQVF9ST09UICsgJy9fdmlzX2dldF9jaXRhdGlvbicsXG5cdFx0XHRkYXRhOiB7cGFwZXJpZDogcGFwZXJpZH0sXG5cdFx0XHRzdWNjZXNzOiBmdW5jdGlvbihyZXN1bHQpIHtcblx0XHRcdFx0Y29uc29sZS5sb2cocmVzdWx0WydjaXRhdGlvbiddKTtcblx0XHRcdFx0dGhpc05vZGUuYXR0cigndGl0bGUnLCByZXN1bHRbJ2NpdGF0aW9uJ10pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cbn07XG5cbmVnb0dyYXBoVmlzLnByb3RvdHlwZS5tYWtlVG9vbHRpcCA9IGZ1bmN0aW9uKGQsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cdC8vIEFjY291bnQgZm9yIGF1dGhvciBub2RlOlxuXHRpZiAoZC5ub2RlVHlwZSA9PT0gJ2F1dGhvcicgfHwgZC5ub2RlVHlwZSA9PT0gJycgfHwgZC5ub2RlVHlwZSA9PT0gJ3ZlbnVlJykge1xuXHRcdHZhciB0b29sdGlwSHRtbCA9ICc8cCBjbGFzcz1cImF1dGhvck5hbWVcIj5BdXRob3I6ICcgKyBkLkF1dGhvck5hbWUgKyAnPC9wPic7XG5cdFx0aWYgKGQucGV3X0NsYXNzKSB7XG5cdFx0XHR0b29sdGlwSHRtbCA9IHRvb2x0aXBIdG1sICsgJzxwIGNsYXNzPVwicGV3Q2xhc3NcIj5QZXcgQ2xhc3M6ICcgKyBkLnBld19DbGFzcyArICc8L3A+Jztcblx0XHR9XG5cdFx0dmFyIG51bWJlck9mUHVicyA9IGQucGFwZXJzLmxlbmd0aDtcblx0XHR0b29sdGlwSHRtbCA9IHRvb2x0aXBIdG1sICsgJzxwIGNsYXNzPVwibnVtYmVyT2ZQdWJzXCI+TnVtYmVyIG9mIFB1YmxpY2F0aW9uczogJyArIG51bWJlck9mUHVicyArICc8L3A+Jztcblx0XHQvLyByZXR1cm4gdG9vbHRpcEh0bWw7XG5cdFx0Y2FsbGJhY2sodG9vbHRpcEh0bWwpO1xuXHR9XG5cblx0Ly8gT3RoZXJ3aXNlOiBtYWtlIGEgdG9vbHRpcCBmb3IgYSBwYXBlciBub2RlXG5cdGZ1bmN0aW9uIGdldEF1dGhvckxpc3QoYXV0aG9ycykge1xuXHRcdHZhciBhdXRob3JMaXN0ID0gW107XG5cdFx0YXV0aG9ycy5mb3JFYWNoKGZ1bmN0aW9uKGEpIHtcblx0XHRcdHZhciB0aGlzQXV0aG9yU3RyTGlzdCA9IGFbMV0uc3BsaXQoJyAnKTtcblx0XHRcdC8vIHRoaXNBdXRob3JTdHJMaXN0ID0gdGhpc0F1dGhvclN0ckxpc3QubWFwKGZ1bmN0aW9uKHgpIHsgcmV0dXJuIHguY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB4LnNsaWNlKDEpLnRvTG93ZXJDYXNlKCk7IH0pO1xuXHRcdFx0Ly8gdGhpc0F1dGhvclN0ckxpc3QgPSB0aGlzQXV0aG9yU3RyTGlzdC5tYXAoZnVuY3Rpb24oeCkgeyBpZiAoeCA9PT0geC50b1VwcGVyQ2FzZSgpKSByZXR1cm4geC5jYXBpdGFsaXplKCk7IGVsc2UgcmV0dXJuIHg7fSk7XG5cdFx0XHR0aGlzQXV0aG9yU3RyTGlzdCA9IHRoaXNBdXRob3JTdHJMaXN0Lm1hcChmdW5jdGlvbih4KSB7IGlmICh4ICE9IHgudG9VcHBlckNhc2UoKSkgcmV0dXJuIHguY2FwaXRhbGl6ZSgpOyBlbHNlIHJldHVybiB4O30pO1xuXHRcdFx0Ly8gdmFyIHRoaXNBdXRob3IgPSBhLk5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBhLk5hbWUuc2xpY2UoMSkudG9Mb3dlckNhc2UoKTtcblx0XHRcdHZhciB0aGlzQXV0aG9yID0gdGhpc0F1dGhvclN0ckxpc3Quam9pbignICcpO1xuXHRcdFx0YXV0aG9yTGlzdC5wdXNoKHRoaXNBdXRob3IpO1xuXHRcdH0pO1xuXHRcdHJldHVybiBhdXRob3JMaXN0O1xuXHR9XG5cdGZ1bmN0aW9uIGdldFRpdGxlKHBhcGVyaWQsIGNhbGxiYWNrKSB7XG5cdFx0Ly9cblx0XHQkLmFqYXgoe1xuXHRcdFx0ZGF0YVR5cGU6ICdqc29uJyxcblx0XHRcdHVybDogJFNDUklQVF9ST09UICsgJy9fdmlzX2dldF90aXRsZScsXG5cdFx0XHRkYXRhOiB7cGFwZXJpZDogcGFwZXJpZH0sXG5cdFx0XHRzdWNjZXNzOiBmdW5jdGlvbihyZXN1bHQpIHtcblx0XHRcdFx0Y2FsbGJhY2socmVzdWx0Wyd0aXRsZSddKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXHRmdW5jdGlvbiBtYWtlSHRtbCgpIHtcblx0XHQvLyB2YXIgdG9vbHRpcEh0bWwgPSAnPHAgY2xhc3M9XCJwYXBlcklEXCI+cElEOiAnICsgZC5pZCArICc8L3A+Jztcblx0XHR2YXIgdG9vbHRpcEh0bWwgPSAnJztcblx0XHR0b29sdGlwSHRtbCA9IHRvb2x0aXBIdG1sICsgJzxwIGNsYXNzPVwicGFwZXJUaXRsZVwiPic7XG5cdFx0dG9vbHRpcEh0bWwgPSB0b29sdGlwSHRtbCArIGQuVGl0bGU7XG5cdFx0dG9vbHRpcEh0bWwgPSB0b29sdGlwSHRtbCArICc8L3A+Jztcblx0XHR0b29sdGlwSHRtbCA9IHRvb2x0aXBIdG1sICsgJzxwIGNsYXNzPVwicGFwZXJZZWFyXCI+JyArIGQuWWVhciArICc8L3A+Jztcblx0XHR2YXIgYXV0aG9yU3RyTGlzdCA9IFtdO1xuXHRcdGQuYXV0aG9yTGlzdC5mb3JFYWNoKGZ1bmN0aW9uKGEpIHtcblx0XHRcdGF1dGhvclN0ckxpc3QucHVzaChhKVxuXHRcdH0pO1xuXHRcdHZhciBhdXRob3JMaXN0ID0gYXV0aG9yU3RyTGlzdC5qb2luKCcsICcpO1xuXHRcdHRvb2x0aXBIdG1sID0gdG9vbHRpcEh0bWwgKyAnPHAgY2xhc3M9XCJwYXBlckF1dGhvclwiPkF1dGhvcnM6ICcgKyBhdXRob3JMaXN0ICsgJzwvcD4nO1xuXHRcdHJldHVybiB0b29sdGlwSHRtbDtcblx0fVxuXHRpZiAoIGQuaGFzT3duUHJvcGVydHkoJ2F1dGhvcnMnKSApIHtcblx0XHR2YXIgYXV0aG9yTGlzdCA9IGdldEF1dGhvckxpc3QoZC5hdXRob3JzKTtcblx0XHRkLmF1dGhvckxpc3QgPSBhdXRob3JMaXN0O1xuXHRcdGlmICggZC5oYXNPd25Qcm9wZXJ0eSgnVGl0bGUnKSApe1xuXHRcdFx0dmFyIHRvb2x0aXBIdG1sID0gbWFrZUh0bWwoKTtcblx0XHRcdGNhbGxiYWNrKHRvb2x0aXBIdG1sKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Z2V0VGl0bGUoZC5pZCwgZnVuY3Rpb24odGl0bGUpIHtcblx0XHRcdFx0ZC5UaXRsZSA9IHRpdGxlO1xuXHRcdFx0XHR2YXIgdG9vbHRpcEh0bWwgPSBtYWtlSHRtbCgpO1xuXHRcdFx0XHRjYWxsYmFjayh0b29sdGlwSHRtbCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0JC5hamF4KHtcblx0XHRcdGRhdGFUeXBlOiAnanNvbicsXG5cdFx0XHR1cmw6ICRTQ1JJUFRfUk9PVCArICcvX3Zpc19nZXRfYXV0aG9yaW5mbycsXG5cdFx0XHRkYXRhOiB7YXV0aG9yaWRzOiBKU09OLnN0cmluZ2lmeShkLkF1dGhvcklETGlzdCl9LFxuXHRcdFx0c3VjY2VzczogZnVuY3Rpb24ocmVzdWx0KSB7XG5cdFx0XHRcdGQuYXV0aG9ycyA9IHJlc3VsdFsnYXV0aG9ycyddO1xuXHRcdFx0XHR2YXIgYXV0aG9yTGlzdCA9IGdldEF1dGhvckxpc3QoZC5hdXRob3JzKVxuXHRcdFx0XHRkLmF1dGhvckxpc3QgPSBhdXRob3JMaXN0O1xuXHRcdFx0XHRpZiAoIGQuaGFzT3duUHJvcGVydHkoJ1RpdGxlJykgKXtcblx0XHRcdFx0XHR2YXIgdG9vbHRpcEh0bWwgPSBtYWtlSHRtbCgpO1xuXHRcdFx0XHRcdGNhbGxiYWNrKHRvb2x0aXBIdG1sKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRnZXRUaXRsZShkLmlkLCBmdW5jdGlvbih0aXRsZSkge1xuXHRcdFx0XHRcdFx0ZC5UaXRsZSA9IHRpdGxlO1xuXHRcdFx0XHRcdFx0dmFyIHRvb2x0aXBIdG1sID0gbWFrZUh0bWwoKTtcblx0XHRcdFx0XHRcdGNhbGxiYWNrKHRvb2x0aXBIdG1sKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdH1cbiAgICBcbn07XG5cbmVnb0dyYXBoVmlzLnByb3RvdHlwZS5yZXZlYWxFZ29Ob2RlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgc2VsZi5jdXJyTm9kZUluZGV4ID0gMDsgIC8vIEluZGV4IG9mIGN1cnJlbnQgbm9kZSAoZWdvIG5vZGUpXG5cdHNlbGYuY3VyclllYXIgPSBzZWxmLmRhdGEuZ3JhcGgueWVhclJhbmdlWzBdO1xuXG4gICAgLy8gUmV2ZWFsIGVnbyBub2RlXG5cdGQzLnNlbGVjdEFsbCgnLm5vZGUnKS5maWx0ZXIoZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5pZCA9PT0gc2VsZi5lZ29Ob2RlLmlkOyB9KVxuICAgICAgICAuY2xhc3NlZCgnaGlkZGVuJywgZmFsc2UpXG4gICAgICAgIC5jbGFzc2VkKCd2aXNpYmxlJywgdHJ1ZSlcbiAgICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgICAvLyAuZGVsYXkoc2VsZi5ncmFwaFBhcmFtcy50cmFuc2l0aW9uVGltZVBlclllYXIudmFsdWUvNClcbiAgICAgICAgLmR1cmF0aW9uKDIwMDApXG4gICAgICAgIC5hdHRyKCdyJywgZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgIC8vcmV0dXJuIDQuNSArIChzZWxmLmVpZ2VuRmFjdG9yU2NhbGUoZC5FRikgKiAxMCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGQucmFkaXVzO1xuICAgICAgICB9KVxuICAgICAgICAuYXR0cignVCcsIDEpXG5cdFx0LmVhY2goJ3N0YXJ0JywgZnVuY3Rpb24oKSB7XG5cdFx0XHRzZWxmLnllYXJUZXh0RGlzcGxheS50cmFuc2l0aW9uKClcblx0XHRcdCAgICAuZGVsYXkoMTAwMClcblx0XHRcdCAgICAuZHVyYXRpb24oMTAwMClcblx0XHRcdCAgICAuc3R5bGUoJ29wYWNpdHknLCAuMTUpO1xuXHRcdH0pXG4gICAgICAgIC5lYWNoKCdlbmQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIHJldmVhbCBsZWdlbmRcbiAgICAgICAgICAgIC8vIHNlbGYubGVnZW5kLnRyYW5zaXRpb24oKVxuICAgICAgICAgICAgLy8gICAgIC5kZWxheSg0MDAwKVxuICAgICAgICAgICAgLy8gICAgIC5kdXJhdGlvbigxMDAwKVxuICAgICAgICAgICAgLy8gICAgIC5zdHlsZSgnb3BhY2l0eScsIDEpO1xuXG4gICAgICAgICAgICAvLyByZXZlYWwgdGhlIGRpc3BsYXkgb2YgY3VycmVudCB5ZWFyXG4gICAgICAgICAgICAvLyBzZWxmLnllYXJUZXh0RGlzcGxheS50cmFuc2l0aW9uKClcbiAgICAgICAgICAgIC8vICAgICAuZHVyYXRpb24oMTAwMClcbiAgICAgICAgICAgIC8vICAgICAuc3R5bGUoJ29wYWNpdHknLCAuMTUpO1xuXG5cdFx0XHQvLyBub3RpZnkgZXZlcnlvbmUgKGkuZS4gdGhlIE1haW4uanMgYW5kIHRoZSBsaW5lIGNoYXJ0cylcblx0XHRcdCQuZXZlbnQudHJpZ2dlcih7XG5cdFx0XHRcdHR5cGU6IFwieWVhckNoYW5nZVwiLFxuXHRcdFx0fSk7XG4gICAgICAgICAgICBzZWxmLmFuaW1hdGVUb0Rlc3RpbmF0aW9uTm9kZSgpO1xuICAgICAgICB9KTtcbn07XG5cbmVnb0dyYXBoVmlzLnByb3RvdHlwZS5hbmltYXRlVG9EZXN0aW5hdGlvbk5vZGUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cblxuXG4gICAgLy8gQ2hlY2sgaWYgd2UncmUgbW92aW5nIGZvcndhcmQgb3IgYmFja3dhcmRcbiAgICAgICAgLy8gaWYgY3Vyck5vZGVJbmRleCA8IGRlc3RpbmF0aW9uTm9kZUluZGV4OlxuICAgICAgICAvLyAgICAgY3Vyck5vZGVJbmRleCsrO1xuICAgICAgICAvLyAgICAgY2hlY2sgZm9yIHllYXJcbiAgICAgICAgLy8gICAgIGRyYXdOb2RlKCk7XG4gICAgaWYgKHNlbGYuY3Vyck5vZGVJbmRleCA9PT0gc2VsZi5kZXN0aW5hdGlvbk5vZGVJbmRleCkge1xuICAgICAgICBjb25zb2xlLmxvZygnZ290byBmaW5pc2gnKTtcbiAgICAgICAgc2VsZi5maW5pc2hBbmltYXRpb24oKTtcbiAgICB9IGVsc2UgaWYgKHNlbGYuY3Vyck5vZGVJbmRleCA8IHNlbGYuZGVzdGluYXRpb25Ob2RlSW5kZXgpIHtcblx0XHRzZWxmLmFuaW1hdGlvblN0YXRlID0gJ2ZvcndhcmQnO1xuICAgICAgICBzZWxmLmN1cnJOb2RlSW5kZXgrKztcbiAgICAgICAgc2VsZi5jaGVja1llYXIoKTtcbiAgICAgICAgLy8gc2VsZi5kcmF3Tm9kZSgpO1xuICAgIH0gZWxzZSBpZiAoc2VsZi5jdXJyTm9kZUluZGV4ID4gc2VsZi5kZXN0aW5hdGlvbk5vZGVJbmRleCkge1xuXHRcdHNlbGYuYW5pbWF0aW9uU3RhdGUgPSAncmV3aW5kJztcbiAgICAgICAgc2VsZi5jdXJyTm9kZUluZGV4LS07XG4gICAgICAgIHNlbGYuY2hlY2tZZWFyKCk7XG4gICAgICAgIC8vIHNlbGYucmVtb3ZlTm9kZSgpO1xuICAgIH1cbn07XG5cbmVnb0dyYXBoVmlzLnByb3RvdHlwZS5jb250aW51ZSA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBpZiAoc2VsZi5jdXJyTm9kZUluZGV4ID09PSBzZWxmLmRlc3RpbmF0aW9uTm9kZUluZGV4KSB7XG4gICAgLy8gICAgIGNvbnNvbGUubG9nKCdnb3RvIGZpbmlzaCcpO1xuICAgIC8vICAgICBzZWxmLmZpbmlzaEFuaW1hdGlvbigpO1xuICAgIC8vIGlmIChzZWxmLmN1cnJOb2RlSW5kZXggPCBzZWxmLmRlc3RpbmF0aW9uTm9kZUluZGV4KSB7XG4gICAgLy8gICAgIHNlbGYuZHJhd05vZGUoKTtcbiAgICAvLyB9IGVsc2UgaWYgKHNlbGYuY3Vyck5vZGVJbmRleCA+IHNlbGYuZGVzdGluYXRpb25Ob2RlSW5kZXgpIHtcbiAgICAvLyAgICAgc2VsZi5yZW1vdmVOb2RlKCk7XG4gICAgLy8gfVxuXG5cdC8vIGlmIHRoZSB5ZWFyIG9mIHRoZSBmaXJzdCBub25FZ28gbm9kZSBpcyB0aGUgc2FtZSBhcyB0aGUgeWVhciBvZiB0aGUgY2VudGVyXG5cdC8vIG5vZGUncyBmaXJzdCBwdWJsaWNhdGlvbiwgdHJhbnNpdGlvblRpbWVQZXJOb2RlIHdpbGwgYmUgdW5kZWZpbmVkIGFuZCB0aGVyZVxuXHQvLyB3aWxsIGJlIGVycm9ycy5cblx0Ly8gU28gbGV0J3MgY2FsY3VsYXRlIGl0OlxuXHRpZiAodHlwZW9mIHNlbGYudHJhbnNpdGlvblRpbWVQZXJOb2RlID09PSAndW5kZWZpbmVkJykge1xuXHRcdHNlbGYuY2FsY3VsYXRlVHJhbnNpdGlvblRpbWUoKTtcblx0fVxuXHRpZiAoc2VsZi5hbmltYXRpb25TdGF0ZSA9PT0gJ2ZvcndhcmQnKSB7XG5cdFx0c2VsZi5kcmF3Tm9kZSgpO1xuXHR9IGVsc2UgaWYgKHNlbGYuYW5pbWF0aW9uU3RhdGUgPT09ICdyZXdpbmQnKSB7XG5cdFx0c2VsZi5yZW1vdmVOb2RlKCk7XG5cdH1cbn07XG5cbmVnb0dyYXBoVmlzLnByb3RvdHlwZS5jaGVja1llYXIgPSBmdW5jdGlvbigpIHtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0Ly8gaWYgd2UgYXJlIG9uIHRoZSBsYXN0IG5vZGUsIGp1c3QgbWF4IG91dCB0aGUgeWVhci5cblx0aWYgKHNlbGYuY3Vyck5vZGVJbmRleCA9PSBzZWxmLmRhdGEubm9kZXMubGVuZ3RoLTEpIHtcblx0XHRzZWxmLmN1cnJZZWFyID0gc2VsZi5kYXRhLmdyYXBoLnllYXJSYW5nZVsxXTtcblx0XHQvLyAvLyBjdXRvZmYgYXQgMjAxNVxuXHRcdC8vIHNlbGYuY3VyclllYXIgPSBNYXRoLm1pbihzZWxmLmN1cnJZZWFyLCAyMDE1KTtcblxuXHRcdHNlbGYueWVhclRleHREaXNwbGF5LnRleHQoc2VsZi5jdXJyWWVhcik7XG5cblx0XHQvLyBqUXVlcnkgY3VzdG9tIGV2ZW50LCBzbyB0aGF0IE1haW4uanMgY2FuIGxpc3RlbiBmb3IgaXQgYW5kIGFkdmFuY2UgdGhlIHllYXIgb24gdGhlIGxpbmUgY2hhcnRzXG5cdFx0JC5ldmVudC50cmlnZ2VyKHtcblx0XHRcdHR5cGU6IFwieWVhckNoYW5nZVwiLFxuXHRcdH0pO1xuXHRcdHNlbGYuY29udGludWUoKTtcblx0XHRyZXR1cm47XG5cdH1cblxuXHR2YXIgY3Vyck5vZGUgPSBzZWxmLmRhdGEubm9kZXMuZmlsdGVyKGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQuaWR4ID09PSBzZWxmLmN1cnJOb2RlSW5kZXg7IH0pO1xuXHR2YXIgb2xkWWVhciA9IHNlbGYuY3VyclllYXI7XG5cdHZhciBuZXdZZWFyID0gY3Vyck5vZGVbMF0uWWVhcjtcblx0Ly8gaWYgdGhlIHllYXIgaXMgdGhlIHNhbWUgYXMgaXQgd2FzLCBkbyBub3RoaW5nXG5cdGlmIChuZXdZZWFyID09IG9sZFllYXIpIHtcblx0XHRzZWxmLmNvbnRpbnVlKCk7XG5cdH0gZWxzZSBpZiAobmV3WWVhciA+IG9sZFllYXIpIHtcblx0XHQvLyB0cnlpbmcgdG8gZGVidWcgdGltaW5nIGlzc3Vlc1xuXHRcdC8vIGxvb2tzIGxpa2UgdGltaW5nIGlzIGp1c3QgaW5oZXJlbnRseSBpbmNvbnNpc3RlbnQuIHRoZXJlIHNlZW1zIHRvIGJlIGEgZGVsYXkgd2l0aCB0aGlzIG1ldGhvZCAoY2FsbGluZyB0aGUgbmV4dCBub2RlIGRyYXdpbmcgaW4gdHJhbnNpdGlvbi5lYWNoKCdlbmQnKSApXG5cdFx0Ly8gY29uc29sZS5sb2coc2VsZi5jdXJyWWVhcik7XG5cdFx0Ly8gY29uc29sZS5sb2coJ2MgJytzZWxmLmMpO1xuXHRcdC8vIGNvbnNvbGUubG9nKCd0dCAnK3NlbGYudHQpO1xuXHRcdC8vIGNvbnNvbGUubG9nKCd0dCBvdmVyIGMgJytzZWxmLnR0L3NlbGYuYyk7XG5cdFx0Ly8gY29uc29sZS5sb2coJ3RyYW5zaXRpb25UaW1lUGVyTm9kZSAnK3NlbGYudHJhbnNpdGlvblRpbWVQZXJOb2RlKTtcblx0XHQvLyBjb25zb2xlLmxvZygnZXJyb3IgJysoc2VsZi50cmFuc2l0aW9uVGltZVBlck5vZGUpLyhzZWxmLnR0L3NlbGYuYykpO1xuXHRcdHNlbGYuYz0wO1xuXHRcdHNlbGYudHQ9MDtcblx0XHRzZWxmLmN1cnJZZWFyKys7XG5cdFx0c2VsZi5iZWdpbk5ld1llYXIoKTtcblx0fSBlbHNlIGlmIChuZXdZZWFyIDwgb2xkWWVhcikge1xuXHRcdHNlbGYuY3VyclllYXItLTtcblx0XHRzZWxmLmJlZ2luTmV3WWVhcigpO1xuXHR9XG5cdC8vIHNlbGYuY3VyclllYXIgPSBjdXJyTm9kZVswXS5ZZWFyO1xuXG5cdC8vIFRPRE86IGNvbWUgYmFjayB0byB0aGlzXG5cdC8vXG4gICAgLy8gLy8gQ2hlY2sgdGhlIHllYXIgb2YgdGhlIGN1cnJlbnQgbm9kZSwgYW5kIGlmIGl0IGlzIGRpZmZlcmVudCB0aGFuIGN1cnJZZWFyOlxuICAgIC8vIC8vICAgICB1cGRhdGUgY3VyclllYXI7XG4gICAgLy8gLy8gICAgIHVwZGF0ZSB5ZWFyVGV4dERpc3BsYXk7XG4gICAgLy8gLy8gICAgIGZhZGUgbm9kZXMgYW5kIGxpbmtzIGZyb20gcHJldmlvdXMgeWVhcjtcbiAgICAvLyAvLyAgICAgcmVjYWxjdWxhdGUgdHJhbnNpdGlvbiB0aW1lcztcbiAgICAvL1xuICAgIC8vIHZhciBzZWxmID0gdGhpcztcbiAgICAvL1xuICAgIC8vIHZhciB5ZWFyT2ZDdXJyTm9kZSA9IHNlbGYuYWxsTm9kZXNbc2VsZi5jdXJyTm9kZUluZGV4XS5ZZWFyXG4gICAgLy8gaWYgKCB5ZWFyT2ZDdXJyTm9kZSAhPSBzZWxmLmN1cnJZZWFyICkge1xuICAgIC8vICAgICBzZWxmLmN1cnJZZWFyID0geWVhck9mQ3Vyck5vZGU7XG4gICAgLy9cbiAgICAvLyAgICAgc2VsZi51cGRhdGVMaW5lQ2hhcnQoKTtcbiAgICAvL1xuICAgIC8vICAgICAvLyBVcGRhdGUgdGhlIHllYXIgZGlzcGxheVxuICAgIC8vICAgICBzZWxmLnllYXJUZXh0RGlzcGxheS50ZXh0KHNlbGYuY3VyclllYXIpO1xuICAgIC8vICAgICAvLyBJIG1heSBuZWVkIHRvIGRvIHNvbWV0aGluZyBhYm91dCB0aGlzICh0aGF0IHRoZSB5ZWFyIHRleHQgZGlzcGxheSBzdGFydHMgb2ZmIGhpZGRlbik6XG4gICAgLy8gICAgIC8vIGlmIChzZWxmLmN1cnJZZWFyID09IHNlbGYuZWdvTm9kZS5ZZWFyKSBcbiAgICAvLyAgICAgLy8gICAgICAgICB7c2VsZi55ZWFyVGV4dERpc3BsYXkudHJhbnNpdGlvbigpXG4gICAgLy8gICAgIC8vICAgICAgICAgICAgICAgICAuZHVyYXRpb24oMTAwMClcbiAgICAvLyAgICAgLy8gICAgICAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIC4xNSk7XG4gICAgLy9cbiAgICAvLyAgICAgLy8gT25seSBmYWRlIHByZXZpb3VzIHllYXIgaWYgZ29pbmcgZm9yd2FyZCBpbiB0aW1lXG4gICAgLy8gICAgIGlmIChzZWxmLmN1cnJOb2RlSW5kZXggPCBzZWxmLmRlc3RpbmF0aW9uTm9kZUluZGV4KSBzZWxmLmZhZGVOb2Rlc0FuZExpbmtzUHJldlllYXIoKTtcbiAgICAvL1xuICAgIC8vICAgICBzZWxmLmNhbGN1bGF0ZVRyYW5zaXRpb25UaW1lKCk7XG4gICAgLy8gfVxuXHRyZXR1cm4gc2VsZi5jdXJyWWVhcjtcbn07XG5cbmVnb0dyYXBoVmlzLnByb3RvdHlwZS5iZWdpbk5ld1llYXIgPSBmdW5jdGlvbigpIHtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFxuXHRzZWxmLnllYXJUZXh0RGlzcGxheS50ZXh0KHNlbGYuY3VyclllYXIpO1xuXG5cdC8vIGpRdWVyeSBjdXN0b20gZXZlbnQsIHNvIHRoYXQgTWFpbi5qcyBjYW4gbGlzdGVuIGZvciBpdCBhbmQgYWR2YW5jZSB0aGUgeWVhciBvbiB0aGUgbGluZSBjaGFydHNcblx0JC5ldmVudC50cmlnZ2VyKHtcblx0XHR0eXBlOiBcInllYXJDaGFuZ2VcIixcblx0fSk7XG5cblx0c2VsZi5jYWxjdWxhdGVUcmFuc2l0aW9uVGltZSgpO1xuXHR2YXIgbm9kZXNUaGlzWWVhciA9IHNlbGYubm90RWdvTm9kZXMuZmlsdGVyKGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQuWWVhciA9PSBzZWxmLmN1cnJZZWFyOyB9KTtcblxuXHQvLyBJZiB0aGlzIHllYXIgaGFzIG5vIG5vZGVzLCBkZWxheSwgdGhlbiBjb250aW51ZVxuXHRpZiAoIG5vZGVzVGhpc1llYXIubGVuZ3RoID09PSAwICkge1xuXHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRzZWxmLmNoZWNrWWVhcigpO1xuXHRcdH0sIHNlbGYudHJhbnNpdGlvblRpbWVQZXJZZWFyW3NlbGYuY3VyclllYXJdKVxuXHR9IGVsc2Uge1xuXHRcdHNlbGYuY29udGludWUoKTtcblx0fVxuXG5cbn07XG5cbmVnb0dyYXBoVmlzLnByb3RvdHlwZS5kcmF3Tm9kZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIHNlbGYuYW5pbWF0aW9uU3RhdGUgPSAnZm9yd2FyZCc7XG5cbiAgICAvLyBzZWxmLmZhZGVOb2Rlc0FuZExpbmtzUHJldlllYXIoKTtcblxuICAgIHZhciBjdXJyTm9kZSA9IGQzLnNlbGVjdEFsbCgnLm5vZGUnKS5maWx0ZXIoZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5pZHggPT09IHNlbGYuY3Vyck5vZGVJbmRleDsgfSk7XG5cbiAgICBmdW5jdGlvbiBkcmF3TGlua3Mobm9kZU9iaikge1xuICAgICAgICAvLyBUaGlzIGZ1bmN0aW9uIHdpbGwgZHJhdyB0aGUgbGluayBvdXQgZnJvbSB0aGUgc291cmNlIHRvIHRoZSB0YXJnZXQuXG4gICAgICAgIC8vIFdlJ2xsIGNhbGwgaXQgYWZ0ZXIgZWFjaCBub2RlIGFwcGVhcnMuXG4gICAgICAgIG5vZGVPYmoubGlua3NUaGlzTm9kZUlzU291cmNlID0gZDMuc2VsZWN0QWxsKCcubGluaycpLmZpbHRlcihmdW5jdGlvbihsKSB7IHJldHVybiBsLnNvdXJjZSA9PT0gbm9kZU9iajsgfSk7XG4gICAgICAgIG5vZGVPYmoubGlua3NUaGlzTm9kZUlzU291cmNlLmNsYXNzZWQoJ2hpZGRlbicsIGZhbHNlKVxuICAgICAgICAgICAgLmNsYXNzZWQoJ3Zpc2libGUnLCB0cnVlKVxuICAgICAgICAgICAgLmVhY2goZnVuY3Rpb24oZCkgeyBkLmluVHJhbnNpdGlvbiA9IHRydWU7IH0pXG4gICAgICAgICAgICAuYXR0cigneDInLCBmdW5jdGlvbihkKSB7IHJldHVybiBkLnNvdXJjZS54OyB9KVxuICAgICAgICAgICAgLmF0dHIoJ3kyJywgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5zb3VyY2UueTsgfSlcbiAgICAgICAgICAgIC5zdHlsZSgndmlzaWJpbGl0eScsICd2aXNpYmxlJylcbiAgICAgICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgICAgIC5lYXNlKCdsaW5lYXInKVxuICAgICAgICAgICAgLmRlbGF5KDApXG4gICAgICAgICAgICAuZHVyYXRpb24oc2VsZi5saW5rQXBwZWFyRHVyYXRpb24pXG4gICAgICAgICAgICAuYXR0cigneDInLCBmdW5jdGlvbihkKSB7IHJldHVybiBkLnRhcmdldC54OyB9KVxuICAgICAgICAgICAgLmF0dHIoJ3kyJywgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC50YXJnZXQueTsgfSlcbiAgICAgICAgICAgIC8vIC5hdHRyKCd4MicsIDApXG4gICAgICAgICAgICAvLyAuYXR0cigneTInLCAwKVxuICAgICAgICAgICAgLmF0dHIoJ1QnLCAxKVxuICAgICAgICAgICAgLmVhY2goJ2VuZCcsIGZ1bmN0aW9uKGQpIHsgZC5pblRyYW5zaXRpb24gPSBmYWxzZTsgfSk7XG4gICAgfVxuICAgIC8vIE1ha2UgdGhlIG5vZGVzIGFwcGVhcjpcblx0Ly8gdmFyIHQwID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgY3Vyck5vZGUuY2xhc3NlZCgnaGlkZGVuJywgZmFsc2UpXG4gICAgICAgIC5jbGFzc2VkKCd2aXNpYmxlJywgdHJ1ZSlcbiAgICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgICAuZWFzZSgnbGluZWFyJylcbiAgICAgICAgLy8uZGVsYXkoZnVuY3Rpb24oZCwgaSkgeyByZXR1cm4gKGktY3VyckluZGV4KSAqIHRpbWVQZXJOb2RlOyB9KVxuICAgICAgICAvLyAuZGVsYXkoZnVuY3Rpb24oZCwgaSkgeyByZXR1cm4gaSAqIHNlbGYudHJhbnNpdGlvblRpbWVQZXJOb2RlOyB9KVxuICAgICAgICAuZHVyYXRpb24oc2VsZi50cmFuc2l0aW9uVGltZVBlck5vZGUpXG4gICAgICAgIC5hdHRyKCdyJywgZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgLy9yZXR1cm4gNC41ICsgKHNlbGYuZWlnZW5GYWN0b3JTY2FsZShkLkVGKSAqIDEwKTtcbiAgICAgICAgICAgIHJldHVybiBkLnJhZGl1cztcbiAgICAgICAgfSlcbiAgICAgICAgLmF0dHIoJ1QnLCAxKVxuXHRcdC5lYWNoKCdlbmQnLCBmdW5jdGlvbihkKSB7XG5cdFx0XHQvLyB2YXIgdDEgPSBwZXJmb3JtYW5jZS5ub3coKTtcblx0XHRcdC8vIHNlbGYudHQgPSBzZWxmLnR0ICsgKHQxLXQwKTtcblx0XHRcdHNlbGYuYysrO1xuXHRcdFx0aWYgKHNlbGYuem9vbWFibGUgPT09IHRydWUpIHtcblx0XHRcdFx0c2VsZi5jaGVja1pvb20oZCk7XG5cdFx0XHR9XG5cdFx0XHQvLyBjb25zb2xlLmxvZyh0MS10MCArIFwibWlsbGlzZWNvbmRzXCIpO1xuXHRcdFx0c2VsZi5hbmltYXRlVG9EZXN0aW5hdGlvbk5vZGUoKTtcblx0XHRcdGRyYXdMaW5rcyhkKTtcblxuICAgICAgICB9KTtcbn07XG5cbmVnb0dyYXBoVmlzLnByb3RvdHlwZS5yZW1vdmVOb2RlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgc2VsZi5hbmltYXRpb25TdGF0ZSA9ICdyZXdpbmQnO1xuXG4gICAgLy8gc2VsZi5jYWxjdWxhdGVUcmFuc2l0aW9uVGltZSgpO1xuXG4gICAgdmFyIGN1cnJOb2RlID0gZDMuc2VsZWN0QWxsKCcubm9kZScpLmZpbHRlcihmdW5jdGlvbihkKSB7IHJldHVybiBkLmluZGV4ID09PSBzZWxmLmN1cnJOb2RlSW5kZXg7IH0pO1xuICAgIHZhciBjdXJyTGlua3MgPSBkMy5zZWxlY3RBbGwoJy5saW5rJykuZmlsdGVyKGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQuc291cmNlLmluZGV4ID09PSBzZWxmLmN1cnJOb2RlSW5kZXg7IH0pO1xuXG4gICAgLy8gdmFyIHJldHJhY3REdXJhdGlvbiA9IHNlbGYubGlua0FwcGVhckR1cmF0aW9uO1xuICAgIHZhciByZXRyYWN0RHVyYXRpb24gPSBzZWxmLnRyYW5zaXRpb25UaW1lUGVyTm9kZTtcbiAgICBjdXJyTGlua3MudHJhbnNpdGlvbigpXG4gICAgICAgIC5lYWNoKCdzdGFydCcsIGZ1bmN0aW9uKGQpIHsgZC5pblRyYW5zaXRpb249dHJ1ZTsgfSlcbiAgICAgICAgLmR1cmF0aW9uKHJldHJhY3REdXJhdGlvbilcbiAgICAgICAgLmVhc2UoJ3F1YWQnKVxuICAgICAgICAuYXR0cigneDInLCBmdW5jdGlvbihkKSB7IHJldHVybiBkLnNvdXJjZS54OyB9KVxuICAgICAgICAuYXR0cigneTInLCBmdW5jdGlvbihkKSB7IHJldHVybiBkLnNvdXJjZS55OyB9KVxuICAgICAgICAuY2FsbChmdW5jdGlvbihkKSB7XG5cdFx0Ly8gLmVhY2goJ2VuZCcsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgIGQuaW5UcmFuc2l0aW9uPWZhbHNlO1xuICAgICAgICAgICAgdmFyIGN1cnJOb2RlID0gZDMuc2VsZWN0QWxsKCcubm9kZScpLmZpbHRlcihmdW5jdGlvbihkKSB7IHJldHVybiBkLmlkeCA9PT0gc2VsZi5jdXJyTm9kZUluZGV4OyB9KTtcbiAgICAgICAgICAgIGN1cnJOb2RlLnRyYW5zaXRpb24oKVxuICAgICAgICAgICAgICAgIC5kdXJhdGlvbihzZWxmLnRyYW5zaXRpb25UaW1lUGVyTm9kZSlcbiAgICAgICAgICAgICAgICAuZWFzZSgncXVhZCcpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3InLDApXG4gICAgICAgICAgICAgICAgLmF0dHIoJ1QnLDEpXG4gICAgICAgICAgICAgICAgLmVhY2goJ2VuZCcsIGZ1bmN0aW9uKGRkKSB7XG4gICAgICAgICAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKS5jbGFzc2VkKCdoaWRkZW4nLCB0cnVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ3Zpc2libGUnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuYW5pbWF0ZVRvRGVzdGluYXRpb25Ob2RlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xufTtcblxuZWdvR3JhcGhWaXMucHJvdG90eXBlLmZpbmlzaEFuaW1hdGlvbiA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0c2VsZi5hbmltYXRpb25TdGF0ZSA9ICdzdG9wcGVkJztcblx0JC5ldmVudC50cmlnZ2VyKHtcblx0XHR0eXBlOiBcImFuaW1hdGlvbkZpbmlzaGVkXCIsXG5cdH0pO1xuXHRjb25zb2xlLmxvZygnZmluaXNoZWQnKTtcblx0Y29uc29sZS5sb2coc2VsZi5jdXJyTm9kZUluZGV4KTtcbn07XG5cbmVnb0dyYXBoVmlzLnByb3RvdHlwZS5uZXdEZXN0aW5hdGlvbk5vZGUgPSBmdW5jdGlvbihkZXN0aW5hdGlvblllYXIpIHtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdHNlbGYuZGVzdGluYXRpb25ZZWFyID0gZGVzdGluYXRpb25ZZWFyO1xuXHRjb25zb2xlLmxvZyhzZWxmLmRlc3RpbmF0aW9uWWVhcik7XG5cdHNlbGYuZ2V0RGVzdGluYXRpb25Ob2RlKCk7XG5cdFxuXHQvLyBtYWtlIHN1cmUgdGhlIGN1cnJlbnQgbm9kZSBpcyBpbmNsdWRlZDpcblx0aWYgKCAhKHNlbGYuY3Vyck5vZGVJbmRleCA9PT0gc2VsZi5kZXN0aW5hdGlvbk5vZGVJbmRleCkgKSB7ICAvLyBkb24ndCBkbyBhbnl0aGluZyBpZiB0aGlzIGlzIHRydWVcblx0XHRpZiAoc2VsZi5jdXJyTm9kZUluZGV4IDwgc2VsZi5kZXN0aW5hdGlvbk5vZGVJbmRleCkge1xuXHRcdFx0c2VsZi5hbmltYXRpb25TdGF0ZSA9ICdmb3J3YXJkJztcblx0XHRcdHNlbGYuZHJhd05vZGUoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c2VsZi5hbmltYXRpb25TdGF0ZSA9ICdyZXdpbmQnO1xuXHRcdFx0c2VsZi5yZW1vdmVOb2RlKCk7XG5cdFx0fVxuXHR9XG59O1xuXG5lZ29HcmFwaFZpcy5wcm90b3R5cGUuZ2V0RGVzdGluYXRpb25Ob2RlID0gZnVuY3Rpb24oKSB7XG5cdHZhciBzZWxmID0gdGhpcztcblxuXHQvLyBHZXQgdGhlIGRlc3RpbmF0aW9uIG5vZGUgaW5kZXggZnJvbSB0aGUgZGVzdGluYXRpb24geWVhclxuXHR2YXIgbWF4WWVhciA9IHNlbGYuZGF0YS5ncmFwaC55ZWFyUmFuZ2VbMV07XG5cdGZ1bmN0aW9uIGdldE5vZGVzVGhpc1llYXIoKSB7XG5cdFx0dmFyIG5vZGVzVGhpc1llYXIgPSBzZWxmLm5vdEVnb05vZGVzLmZpbHRlcihmdW5jdGlvbihkKSB7IHJldHVybiBkLlllYXIgPT0gc2VsZi5kZXN0aW5hdGlvblllYXI7IH0pO1xuXHRcdHJldHVybiBub2Rlc1RoaXNZZWFyO1xuXHR9XG5cdHZhciBub2Rlc1RoaXNZZWFyID0gZ2V0Tm9kZXNUaGlzWWVhcigpO1xuXHRpZiAobm9kZXNUaGlzWWVhci5sZW5ndGggPiAwKSB7XG5cdFx0dmFyIGxhc3ROb2RlVGhpc1llYXIgPSBub2Rlc1RoaXNZZWFyW25vZGVzVGhpc1llYXIubGVuZ3RoLTFdO1xuXHRcdHNlbGYuZGVzdGluYXRpb25Ob2RlSW5kZXggPSBsYXN0Tm9kZVRoaXNZZWFyLmlkeDtcblx0fSBlbHNlIHtcblx0XHRpZiAoc2VsZi5kZXN0aW5hdGlvblllYXIgPT0gbWF4WWVhcikge1xuXHRcdFx0cmV3aW5kU2VhcmNoKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNlbGYuZGVzdGluYXRpb25ZZWFyKys7XG5cdFx0XHRzZWxmLmdldERlc3RpbmF0aW9uTm9kZSgpOyAgLy8gcmVjdXJzZVxuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHJld2luZFNlYXJjaCgpIHtcblx0XHRzZWxmLmRlc3RpbmF0aW9uWWVhci0tO1xuXHRcdHZhciBub2Rlc1RoaXNZZWFyID0gZ2V0Tm9kZXNUaGlzWWVhcigpO1xuXHRcdGlmIChub2Rlc1RoaXNZZWFyLmxlbmd0aCA+IDApIHtcblx0XHRcdHNlbGYuZ2V0RGVzdGluYXRpb25Ob2RlKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJld2luZFNlYXJjaCgpOyAgLy8gcmVjdXJzZVxuXHRcdH1cblx0fVxuXG59O1xuXG5lZ29HcmFwaFZpcy5wcm90b3R5cGUuY2FsY3VsYXRlVHJhbnNpdGlvblRpbWUgPSBmdW5jdGlvbigpIHtcblx0Ly8gTWV0aG9kIHRvIGNhbGN1bGF0ZSB0aGUgdHJhbnNpdGlvbiB0aW1lIGZvciBlYWNoIG5vZGUgYmFzZWQgb24gdGhlIG51bWJlciBvZiBub2RlcyBpbiB0aGUgY3VycmVudCB5ZWFyXG5cdFxuXHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0Ly8gU1BFRUQgVVAgRk9SIFRFU1RJTkcgUFVSUE9TRVNcblx0Ly8gS0VFUCBUSElTIENPTU1FTlRFRCBPVVRcblx0Ly8gc2VsZi50cmFuc2l0aW9uVGltZVBlclllYXJbc2VsZi5jdXJyWWVhcl0gPSAxMDA7XG5cblx0dmFyIGNvdW50VGhpc1llYXIgPSBzZWxmLmRhdGEuZ3JhcGgubm9kZUNvdW50c1BlclllYXJbc2VsZi5jdXJyWWVhcl07XG5cdHNlbGYudHJhbnNpdGlvblRpbWVQZXJOb2RlID0gY291bnRUaGlzWWVhciA/IHNlbGYudHJhbnNpdGlvblRpbWVQZXJZZWFyW3NlbGYuY3VyclllYXJdIC8gY291bnRUaGlzWWVhciA6IDA7XG5cdHNlbGYudHJhbnNpdGlvblRpbWVQZXJOb2RlID0gc2VsZi50cmFuc2l0aW9uVGltZVBlck5vZGUgLSAxMDtcblxuXG59O1xuXG5lZ29HcmFwaFZpcy5wcm90b3R5cGUucmV2ZWFsRmluYWxTdGF0ZSA9IGZ1bmN0aW9uKCkge1xuXHQvLyBjYW5jZWwgYWxsIHRyYW5zaXRpb25zIGFuZCByZXZlYWwgdGhlIGZpbmFsIHN0YXRlIG9mIHRoZSB2aXNcblxuXHR2YXIgc2VsZiA9IHRoaXM7XG5cdFxuXHRkMy5zZWxlY3RBbGwoJy5ub2RlLCAubGluaycpLnRyYW5zaXRpb24oKS5kdXJhdGlvbigwKTtcblxuXHRzZWxmLm5vZGVcblx0XHQuY2xhc3NlZCgnaGlkZGVuJywgZmFsc2UpXG5cdFx0LmF0dHIoJ3InLCBmdW5jdGlvbihkKSB7XG5cdFx0XHRyZXR1cm4gZC5yYWRpdXM7XG5cdFx0fSlcblx0XHQuZWFjaChmdW5jdGlvbihkKSB7XG5cdFx0XHRpZiAoc2VsZi56b29tYWJsZSA9PT0gdHJ1ZSkge1xuXHRcdFx0XHRzZWxmLmNoZWNrWm9vbShkKVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdHNlbGYubGlua1xuXHRcdC5jbGFzc2VkKCdoaWRkZW4nLCBmYWxzZSlcblx0XHQuY2xhc3NlZCgndmlzaWJsZScsIHRydWUpXG5cdFx0LnN0eWxlKCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKVxuXHRcdC5hdHRyKCd4MicsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQudGFyZ2V0Lng7IH0pXG5cdFx0LmF0dHIoJ3kyJywgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC50YXJnZXQueTsgfSlcblx0XHQuZWFjaChmdW5jdGlvbihkKSB7IGQuaW5UcmFuc2l0aW9uID0gZmFsc2U7IH0pO1xuXG5cdHNlbGYuY3Vyck5vZGVJbmRleCA9IHNlbGYuZGF0YS5ub2Rlcy5sZW5ndGgtMTtcblx0c2VsZi5jdXJyWWVhciA9IHNlbGYuZGF0YS5ncmFwaC55ZWFyUmFuZ2VbMV07XG5cdHNlbGYueWVhclRleHREaXNwbGF5LnRleHQoc2VsZi5jdXJyWWVhcik7XG5cdCQuZXZlbnQudHJpZ2dlcih7XG5cdFx0dHlwZTogXCJ5ZWFyQ2hhbmdlXCIsXG5cdH0pXG5cblx0c2VsZi5maW5pc2hBbmltYXRpb24oKTtcblxuXHRyZXR1cm5cbn1cblxuXHRcdFxuXG5cblxudmFyIGNpdGF0aW9uVmlzID0gY2l0YXRpb25WaXMgfHwge307XG5cbmNpdGF0aW9uVmlzLmVnb0dyYXBoRGF0YSA9IChmdW5jdGlvbihtYXhOb2Rlcykge1xuXHRmdW5jdGlvbiBwcmVwYXJlX2Vnb0dyYXBoRGF0YShncmFwaCkge1xuXHRcdGZvciAoaT0wOyBpPGdyYXBoLm5vZGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRncmFwaC5ub2Rlc1tpXS5vbGRJZHggPSBpO1xuXHRcdH1cblx0XHR2YXIgbmV3R3JhcGggPSB7fTtcblx0XHQvLyBDb3B5IHByb3BlcnRpZXMgdG8gbmV3R3JhcGggdGhhdCB3b24ndCBjaGFuZ2U6XG5cdFx0dmFyIHByb3BzVG9Db3B5ID0gWydncmFwaCcsICdkaXJlY3RlZCcsICdtdWx0aWdyYXBoJ107XG5cdFx0Zm9yIChpPTA7IGk8cHJvcHNUb0NvcHkubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBwcm9wID0gcHJvcHNUb0NvcHlbaV07XG5cdFx0XHRpZiAoZ3JhcGguaGFzT3duUHJvcGVydHkocHJvcCkpIHsgbmV3R3JhcGhbcHJvcF0gPSBncmFwaFtwcm9wXTsgfVxuXHRcdH1cblxuXHRcdG5ld0dyYXBoLm5vZGVzID0gW107XG5cdFx0bmV3R3JhcGgubm9kZXMucHVzaChncmFwaC5ub2Rlc1swXSk7XG5cdFx0bmV3R3JhcGgubm9kZXNbMF0uaWR4ID0gMDtcblx0XHQvLyAvLyB0aGlzIGlzIGEgdGVzdDpcblx0XHQvLyBmb3IgKGk9MTA7IGk8MjA7IGkrKykge1xuXHRcdC8vIFx0dmFyIG5ld05vZGUgPSBncmFwaC5ub2Rlc1tpXTtcblx0XHQvLyBcdG5ld05vZGUuaWR4ID0gbmV3R3JhcGgubm9kZXMubGVuZ3RoO1xuXHRcdC8vIFx0bmV3R3JhcGgubm9kZXMucHVzaChuZXdOb2RlKTtcblx0XHQvLyB9XG5cdFx0dmFyIG5vdEVnb05vZGVzID0gW107XG5cdFx0Ly8gRmlsdGVyIG91dCBub2RlcyB0aGF0IGhhdmUgeWVhciBvZiAwXG5cdFx0Zm9yICh2YXIgaT0xOyBpPGdyYXBoLm5vZGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHQvLyBpZiAoIChncmFwaC5ub2Rlc1tpXS5FRiA+IDApICYmIChncmFwaC5ub2Rlc1tpXS5ZZWFyPjApICkge1xuXHRcdFx0aWYgKGdyYXBoLm5vZGVzW2ldLlllYXI+MCAmJiBncmFwaC5ub2Rlc1tpXS5UaXRsZSAhPSBcIlwiKSB7XG5cdFx0XHRcdG5vdEVnb05vZGVzLnB1c2goZ3JhcGgubm9kZXNbaV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHQvLyBTdGFydCBieSByYW5kb21pemluZyB0aGUgb3JkZXIgb2YgYWxsIHRoZSBub2Rlc1xuXHRcdGQzLnNodWZmbGUobm90RWdvTm9kZXMpO1xuXHRcdC8vIG9yZGVyIGRlc2NlbmRpbmcgYnkgRWlnZW5mYWN0b3Jcblx0XHQvLyBub3RFZ29Ob2Rlcy5zb3J0KGZ1bmN0aW9uKGEsYikgeyByZXR1cm4gYi5FRiAtIGEuRUY7IH0pO1xuXHRcdG5vdEVnb05vZGVzLnNvcnQoZnVuY3Rpb24oYSxiKSB7IHJldHVybiBkMy5kZXNjZW5kaW5nKGEuRUYsIGIuRUYpOyB9KTtcblx0XHQvLyAvLyBJIGRvbid0IHdhbnQgdG8gcmVtb3ZlIGFueSBub2RlcyB0aGF0IGhhdmUgYSBkaWZmZXJlbnQgRG9tYWluSUQgdGhhbiB0aGUgZWdvLFxuXHRcdC8vIC8vIHNvIEknbGwgbW92ZSB0aG9zZSB0byB0aGUgZnJvbnQgdG8gcHJvdGVjdCB0aGVtLlxuXHRcdC8vIC8vIEFDVFVBTExZIHRoZXJlIGFyZSB0b28gbWFueSB0byBkbyB0aGlzXG5cdFx0Ly8gdmFyIGVnb0RvbWFpbiA9IGdyYXBoLm5vZGVzWzBdLkRvbWFpbkNvdW50c1swXS5rZXk7ICAvLyBUaGlzIGlzIHRoZSBtb3N0IGNvbW1vbiBkb21haW4gaWQgZm9yIHRoZSBlZ28gYXV0aG9yJ3MgcGFwZXJzXG5cdFx0Ly8gdmFyIGMgPSBbXTtcblx0XHQvLyBmb3IgKHZhciBpPTA7IGk8bm90RWdvTm9kZXMubGVuZ3RoOyBpKyspIHtcblx0XHQvLyBcdGlmICggbm90RWdvTm9kZXNbaV0uRG9tYWluSUQgIT0gZWdvRG9tYWluICkge1xuXHRcdC8vIFx0XHRjLnB1c2gobm90RWdvTm9kZXNbaV0uRG9tYWluSUQpO1xuXHRcdC8vIFx0XHRub3RFZ29Ob2Rlcy5zcGxpY2UoMCwgMCwgbm90RWdvTm9kZXMuc3BsaWNlKGksIDEpWzBdKTtcblx0XHQvLyBcdH1cblx0XHQvLyB9XG5cdFx0Ly8gTW92ZSBwYXBlcnMgdGhhdCBoYXZlIGEgRG9tYWluSUQgdG8gdGhlIGZyb250XG5cdFx0ZnVuY3Rpb24gRG9tYWluSURUb0Zyb250KGFycikge1xuXHRcdFx0dmFyIGhhc0RvbWFpbklEID0gW107XG5cdFx0XHR2YXIgbm9Eb21haW5JRCA9IFtdO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IGFyci5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0XHRpZiAoIGFycltpXS5Eb21haW5JRCAhPSAwICkge1xuXHRcdFx0XHRcdGhhc0RvbWFpbklELnB1c2goYXJyW2ldKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRub0RvbWFpbklELnB1c2goYXJyW2ldKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0Y29uc29sZS5sb2coYXJyKTtcblx0XHRcdHZhciBuZXdBcnIgPSBoYXNEb21haW5JRC5jb25jYXQobm9Eb21haW5JRCk7XG5cdFx0XHRjb25zb2xlLmxvZyhuZXdBcnIpO1xuXHRcdFx0cmV0dXJuIG5ld0Fycjtcblx0XHR9XG5cdFx0bm90RWdvTm9kZXMgPSBEb21haW5JRFRvRnJvbnQobm90RWdvTm9kZXMpO1xuXHRcdC8vIGZvciAodmFyIGkgPSBub3RFZ29Ob2Rlcy5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XG5cdFx0Ly8gXHRpZiAoIG5vdEVnb05vZGVzW2ldLkRvbWFpbklEICE9IDAgKSB7XG5cdFx0Ly8gXHRcdG5vdEVnb05vZGVzLnNwbGljZSgwLCAwLCBub3RFZ29Ob2Rlcy5zcGxpY2UoaSwgMSlbMF0pO1xuXHRcdC8vIFx0fVxuXHRcdC8vIH1cblx0XHQvLyBjb25zb2xlLmxvZyhjKTtcblx0XHQvLyBUYWtlIHRoZSBmaXJzdCBuIGl0ZW1zLCB3aGVyZSBuID0gbWF4Tm9kZXNcblx0XHQvLyBjb25zb2xlLmxvZyhtYXhOb2Rlcyk7XG5cdFx0aWYgKHR5cGVvZiBtYXhOb2RlcyA9PSAndW5kZWZpbmVkJykge1xuXHRcdFx0dmFyIG1heE5vZGVzID0gMjc0OyAgLy8gVE9ETzogaW1wbGVtZW50IHRoaXMgYmV0dGVyIChzbyBpdCdzIG5vdCBoYXJkIGNvZGVkIGhlcmUpXG5cdFx0fVxuXHRcdC8vIHZhciBtYXhOb2RlcyA9IDUwMDA7ICAvLyBUT0RPOiBpbXBsZW1lbnQgdGhpcyBiZXR0ZXIgKHNvIGl0J3Mgbm90IGhhcmQgY29kZWQgaGVyZSlcblx0XHRpZiAobm90RWdvTm9kZXMubGVuZ3RoID4gbWF4Tm9kZXMpIHtcblx0XHRcdC8vIHNlbGYuYWxsTm9kZXMgPSBzZWxmLmFsbE5vZGVzLnNsaWNlKDAsIHNlbGYuZ3JhcGhQYXJhbXMubWF4Tm9kZXMudmFsdWUpO1xuXHRcdFx0bm90RWdvTm9kZXMgPSBub3RFZ29Ob2Rlcy5zbGljZSgwLCBtYXhOb2Rlcyk7XG5cdFx0fVxuICAgICAgICAvLyBzb3J0IGJ5IFllYXJcbiAgICAgICAgLy8gdGhlbiBzb3J0IGJ5IEVGIChzaXplKSBzbyB0aGF0IGxhcmdlciBub2RlcyB0ZW5kIHRvIGFwcGVhciBmaXJzdC5cbiAgICAgICAgLy8gKHRoaXMgc29tZXdoYXQgcmVkdWNlcyB0aGUgcHJvYmxlbSBvZiBzZW5kaW5nIG91dCBcbiAgICAgICAgLy8gbGlua3MgdG8gbm9kZXMgdGhhdCBoYXZlbid0IGFwcGVhcmVkIHlldC5cbiAgICAgICAgLy8gbWF5YmUgdHJ5IGEgYmV0dGVyIHNvbHV0aW9uIGxhdGVyLilcblx0XHRub3RFZ29Ob2Rlcy5zb3J0KGZ1bmN0aW9uKGEsYikge1xuXHRcdFx0cmV0dXJuIGQzLmFzY2VuZGluZyhhLlllYXIsIGIuWWVhcikgfHwgZDMuZGVzY2VuZGluZyhhLkVGLCBiLkVGKTtcblx0XHR9KTtcblxuXHRcdC8vIEFwcGVuZCB0aGVzZSB0byBuZXdHcmFwaC5ub2Rlc1xuXHRcdGZvciAoaT0wOyBpPG5vdEVnb05vZGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgbmV3Tm9kZSA9IG5vdEVnb05vZGVzW2ldO1xuXHRcdFx0bmV3Tm9kZS5pZHggPSBuZXdHcmFwaC5ub2Rlcy5sZW5ndGg7XG5cdFx0XHRuZXdHcmFwaC5ub2Rlcy5wdXNoKG5ld05vZGUpO1xuXHRcdH1cblxuXHRcdG5ld0dyYXBoLmxpbmtzID0gcmVjYWxjdWxhdGVMaW5rcyhuZXdHcmFwaC5ub2RlcywgZ3JhcGgubGlua3MpO1xuXG5cdFx0ZnVuY3Rpb24gcmVjYWxjdWxhdGVMaW5rcyhub2RlcywgbGlua3MpIHtcblx0XHRcdHZhciBuZXdMaW5rcyA9IFtdO1xuXHRcdFx0Zm9yIChpPTA7IGk8bGlua3MubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0Ly8gdmFyIHRoaXNTb3VyY2UgPSBub2Rlcy5maWx0ZXIoZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5vbGRJZHggPT09IGxpbmtzW2ldLnNvdXJjZTsgfSk7XG5cdFx0XHRcdC8vIHZhciB0aGlzVGFyZ2V0ID0gbm9kZXMuZmlsdGVyKGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQub2xkSWR4ID09PSBsaW5rc1tpXS50YXJnZXQ7IH0pO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gbm93ICgyMDE4KSB0aGUgbm9kZSBpZCAoaS5lLiwgUGFwZXJfSUQpIGlzIHdvcmtpbmcgdG8gaWRlbnRpZnkgbGlua3MsIGluc3RlYWQgb2YgdGhlIG5vZGUgaW5kZXhcblx0XHRcdFx0Ly8gbWF5YmUgdGhpcyBpcyBiZWNhdXNlIG9mIGEgbmV3IHZlcnNpb24gb2YgbmV0d29ya3g/XG5cdFx0XHRcdHZhciB0aGlzU291cmNlID0gbm9kZXMuZmlsdGVyKGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQuaWQgPT09IGxpbmtzW2ldLnNvdXJjZTsgfSk7XG5cdFx0XHRcdHZhciB0aGlzVGFyZ2V0ID0gbm9kZXMuZmlsdGVyKGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQuaWQgPT09IGxpbmtzW2ldLnRhcmdldDsgfSk7XG5cdFx0XHRcdGlmICggdGhpc1NvdXJjZS5sZW5ndGg+MCAmJiB0aGlzVGFyZ2V0Lmxlbmd0aD4wICkge1xuXHRcdFx0XHRcdGlmICggKHRoaXNUYXJnZXRbMF0ubm9kZVR5cGUgPT09ICdwYXBlcicpICYmICh0aGlzU291cmNlWzBdLlllYXIgPCB0aGlzVGFyZ2V0WzBdLlllYXIpICkge1xuXHRcdFx0XHRcdFx0Ly8gZXhjbHVkZSB0aGUgbGluayBpbiB0aGlzIGNhc2UgKGkuZS4gaWYgdGhlIHNvdXJjZSB5ZWFyIGlzIGxlc3MgdGhhbiB0aGUgdGFyZ2V0IHllYXJcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dmFyIG5ld0xpbmsgPSBsaW5rc1tpXTtcblx0XHRcdFx0XHRcdG5ld0xpbmsuc291cmNlID0gdGhpc1NvdXJjZVswXS5pZHg7XG5cdFx0XHRcdFx0XHRuZXdMaW5rLnRhcmdldCA9IHRoaXNUYXJnZXRbMF0uaWR4O1xuXHRcdFx0XHRcdFx0bmV3TGlua3MucHVzaChsaW5rc1tpXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRuZXdMaW5rcy5mb3JFYWNoKGZ1bmN0aW9uKGQpIHtcblx0XHRcdFx0aWYgKCB0eXBlb2YgZC50YXJnZXQgIT0gJ251bWJlcicgKSBjb25zb2xlLmxvZyhkKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRyZXR1cm4gbmV3TGlua3M7XG5cdFx0fVxuXG5cdFx0dmFyIHllYXJSYW5nZSA9IG5ld0dyYXBoLmdyYXBoLnllYXJSYW5nZTtcblx0XHRmdW5jdGlvbiBnZXROb2RlQ291bnRzUGVyWWVhcihub2RlcywgeWVhclJhbmdlKSB7XG5cdFx0XHR2YXIgeWVhcnNOZXN0ID0gZDMubmVzdCgpXG5cdFx0XHRcdC5rZXkoZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5ZZWFyOyB9KS5zb3J0S2V5cyhkMy5hc2NlbmRpbmcpXG5cdFx0XHRcdC5yb2xsdXAoZnVuY3Rpb24obGVhdmVzKSB7IHJldHVybiBsZWF2ZXMubGVuZ3RoOyB9KVxuXHRcdFx0XHQvLyAuZW50cmllcyhub2Rlcy5zbGljZSgxKSk7ICAvLyBhbGwgZXhjZXB0IGVnbyBub2RlIChub2RlWzBdKVxuXHRcdFx0XHQubWFwKG5vZGVzLnNsaWNlKDEpKTtcblxuXHRcdFx0dmFyIG5vZGVDb3VudHNQZXJZZWFyID0ge307XG5cdFx0XHRmb3IgKHZhciBpPXllYXJSYW5nZVswXTsgaTw9eWVhclJhbmdlWzFdOyBpKyspIHtcblx0XHRcdFx0dmFyIGNvdW50VGhpc1llYXIgPSB5ZWFyc05lc3RbaV07XG5cdFx0XHRcdGlmICh0eXBlb2YgY291bnRUaGlzWWVhciA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0XHRub2RlQ291bnRzUGVyWWVhcltpXSA9IDA7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bm9kZUNvdW50c1BlclllYXJbaV0gPSBjb3VudFRoaXNZZWFyO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbm9kZUNvdW50c1BlclllYXI7XG5cdFx0fVxuXHRcdG5ld0dyYXBoLmdyYXBoLm5vZGVDb3VudHNQZXJZZWFyID0gZ2V0Tm9kZUNvdW50c1BlclllYXIobmV3R3JhcGgubm9kZXMsIHllYXJSYW5nZSk7XG5cblxuXHRcdHJldHVybiBuZXdHcmFwaDtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0cHJlcGFyZV9lZ29HcmFwaERhdGE6IHByZXBhcmVfZWdvR3JhcGhEYXRhXG5cdH07XG59KCkpO1xuXG52YXIgY2l0YXRpb25WaXMgPSBjaXRhdGlvblZpcyB8fCB7fTtcblxuY2l0YXRpb25WaXMuZXZlbnRMaXN0ZW5lcnMgPSAoZnVuY3Rpb24oKSB7XG5cdC8vIEV2ZW50IGxpc3RlbmVycyB0aGF0IGFjdCBhY3Jvc3MgZGlmZmVyZW50IHZpc3VhbGl6YXRpb24gb2JqZWN0cyBnbyBoZXJlXG5cdFxuXHQvLyBmdW5jdGlvbiB0b29sdGlwTGlzdGVuZXIoKSB7XG5cdC8vIFx0Ly8gQWRkIGV2ZW50IGxpc3RlbmVyIHRvIG5vZGVzIGZvciB0b29sdGlwOlxuXHQvLyBcdGQzLnNlbGVjdEFsbCgnLm5vZGUnKVxuXHQvLyBcdFx0Lm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbihkKSB7XG5cdC8vIFx0XHRcdHZhciB0b29sdGlwSHRtbCA9IHNlbGYubWFrZVRvb2x0aXAoZCk7XG5cdC8vIFx0XHRcdHNlbGYudG9vbHRpcCA9IHNlbGYudG9vbHRpcFxuXHQvLyBcdFx0XHRcdC5odG1sKHRvb2x0aXBIdG1sKVxuXHQvLyBcdFx0XHRcdC5zdHlsZSgndmlzaWJpbGl0eScsICd2aXNpYmxlJylcblx0Ly8gXHRcdFx0XHQuc3R5bGUoJ2JvcmRlci1zdHlsZScsICdzb2xpZCcpXG5cdC8vIFx0XHRcdFx0LnN0eWxlKCdib3JkZXItY29sb3InLCBkLmNvbG9yKTtcblx0Ly8gXHRcdH0pXG5cdC8vIFx0XHQub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uKCkge1xuXHQvLyBcdFx0XHRzZWxmLnRvb2x0aXAgPSBzZWxmLnRvb2x0aXBcblx0Ly8gXHRcdFx0XHQuc3R5bGUoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpXG5cdC8vIFx0XHRcdFx0LnN0eWxlKCd0b3AnLCAoZDMuZXZlbnQucGFnZVktMTApKydweCcpXG5cdC8vIFx0XHRcdFx0LnN0eWxlKCdsZWZ0JywgKGQzLmV2ZW50LnBhZ2VYKzEwKSsncHgnKTtcblx0Ly8gXHRcdH0pXG5cdC8vIFx0XHQub24oJ21vdXNlb3V0JywgZnVuY3Rpb24oKSB7XG5cdC8vIFx0XHRcdHNlbGYudG9vbHRpcCA9IHNlbGYudG9vbHRpcC5zdHlsZSgndmlzaWJpbGl0eScsICdoaWRkZW4nKTsgfSk7XG5cdC8vIH1cblxuXHRyZXR1cm4ge1xuXHRcdC8vIHRvb2x0aXBMaXN0ZW5lcjogdG9vbHRpcExpc3RlbmVyXG5cdH07XG59KCkpO1xuLy8gVGhpcyB3aWxsIGFkZCB0aGUgYWJpbGl0eSB0byBjaGFuZ2UgdGhlIHR5cGUgb2YgZG9tYWluIChlLmcuIGZyb20gY2F0ZWdvcnkgdG8gdmVudWUpIHRoYXQgdGhlIG5vZGVzIGFyZSBjb2xvcmVkIGJ5XG4vLyBUaGUgSlNPTiBkYXRhIG11c3QgaGF2ZSB0aGUgcmlnaHQgcHJvcGVydGllcyAoaS5lLiBgZ3JhcGguRG9tYWluc011bHRgIGFuZCBub2RlIHByb3BlcnR5IGBEb21haW5NdWx0YFxuLy8gYW5kIHRoZSBVUkwgbXVzdCBoYXZlIHRoZSBxdWVyeSBwYXJhbWV0ZXIgXCJkb21haW5zTXVsdFwiXG5cbi8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvOTAxMTE1L2hvdy1jYW4taS1nZXQtcXVlcnktc3RyaW5nLXZhbHVlcy1pbi1qYXZhc2NyaXB0XG5mdW5jdGlvbiBnZXRQYXJhbWV0ZXJCeU5hbWUobmFtZSwgdXJsKSB7XG5cdGlmICghdXJsKSB1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcblx0bmFtZSA9IG5hbWUucmVwbGFjZSgvW1xcW1xcXV0vZywgXCJcXFxcJCZcIik7XG4gICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChcIls/Jl1cIiArIG5hbWUgKyBcIig9KFteJiNdKil8JnwjfCQpXCIpLFxuXHRcdHJlc3VsdHMgPSByZWdleC5leGVjKHVybCk7XG5cdGlmICghcmVzdWx0cykgcmV0dXJuIG51bGw7XG5cdGlmICghcmVzdWx0c1syXSkgcmV0dXJuICcnO1xuXHRyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdHNbMl0ucmVwbGFjZSgvXFwrL2csIFwiIFwiKSk7XG59XG5cbnZhciBjaXRhdGlvblZpcyA9IGNpdGF0aW9uVmlzIHx8IHt9O1xuXG4kKCBkb2N1bWVudCApLm9uKCBcImluaXRDb21wbGV0ZVwiLCBmdW5jdGlvbigpIHtcblx0dmFyIGVnb0dyYXBoVmlzID0gY2l0YXRpb25WaXMuZWdvR3JhcGhWaXM7XG5cdHZhciBkb21haW5zTXVsdCA9IGVnb0dyYXBoVmlzLmRhdGEuZ3JhcGguRG9tYWluc011bHRcblx0aWYgKCAoIWRvbWFpbnNNdWx0KSB8fCAoIWdldFBhcmFtZXRlckJ5TmFtZSgnZG9tYWluc011bHQnKSkgKSB7XG5cdFx0Ly8gaW4gdGhpcyBjYXNlLCBleGl0IHdpdGhvdXQgZG9pbmcgYW55dGhpbmdcblx0XHRyZXR1cm47XG5cdH1cblx0dmFyICRkb21haW5Ecm9wZG93biA9ICQoICc8ZGl2PicgKTtcblx0JGRvbWFpbkRyb3Bkb3duLmFwcGVuZCggJCggJzxsYWJlbD4nICkudGV4dCgnQ29sb3IgYnk6ICcpLmNzcyggJ2Rpc3BsYXknLCAnaW5saW5lJyApICk7XG5cdHZhciBkb21haW5fc2VsZWN0ID0gJGRvbWFpbkRyb3Bkb3duLmFwcGVuZCggJCggJzxzZWxlY3Q+JyApLmF0dHIoICdpZCcsICdkb21haW5fc2VsZWN0JyApICk7XG5cdCQoICcjbWFpbkRpdicgKS5wcmVwZW5kKCAkZG9tYWluRHJvcGRvd24gKTtcblx0JC5lYWNoKGRvbWFpbnNNdWx0LCBmdW5jdGlvbihrLCB2KSB7XG5cdFx0JCggJyNkb21haW5fc2VsZWN0JyApLmFwcGVuZCggJCggJzxvcHRpb24+JyApLnRleHQoaykgKTtcblx0XHRkMy5zZWxlY3QoXCIjbWFpbkRpdlwiKS5hcHBlbmQoXCJwXCIpXG5cdFx0XHQudGV4dChrKVxuXHRcdFx0Lm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7c3dpdGNoRG9tYWluKGspO30pO1xuXHR9KTtcblx0JCggJyNkb21haW5fc2VsZWN0JyApLnZhbChcImNhdGVnb3J5X2Zyb21fa2V5d29yZFwiKTtcblx0JCggJyNkb21haW5fc2VsZWN0JyApLm9uKCAnY2hhbmdlJywgZnVuY3Rpb24oKSB7IHN3aXRjaERvbWFpbigkKHRoaXMpLnZhbCgpKTsgfSk7XG5cblx0ZnVuY3Rpb24gc3dpdGNoRG9tYWluKGRvbWFpblR5cGUpIHtcblx0XHR2YXIgZHVyID0gMjAwO1xuXHRcdGVnb0dyYXBoVmlzLmRhdGEuZ3JhcGguRG9tYWlucyA9IGRvbWFpbnNNdWx0W2RvbWFpblR5cGVdO1xuXHRcdGZvciAodmFyIGkgPSAwLCBsZW4gPSBlZ29HcmFwaFZpcy5ub3RFZ29Ob2Rlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0dmFyIHRoaXNOb2RlID0gZWdvR3JhcGhWaXMubm90RWdvTm9kZXNbaV07XG5cdFx0XHR0aGlzTm9kZS5Eb21haW5JRCA9IHRoaXNOb2RlLkRvbWFpbk11bHRbZG9tYWluVHlwZV07XG5cdFx0fVxuXHRcdGVnb0dyYXBoVmlzLmdldERvbWFpbnNUaGlzR3JhcGgoKTtcblx0XHRkMy5zZWxlY3RBbGwoXCIubGVnZW5kSXRlbVwiKS5yZW1vdmUoKTtcblx0XHRlZ29HcmFwaFZpcy5sZWdlbmRJbml0KCk7XG5cdFx0ZDMuc2VsZWN0QWxsKFwiLm5vZGVcIilcblx0XHRcdC5lYWNoKGZ1bmN0aW9uKGQpIHtcblx0XHRcdFx0ZC5Eb21haW5OYW1lID0gZWdvR3JhcGhWaXMuZGF0YS5ncmFwaC5Eb21haW5zW2QuRG9tYWluSURdO1xuXHRcdFx0XHRmb3IgKHZhciBpPTA7IGk8ZWdvR3JhcGhWaXMuZG9tYWluc1RoaXNHcmFwaC5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdHZhciB0aGlzRG9tYWluID0gZWdvR3JhcGhWaXMuZG9tYWluc1RoaXNHcmFwaFtpXS5rZXlcblx0XHRcdFx0XHRpZiAodGhpc0RvbWFpbj09ZC5Eb21haW5JRCkge1xuXHRcdFx0XHRcdFx0Ly8gdmFyIHRoaXNDb2xvciA9IHNlbGYuY29sb3JTY2hlbWVbaV07XG5cdFx0XHRcdFx0XHR2YXIgdGhpc0NvbG9yID0gZWdvR3JhcGhWaXMuZG9tYWluc1RoaXNHcmFwaFtpXS5jb2xvcjtcblx0XHRcdFx0XHRcdGQuY29sb3IgPSB0aGlzQ29sb3I7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdFx0LnRyYW5zaXRpb24oKS5kdXJhdGlvbihkdXIpXG5cdFx0XHQuYXR0cignZmlsbCcsICd3aGl0ZScpXG5cdFx0XHQuZWFjaCgnZW5kJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGQzLnNlbGVjdCh0aGlzKVxuXHRcdFx0XHRcdC50cmFuc2l0aW9uKCkuZHVyYXRpb24oZHVyKVxuXHRcdFx0XHRcdC5hdHRyKCdmaWxsJywgZnVuY3Rpb24oZCkge1xuXHRcdFx0XHRcdFx0Ly8gY29sb3IgdGhlIG5vZGVzIGJhc2VkIG9uIERvbWFpbklEXG5cdFx0XHRcdFx0XHRyZXR1cm4gZC5jb2xvclxuXHRcdFx0XHRcdH0pXG5cdFx0XHR9KVxuXHRcdGQzLnRyYW5zaXRpb24oKS5kdXJhdGlvbihkdXIqMikuZWFjaCgnZW5kJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRlZ29HcmFwaFZpcy5yZXZlYWxGaW5hbFN0YXRlKCk7XG5cdFx0fSk7XG5cdH1cbn0pO1xuXG5cbmZ1bmN0aW9uIGxpbmVDaGFydEJ5WWVhcihkYXRhKSB7XG5cdHZhciBzZWxmID0gdGhpcztcblx0c2VsZi5kYXRhID0gZGF0YS52YWx1ZXM7XG5cdHNlbGYucGV3X0NsYXNzID0gZGF0YS5wZXdfQ2xhc3M7XG5cdHNlbGYuaHJhX2Z1bmRpbmcgPSBkYXRhLmZ1bmRpbmc7XG5cdC8vIGlmIHRoZXJlIGlzIG9ubHkgb25lIGZ1bmRpbmcgcmVjb3JkOlxuXHQvLyBpZiAoc2VsZi5ocmFfZnVuZGluZy5sZW5ndGggPT0gMSkge1xuXHQvLyBcdHNlbGYuaHJhX2Z1bmRpbmcgPSBzZWxmLmhyYV9mdW5kaW5nWzBdO1xuXHQvLyB9XG5cdFxuXHQvLyB0ZXN0aW5nOlxuXHQvLyBzZWxmLmhyYV9mdW5kaW5nID0gc2VsZi5ocmFfZnVuZGluZ1swXTtcblx0Ly8gY29uc29sZS5sb2coc2VsZi5ocmFfZnVuZGluZyk7XG5cblx0Ly8gRGVmYXVsdHNcblx0Ly8gR3JhcGggU1ZHIERpbWVuc2lvbnNcbiAgICAvLyBzZWxmLmxpbmVDaGFydERpbWVuc2lvbnMgPSB7XG5cdC8vIFx0bWFyZ2luOiB7dG9wOiAzMCwgcmlnaHQ6IDIwLCBib3R0b206IDMwLCBsZWZ0OiA1MH1cblx0Ly8gfTtcblx0Ly8gc2VsZi5saW5lQ2hhcnREaW1lbnNpb25zLndpZHRoID0gOTYwICogMy80IC0gc2VsZi5saW5lQ2hhcnREaW1lbnNpb25zLm1hcmdpbi5sZWZ0IC0gc2VsZi5saW5lQ2hhcnREaW1lbnNpb25zLm1hcmdpbi5yaWdodDtcblx0Ly8gc2VsZi5saW5lQ2hhcnREaW1lbnNpb25zLmhlaWdodCA9IDExMCAtIHNlbGYubGluZUNoYXJ0RGltZW5zaW9ucy5tYXJnaW4udG9wIC0gc2VsZi5saW5lQ2hhcnREaW1lbnNpb25zLm1hcmdpbi5ib3R0b207XG5cdHNlbGYubGluZUNoYXJ0RGltZW5zaW9uczsgIC8vIGltcG9ydGVkIGluIHNlbGYuaW1wb3J0RGVmYXVsdE9wdGlvbnMgYmVsb3dcblx0XG5cdHNlbGYuY29sb3JTY2hlbWU7XG5cdC8vIC8vIENvbG9yczpcbiAgICAvLyAvLyBTZWUgaHR0cDovL2NvbG9yYnJld2VyMi5vcmcvP3R5cGU9cXVhbGl0YXRpdmUmc2NoZW1lPVNldDEmbj04XG4gICAgLy8gc2VsZi5jb2xvclNjaGVtZSA9IFsncmdiKDIyOCwyNiwyOCknLCdyZ2IoNTUsMTI2LDE4NCknLCdyZ2IoNzcsMTc1LDc0KScsXG4gICAgLy8gICAgICAgICAncmdiKDE1Miw3OCwxNjMpJywncmdiKDI1NSwxMjcsMCknLCdyZ2IoMjU1LDI1NSw1MSknLFxuICAgIC8vICAgICAgICAgJ3JnYigxNjYsODYsNDApJywncmdiKDI0NywxMjksMTkxKSddXG4gICAgLy8gLy8gSSBsaWtlZCB0aGUgYmx1ZSBiZXR0ZXIgZm9yIHRoZSBtYWluIGNvbG9yLCBzbyB0aGUgbmV4dCBsaW5lIGp1c3QgbW92ZXNcbiAgICAvLyAvLyB0aGUgYmx1ZSBjb2xvciAob3JpZ2luYWxseSBzZWxmLmNvbG9yU2NoZW1lWzFdKSB0byB0aGUgZnJvbnQgKHNlbGYuY29sb3JTY2hlbWVbMF0pXG4gICAgLy8gc2VsZi5jb2xvclNjaGVtZS5zcGxpY2UoMCwgMCwgc2VsZi5jb2xvclNjaGVtZS5zcGxpY2UoMSwgMSlbMF0pXG5cbiAgICAvLyBzZWxmLnggPSBkMy50aW1lLnNjYWxlKCkucmFuZ2UoWzAsIHNlbGYubGluZUNoYXJ0RGltZW5zaW9ucy53aWR0aF0pO1xuXG5cdHNlbGYueDtcblx0c2VsZi55O1xuXHRzZWxmLmNoYXJ0RGl2O1xuICAgIHNlbGYuc3ZnO1xuICAgIHNlbGYuc3ZnRGVmcztcblx0c2VsZi50aXRsZTtcbiAgICBzZWxmLmNsaXBQYXRoO1xuICAgIHNlbGYuY3VyclllYXJJbmRpY2F0b3I7XG5cdHNlbGYueWVhckFyZWE7XG5cdHNlbGYueWVhckFyZWFPcGFjaXR5ID0gLjE7XG4gICAgc2VsZi54QXhpcztcbiAgICBzZWxmLnlBeGlzO1xuICAgIHNlbGYubGluZTsgIC8vIGxpbmUgZHJhd2luZyBmdW5jdGlvblxuICAgIHNlbGYuYXJlYTsgIC8vIGFyZWEgZHJhd2luZyBmdW5jdGlvblxuXHRzZWxmLmNoYXJ0TGluZTsgIC8vIGFjdHVhbCBsaW5lIGVsZW1lbnRcblx0c2VsZi5jaGFydEFyZWE7ICAvLyBhY3R1YWwgYXJlYSBlbGVtZW50XG5cdHNlbGYubGluZWFyR3JhZGllbnQ7XG5cblx0c2VsZi5hbmltYXRpb25TdGF0ZTtcblx0c2VsZi5jdXJyWWVhcjtcblx0c2VsZi50cmFuc2l0aW9uVGltZVBlclllYXI7XG5cdHNlbGYueWVhclJhbmdlID0gZDMuZXh0ZW50KHNlbGYuZGF0YSwgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC55ZWFyOyB9KTtcblx0Ly8gLy8gY3V0IG9mZiBhdCAyMDE1XG5cdC8vIHNlbGYueWVhclJhbmdlWzFdID0gTWF0aC5taW4oc2VsZi55ZWFyUmFuZ2VbMV0sIDIwMTUpO1xuXHQvLyBjdXQgb2ZmIGF0IDIwMTdcblx0c2VsZi55ZWFyUmFuZ2VbMV0gPSBNYXRoLm1pbihzZWxmLnllYXJSYW5nZVsxXSwgMjAxNyk7XG5cdFxuXHRzZWxmLmZ1bmRpbmdUaW1lO1xuXHRpZiAodHlwZW9mIHNlbGYucGV3X0NsYXNzICE9ICd1bmRlZmluZWQnKSB7XG5cdFx0c2VsZi5mdW5kaW5nVGltZSA9IDQ7ICAvLyBmdW5kaW5nIHBlcmlvZCBmb3IgUGV3XG5cdH1cblx0aWYgKHR5cGVvZiBzZWxmLmhyYV9mdW5kaW5nICE9ICd1bmRlZmluZWQnKSB7XG5cdFx0c2VsZi5ocmFfZnVuZGluZyA9IHNlbGYuaHJhX2Z1bmRpbmdbMF07XG5cdFx0c2VsZi5mdW5kaW5nVGltZSA9IHNlbGYuaHJhX2Z1bmRpbmcuZHVyYXRpb25faW5feWVhcnM7XG5cdFx0Ly8gdGhpcyBpcyBhIGhhY2sgdGhhdCB3aWxsIHdvcmsgZm9yIG5vd1xuXHRcdC8vIFRPRE86IGZpeCB0aGlzXG5cdFx0c2VsZi5wZXdfQ2xhc3MgPSBzZWxmLmhyYV9mdW5kaW5nLnN0YXJ0X2RhdGU7XG5cdH1cblxuXHQvLyBzZWxmLmluaXQoKTtcblxuXHRyZXR1cm4gc2VsZjtcblxufVxuXG5saW5lQ2hhcnRCeVllYXIucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cblx0c2VsZi5hbmltYXRpb25TdGF0ZSA9ICdpbml0Jztcblx0c2VsZi5jdXJyWWVhciA9IHNlbGYueWVhclJhbmdlWzBdOyAgLy8gSW5pdGlhbGl6ZSB5ZWFyXG5cbiAgICBzZWxmLnggPSBkMy5zY2FsZS5saW5lYXIoKS5yYW5nZShbMCwgc2VsZi5saW5lQ2hhcnREaW1lbnNpb25zLndpZHRoXSk7XG4gICAgc2VsZi55ID0gZDMuc2NhbGUubGluZWFyKCkucmFuZ2UoW3NlbGYubGluZUNoYXJ0RGltZW5zaW9ucy5oZWlnaHQsIDBdKTtcblxuXHRzZWxmLmNoYXJ0RGl2ID0gZDMuc2VsZWN0KCcjY2hhcnRzRGl2JykuYXBwZW5kKCdkaXYnKVxuXHRcdC5hdHRyKCdjbGFzcycsICdjaGFydERpdicpO1xuXG5cdHNlbGYuc3ZnID0gc2VsZi5jaGFydERpdi5hcHBlbmQoJ3N2ZycpXG5cdCAgICAuYXR0cignd2lkdGgnLCBzZWxmLmxpbmVDaGFydERpbWVuc2lvbnMud2lkdGggKyBzZWxmLmxpbmVDaGFydERpbWVuc2lvbnMubWFyZ2luLmxlZnQgKyBzZWxmLmxpbmVDaGFydERpbWVuc2lvbnMubWFyZ2luLnJpZ2h0KVxuXHQgICAgLmF0dHIoJ2hlaWdodCcsIHNlbGYubGluZUNoYXJ0RGltZW5zaW9ucy5oZWlnaHQgKyBzZWxmLmxpbmVDaGFydERpbWVuc2lvbnMubWFyZ2luLnRvcCArIHNlbGYubGluZUNoYXJ0RGltZW5zaW9ucy5tYXJnaW4uYm90dG9tKVxuXHQgICAgLy8gLmF0dHIoJ2lkJywgJ2NoYXJ0MlN2ZycpXG5cdCAgICAuYXR0cignY2xhc3MnLCAnbGluZUNoYXJ0Jylcblx0ICAgIC5hcHBlbmQoJ2cnKVxuXHQgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIHNlbGYubGluZUNoYXJ0RGltZW5zaW9ucy5tYXJnaW4ubGVmdCArICcsJyArIHNlbGYubGluZUNoYXJ0RGltZW5zaW9ucy5tYXJnaW4udG9wICsgJyknKTtcblx0c2VsZi5zdmdEZWZzID0gc2VsZi5zdmcuYXBwZW5kKCdkZWZzJyk7XG5cdFxuXHQvLyBUaGUgc3RyYXRlZ3kgaXMgdG8gZHJhdyB0aGUgZW50aXJlIGxpbmUsIGJ1dCB1c2UgYSBjbGlwIHBhdGggdG8gb25seVxuXHQvLyBkaXNwbGF5IHVwIHRvIHRoZSBjdXJyZW50IHllYXIuXG5cdC8vIHZhciBjaGFydDJDbGlwUGF0aCA9IHNlbGYuc3ZnRGVmc1xuXHQvLyBcdC5hcHBlbmQoJ2NsaXBQYXRoJylcblx0Ly8gXHQuYXR0cignY2xhc3MnLCAnY2xpcCcpXG5cdC8vIFx0LmFwcGVuZCgncmVjdCcpXG5cdC8vIFx0LmF0dHIoJ3dpZHRoJywgMClcblx0Ly8gXHQuYXR0cignaGVpZ2h0Jywgc2VsZi5saW5lQ2hhcnREaW1lbnNpb25zLmhlaWdodCk7XG5cbiAgICAvLyBzZWxmLnguZG9tYWluKFtzZWxmLnN0clRvWWVhcihcIjE5NjhcIiksIHNlbGYuc3RyVG9ZZWFyKFwiMjAxM1wiKV0pO1xuXHRzZWxmLnguZG9tYWluKHNlbGYueWVhclJhbmdlKTtcblx0Ly8gSGFjayB0byBjdXQgb2ZmIHggYXhpcyBhdCAyMDEwOlxuXHQvLyBzZWxmLnguZG9tYWluKFtzZWxmLnllYXJSYW5nZVswXSwgMjAxMF0pO1xuXHQvLyBzZWxmLnkuZG9tYWluKFswLCBkMy5tYXgoc2VsZi5kYXRhLCBmdW5jdGlvbihkKSB7IHJldHVybiBkLmNvdW50KzU7IH0pXSk7XG5cdHNlbGYueS5kb21haW4oWzAsIGQzLm1heChzZWxmLmRhdGEsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQuY291bnQ7IH0pXSk7XG5cblx0c2VsZi54QXhpcyA9IGQzLnN2Zy5heGlzKCkuc2NhbGUoc2VsZi54KVxuXHRcdC5vcmllbnQoJ2JvdHRvbScpXG5cdFx0LnRpY2tGb3JtYXQoZDMuZm9ybWF0KFwiZFwiKSlcblx0XHQvLyAudGlja3MoMTYpO1xuXHRcdC50aWNrcyhNYXRoLm1pbihzZWxmLmRhdGEubGVuZ3RoLCAyMCkpO1xuXHRcblx0c2VsZi55QXhpcyA9IGQzLnN2Zy5heGlzKCkuc2NhbGUoc2VsZi55KVxuXHRcdC5vcmllbnQoJ2xlZnQnKVxuXHRcdC50aWNrcygyKVxuXHRcdC50aWNrU2l6ZSgwKTtcblx0XG4gICAgLy8gRGVmaW5lIGxpbmUgZHJhd2luZyBmdW5jdGlvblxuICAgIHNlbGYubGluZSA9IGQzLnN2Zy5saW5lKClcblx0XHQueChmdW5jdGlvbihkKSB7IHJldHVybiBzZWxmLngoZC55ZWFyKTsgfSlcblx0XHQueShmdW5jdGlvbihkKSB7IHJldHVybiBzZWxmLnkoZC5jb3VudCk7IH0pO1xuICAgIFxuICAgIC8vIERlZmluZSB0aGUgYXJlYSBkcmF3aW5nIGZ1bmN0aW9uXG4gICAgc2VsZi5hcmVhID0gZDMuc3ZnLmFyZWEoKVxuXHRcdC54KGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHNlbGYueChkLnllYXIpOyB9KVxuXHRcdC55MChzZWxmLmxpbmVDaGFydERpbWVuc2lvbnMuaGVpZ2h0KVxuXHRcdC55MShmdW5jdGlvbihkKSB7IHJldHVybiBzZWxmLnkoZC5jb3VudCk7IH0pO1xuXG5cdC8vIERyYXcgeCBheGlzXG4gICAgc2VsZi5zdmcuYXBwZW5kKCdnJylcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd4IGF4aXMnKVxuICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMCwnICsgc2VsZi5saW5lQ2hhcnREaW1lbnNpb25zLmhlaWdodCArICcpJylcbiAgICAgICAgICAgIC5jYWxsKHNlbGYueEF4aXMpO1xuXG4gICAgLy8gUHV0IHRoZSB5ZWFyIGZvciBlYWNoIGF4aXMgdGljayBsYWJlbCBpbnRvIGEgZGF0YSBhdHRyaWJ1dGVcbiAgICAvLyB0byBiZSBhYmxlIHRvIGdldCBpdCBtb3JlIGVhc2lseSBsYXRlclxuICAgIHZhciB5ZWFyTGFiZWxzID0gc2VsZi5zdmcuc2VsZWN0KCcueC5heGlzJylcbiAgICAgICAgLnNlbGVjdEFsbCgnLnRpY2snKVxuICAgICAgICAuYXR0cignY2xhc3MnLCd5ZWFyVGljaycpXG4gICAgICAgIC8vIC5hdHRyKFwiZGF0YS15ZWFyXCIsIGZ1bmN0aW9uKGQpIHtyZXR1cm4gc2VsZi55ZWFyVG9TdHIoZCk7IH0pXG4gICAgICAgIC5hdHRyKFwiZGF0YS15ZWFyXCIsIGZ1bmN0aW9uKGQpIHtyZXR1cm4gZDsgfSlcblx0XHQuc3R5bGUoJ2ZvbnQtc2l6ZScsICcuNzVlbScpO1xuXHRcbiAgICAvLyBBZGQgYSByZWN0IGZvciBlYWNoIHllYXIgbGFiZWwgc28gd2UgY2FuIGhpZ2hsaWdodCBpdCBsYXRlclxuXHR2YXIgeWVhckxhYmVsID0gc2VsZi5zdmcuc2VsZWN0QWxsKCcueWVhclRpY2snKVxuXHRcdC5hcHBlbmQoJ3N2ZzpyZWN0Jylcblx0XHQuYXR0cignZmlsbCcsIHNlbGYuY29sb3JTY2hlbWVbNF0pXG5cdFx0LnN0eWxlKCdvcGFjaXR5JywgMClcblx0XHQuYXR0cignY2xhc3MnLCAnaGlnaGxpZ2h0UmVjdCcpXG5cdFx0LmVhY2goZnVuY3Rpb24oZCkge1xuXHRcdFx0dmFyIGJib3ggPSB0aGlzLnBhcmVudE5vZGUuZ2V0QkJveCgpO1xuXHRcdFx0dmFyIHBhZGRpbmcgPSBiYm94LndpZHRoLzQ7XG5cdFx0XHRkMy5zZWxlY3QodGhpcylcblx0XHRcdFx0LmF0dHIoJ3gnLCBiYm94LnggLSBwYWRkaW5nKVxuXHRcdFx0LmF0dHIoJ3knLCBiYm94LnkpXG5cdFx0XHQuYXR0cignd2lkdGgnLCBiYm94LndpZHRoICsgcGFkZGluZyoyKVxuXHRcdFx0LmF0dHIoJ2hlaWdodCcsIGJib3guaGVpZ2h0KTtcblx0XHR9KTtcblxuXHQvLyBEcmF3IHkgYXhpc1xuXHRzZWxmLnN2Zy5hcHBlbmQoJ2cnKVxuXHRcdC5hdHRyKCdjbGFzcycsICd5IGF4aXMnKVxuXHRcdC5jYWxsKHNlbGYueUF4aXMpXG5cdFx0LmFwcGVuZCgndGV4dCcpXG5cdFx0LmF0dHIoJ3RyYW5zZm9ybScsICdyb3RhdGUoLTkwKScpXG5cdFx0LmF0dHIoJ3knLCAtc2VsZi5saW5lQ2hhcnREaW1lbnNpb25zLm1hcmdpbi5sZWZ0LzIgLSA2KVxuXHRcdC5hdHRyKCd4JywgLShzZWxmLmxpbmVDaGFydERpbWVuc2lvbnMuaGVpZ2h0ICsgc2VsZi5saW5lQ2hhcnREaW1lbnNpb25zLm1hcmdpbi50b3AgKyBzZWxmLmxpbmVDaGFydERpbWVuc2lvbnMubWFyZ2luLmJvdHRvbSkvMilcblx0XHQuYXR0cignY2xhc3MnLCAnYXhpc0xhYmVsJylcblx0XHQudGV4dCgnTnVtIGNpdGF0aW9ucycpXG5cdFx0LmF0dHIoJ2ZvbnQtc2l6ZScsICcuNWVtJyk7XG5cblx0Ly8gdmFyIG1heFggPSBzZWxmLngoc2VsZi55ZWFyUmFuZ2VbMV0pO1xuXHQvLyBjb25zb2xlLmxvZyhzZWxmLnllYXJSYW5nZVswXSk7XG5cdC8vIHNlbGYubGluZWFyR3JhZGllbnQgPSBzZWxmLnN2Zy5hcHBlbmQoJ2xpbmVhckdyYWRpZW50Jylcblx0Ly8gICAgIC5hdHRyKCdpZCcsICdsaW5lLWdyYWRpZW50Jylcblx0Ly8gICAgIC5hdHRyKCdncmFkaWVudFVuaXRzJywgJ3VzZXJTcGFjZU9uVXNlJylcblx0Ly8gICAgIC5hdHRyKCd4MScsIDApLmF0dHIoJ3kxJywgc2VsZi54KHNlbGYueWVhclJhbmdlWzBdKSlcblx0Ly8gICAgIC5hdHRyKCd4MicsIG1heFgpXG5cdC8vICAgICAuYXR0cigneTInLCAwKVxuXHQvLyAgICAgLnNlbGVjdEFsbCgnc3RvcCcpXG5cdC8vICAgICAuZGF0YShbXG5cdC8vIFx0e29mZnNldDogc2VsZi54KHNlbGYueWVhclJhbmdlWzBdKS9tYXhYLCBjb2xvcjogZDMucmdiKHNlbGYuY29sb3JTY2hlbWVbN10pLmRhcmtlcigpfSxcblx0Ly8gXHR7b2Zmc2V0OiBzZWxmLngoMTk4NSkvbWF4WCwgY29sb3I6IGQzLnJnYihzZWxmLmNvbG9yU2NoZW1lWzddKS5kYXJrZXIoKX0sXG5cdC8vIFx0e29mZnNldDogc2VsZi54KDE5ODcpL21heFgsIGNvbG9yOiBzZWxmLmNvbG9yU2NoZW1lWzJdfSxcblx0Ly8gXHR7b2Zmc2V0OiBzZWxmLngoMTk4OSkvbWF4WCwgY29sb3I6IHNlbGYuY29sb3JTY2hlbWVbMl19LFxuXHQvLyBcdHtvZmZzZXQ6IHNlbGYueCgxOTkxKS9tYXhYLCBjb2xvcjogc2VsZi5jb2xvclNjaGVtZVswXX0sXG5cdC8vIFx0e29mZnNldDogMSwgY29sb3I6IHNlbGYuY29sb3JTY2hlbWVbMF19XG5cdC8vICAgICBdKVxuXHQvLyAgICAgLmVudGVyKCkuYXBwZW5kKCdzdG9wJylcblx0Ly8gICAgIC5hdHRyKCdvZmZzZXQnLCBmdW5jdGlvbihkKSB7IHJldHVybiBkLm9mZnNldDsgfSlcblx0Ly8gICAgIC5hdHRyKCdzdG9wLWNvbG9yJywgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5jb2xvcjsgfSk7XG5cdC8vIGNvbnNvbGUubG9nKHNlbGYubGluZWFyR3JhZGllbnQpO1xuXHRzZWxmLmxpbmVhckdyYWRpZW50ID0gZDMuc2VsZWN0KCcjbGluZS1ncmFkaWVudCcpO1xuXHQvLyBpZiAoc2VsZi5saW5lYXJHcmFkaWVudC5lbXB0eSgpKSB7XG5cdC8vIFx0Ly8gc2VsZi5saW5lYXJHcmFkaWVudCA9IHNlbGYubWFrZUNvbG9yR3JhZGllbnQoMTk4OSk7XG5cdC8vIFx0c2VsZi5saW5lYXJHcmFkaWVudCA9IHNlbGYubWFrZUNvbG9yR3JhZGllbnQoc2VsZi5wZXdfQ2xhc3MpO1xuXHQvLyB9XG5cdC8vIHNlbGYubGluZWFyR3JhZGllbnQgPSBzZWxmLm1ha2VDb2xvckdyYWRpZW50KHNlbGYucGV3X0NsYXNzKTtcblxuXHRzZWxmLmNoYXJ0QXJlYSA9IHNlbGYuc3ZnLmFwcGVuZCgnZycpXG5cdFx0Ly8gLmF0dHIoJ2NsaXAtcGF0aCcsICd1cmwoI2NsaXApJylcblx0XHQuYXBwZW5kKCdwYXRoJylcblx0XHQuZGF0dW0oc2VsZi5kYXRhKVxuXHRcdC5hdHRyKCdjbGFzcycsICdhcmVhJylcblx0XHQvLyAuc3R5bGUoJ2ZpbGwnLCBzZWxmLmdyYXBoUGFyYW1zLmNvbG9yU2NoZW1lLnZhbHVlWzBdKVxuXHRcdC5zdHlsZSgnZmlsbCcsICd1cmwoI2xpbmUtZ3JhZGllbnQpJylcblx0XHQuYXR0cignZCcsIHNlbGYuYXJlYSk7XG5cblx0c2VsZi5jaGFydExpbmUgPSBzZWxmLnN2Zy5hcHBlbmQoJ2cnKVxuXHRcdC8vIC5hdHRyKCdjbGlwLXBhdGgnLCAndXJsKCNjbGlwKScpXG5cdFx0LmFwcGVuZCgncGF0aCcpXG5cdFx0LmRhdHVtKHNlbGYuZGF0YSlcblx0XHQuYXR0cignY2xhc3MnLCAnbGluZScpXG5cdFx0Ly8gLnN0eWxlKCdzdHJva2UnLCBzZWxmLmdyYXBoUGFyYW1zLmNvbG9yU2NoZW1lLnZhbHVlWzBdKVxuXHRcdC8vIC5zdHlsZSgnc3Ryb2tlJywgJ3VybCgjbGluZS1ncmFkaWVudCknKVxuXHRcdC5zdHlsZSgnc3Ryb2tlJywgJ2JsYWNrJylcblx0XHQuYXR0cignZCcsIHNlbGYubGluZSk7XG5cblx0c2VsZi5jdXJyWWVhckluZGljYXRvciA9IHNlbGYuc3ZnLmFwcGVuZCgnc3ZnOmxpbmUnKVxuXHRcdC8vIC5hdHRyKCdjbGFzcycsICd2ZXJ0aWNhbExpbmUgeWVhckluZGljYXRvcicpXG5cdFx0LmF0dHIoJ2NsYXNzJywgJ3ZlcnRpY2FsTGluZSB5ZWFySW5kaWNhdG9yIGhpZGRlbicpIC8vIHR1cm4gaXQgb2ZmIGZvciBub3cgKHRlc3Rpbmcgb3RoZXIgdGhpbmdzKVxuXHRcdC8vIEtlZXAgdHJhY2sgb2YgdHJhbnNpdGlvbiB0aW1pbmc6XG5cdFx0LmF0dHIoJ1QnLCAwKVxuXHRcdC5hdHRyKCd4MScsIHNlbGYueChzZWxmLmN1cnJZZWFyKSlcblx0XHQuYXR0cigneDInLCBzZWxmLngoc2VsZi5jdXJyWWVhcikpXG5cdFx0LmF0dHIoJ3kxJywgc2VsZi5saW5lQ2hhcnREaW1lbnNpb25zLmhlaWdodClcblx0XHQvLyAuYXR0cigneTInLCBzZWxmLmxpbmVDaGFydFlTY2FsZShjdXJyVmFsKSlcblx0XHQuYXR0cigneTInLCAwKVxuXHRcdC5hdHRyKCdzdHJva2Utd2lkdGgnLCAyKVxuXHRcdC5hdHRyKCdzdHJva2UnLCAnYmxhY2snKVxuXHRcdC5hdHRyKCdzdHJva2UtZGFzaGFycmF5JywgKCc1LCAyJykpXG5cdFx0LnN0eWxlKCdvcGFjaXR5JywgLjI1KTtcblxuXHQvLyBzZWxmLnN2Zy5zZWxlY3QoJy55ZWFyVGljaycpLnNlbGVjdCgnLmhpZ2hsaWdodFJlY3QnKVxuXHQvLyBcdC5hdHRyKCdjbGFzcycsICdjdXJyWWVhcicpXG5cdC8vIFx0LnRyYW5zaXRpb24oKVxuXHQvLyBcdC5kdXJhdGlvbig1MDApXG5cdC8vIFx0LnN0eWxlKCdvcGFjaXR5JywgLjEpO1xuXG5cdHNlbGYueWVhckFyZWEgPSBzZWxmLnN2Zy5zZWxlY3RBbGwoJy55ZWFyQXJlYScpXG5cdFx0LmRhdGEoc2VsZi5kYXRhKVxuXHRcdC5lbnRlcigpLmFwcGVuZCgnc3ZnOnJlY3QnKVxuXHRcdC5hdHRyKCdjbGFzcycsICd5ZWFyQXJlYSBoaWRkZW4nKVxuXHRcdC5hdHRyKCdkYXRhLXllYXInLCBmdW5jdGlvbihkKSB7IHJldHVybiBkLnllYXI7IH0pXG5cdFx0LmF0dHIoJ3gnLCBmdW5jdGlvbihkKSB7IHJldHVybiBzZWxmLngoZC55ZWFyKTsgfSlcblx0XHQuYXR0cigneScsIDApXG5cdFx0LmF0dHIoJ3dpZHRoJywgZnVuY3Rpb24oZCkgeyByZXR1cm4gc2VsZi54KGQueWVhcisxKS1zZWxmLngoZC55ZWFyKTsgfSlcblx0XHQuYXR0cignaGVpZ2h0Jywgc2VsZi5saW5lQ2hhcnREaW1lbnNpb25zLmhlaWdodClcblx0XHQuYXR0cignZmlsbCcsIHNlbGYuY29sb3JTY2hlbWVbNF0pXG5cdFx0LnN0eWxlKCdvcGFjaXR5JywgMCk7XG5cblxuXHRpZiAodHlwZW9mIHNlbGYucGV3X0NsYXNzICE9ICd1bmRlZmluZWQnKSB7XG5cdFx0c2VsZi5tYWtlRnVuZGluZ0xpbmVzKHNlbGYucGV3X0NsYXNzKTtcblx0fVxuXG59O1xuXG5saW5lQ2hhcnRCeVllYXIucHJvdG90eXBlLmltcG9ydERlZmF1bHRPcHRpb25zID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0c2VsZi5jb2xvclNjaGVtZSA9IG9wdGlvbnMuY29sb3JTY2hlbWU7XG5cblx0c2VsZi5saW5lQ2hhcnREaW1lbnNpb25zID0gb3B0aW9ucy5kaW1lbnNpb25zLmxpbmVDaGFydDtcblxuXHRzZWxmLnRyYW5zaXRpb25UaW1lUGVyWWVhciA9IG9wdGlvbnMudHJhbnNpdGlvblRpbWVQZXJZZWFyO1xuXG59O1xuXG5saW5lQ2hhcnRCeVllYXIucHJvdG90eXBlLm1ha2VDb2xvckdyYWRpZW50ID0gZnVuY3Rpb24oZnVuZGluZ1llYXIpIHtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXHRjb25zb2xlLmxvZyhmdW5kaW5nWWVhcik7XG5cblx0Ly8gVGhpcyBtZXRob2Qgc2hvdWxkIGJlIGNhbGxlZCBieSB0aGUgbWFpbiBhcHAgKGUuZy4gTWFpbi5qcylcblx0Ly8gSXQgbWFrZXMgYSBsaW5lYXIgZ3JhZGllbnQgZm9yIHRoZSBsaW5lIGNoYXJ0cyBiYXNlZCBvbiBmdW5kaW5nIHBlcmlvZFxuXHQvLyBmdW5kaW5nWWVhciBpcyB0aGUgUGV3IFNjaG9sYXIncyBjbGFzcyB5ZWFyXG5cdC8vIFRoZSBQZXcgZnVuZGluZyBsYXN0cyBmb3IgZml2ZSB5ZWFyc1xuXHQvLyBNYXliZSB0aGlzIG1ldGhvZCBzaG91bGQgYmUgbW9kaWZpZWQgYXQgc29tZSBwb2ludCB0byBiZSBhYmxlIHRvIGhhdmUgZGlmZmVyZW50IGxlbmd0aHMgb2YgZnVuZGluZ1xuXHRcblx0Ly8gVEhJUyBESUROJ1QgV09SSyBiZWNhdXNlIHRoZSB3aWR0aCBkZXBlbmRzIG9uIHNlbGYuaW5pdCwgYnV0IHRoaXMgbmVlZHMgdG8gYmUgY2FsbGVkIGJlZm9yZSBzZWxmLmluaXRcblx0Ly9cblx0Ly8gaW5zdGVhZCBjYWxsIGl0IGluIHNlbGYuaW5pdCgpXG5cdFxuXG5cdHZhciBtYXhYID0gc2VsZi54KHNlbGYueWVhclJhbmdlWzFdKTtcblx0dmFyIGxpbmVhckdyYWRpZW50ID0gc2VsZi5zdmcuYXBwZW5kKCdsaW5lYXJHcmFkaWVudCcpXG5cdCAgICAuYXR0cignaWQnLCAnbGluZS1ncmFkaWVudCcpXG5cdCAgICAuYXR0cignZ3JhZGllbnRVbml0cycsICd1c2VyU3BhY2VPblVzZScpXG5cdCAgICAuYXR0cigneDEnLCAwKS5hdHRyKCd5MScsIHNlbGYueChzZWxmLnllYXJSYW5nZVswXSkpXG5cdCAgICAuYXR0cigneDInLCBtYXhYKVxuXHQgICAgLmF0dHIoJ3kyJywgMClcblx0ICAgIC5zZWxlY3RBbGwoJ3N0b3AnKVxuXHQgICAgLmRhdGEoW1xuXHRcdHtvZmZzZXQ6IHNlbGYueChzZWxmLnllYXJSYW5nZVswXSkvbWF4WCwgY29sb3I6IGQzLnJnYihzZWxmLmNvbG9yU2NoZW1lWzddKS5kYXJrZXIoKX0sXG5cdFx0e29mZnNldDogc2VsZi54KGZ1bmRpbmdZZWFyLTEpL21heFgsIGNvbG9yOiBkMy5yZ2Ioc2VsZi5jb2xvclNjaGVtZVs3XSkuZGFya2VyKCl9LFxuXHRcdHtvZmZzZXQ6IHNlbGYueChmdW5kaW5nWWVhcisxKS9tYXhYLCBjb2xvcjogc2VsZi5jb2xvclNjaGVtZVsyXX0sXG5cdFx0e29mZnNldDogc2VsZi54KGZ1bmRpbmdZZWFyICsgKHNlbGYuZnVuZGluZ1RpbWUpLTEpL21heFgsIGNvbG9yOiBzZWxmLmNvbG9yU2NoZW1lWzJdfSxcblx0XHR7b2Zmc2V0OiBzZWxmLngoZnVuZGluZ1llYXIgKyAoc2VsZi5mdW5kaW5nVGltZSkrMSkvbWF4WCwgY29sb3I6IHNlbGYuY29sb3JTY2hlbWVbMF19LFxuXHRcdHtvZmZzZXQ6IDEsIGNvbG9yOiBzZWxmLmNvbG9yU2NoZW1lWzBdfVxuXHQgICAgXSlcblx0ICAgIC5lbnRlcigpLmFwcGVuZCgnc3RvcCcpXG5cdCAgICAuYXR0cignb2Zmc2V0JywgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5vZmZzZXQ7IH0pXG5cdCAgICAuYXR0cignc3RvcC1jb2xvcicsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQuY29sb3I7IH0pO1xuXG5cdHJldHVybiBsaW5lYXJHcmFkaWVudDtcblxufTtcblxubGluZUNoYXJ0QnlZZWFyLnByb3RvdHlwZS5tYWtlRnVuZGluZ0xpbmVzID0gZnVuY3Rpb24oZnVuZGluZ1llYXIpIHtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdC8vIE1ha2UgdGhlIHZlcnRpY2FsIGxpbmVzIHRoYXQgc2hvdyBmdW5kaW5nIHBlcmlvZFxuXG5cblx0c2VsZi5zdmcuYXBwZW5kKCdzdmc6bGluZScpXG5cdFx0LmF0dHIoJ2NsYXNzJywgJ3ZlcnRpY2FsTGluZVN0YXRpYyB2ZXJ0aWNhbExpbmVGdW5kaW5nQmVnaW4nKVxuXHRcdC5hdHRyKCd4MScsIHNlbGYueChmdW5kaW5nWWVhcikpXG5cdFx0LmF0dHIoJ3gyJywgc2VsZi54KGZ1bmRpbmdZZWFyKSlcblx0XHQuYXR0cigneTEnLCBzZWxmLmxpbmVDaGFydERpbWVuc2lvbnMuaGVpZ2h0KVxuXHRcdC5hdHRyKCd5MicsIDApXG5cdFx0LmF0dHIoJ3N0cm9rZS13aWR0aCcsIDIpXG5cdFx0LmF0dHIoJ3N0cm9rZScsIHNlbGYuY29sb3JTY2hlbWVbMl0pXG5cdFx0LnN0eWxlKCdzdHJva2UtZGFzaGFycmF5JywgKCc1LCAyJykpXG5cdFx0LnN0eWxlKCdvcGFjaXR5JywgLjgpO1xuXHRzZWxmLnN2Zy5hcHBlbmQoJ3N2ZzpsaW5lJylcblx0XHQuYXR0cignY2xhc3MnLCAndmVydGljYWxMaW5lU3RhdGljIHZlcnRpY2FsTGluZUZ1bmRpbmdFbmQnKVxuXHRcdC5hdHRyKCd4MScsIHNlbGYueChmdW5kaW5nWWVhciArIHNlbGYuZnVuZGluZ1RpbWUpKVxuXHRcdC5hdHRyKCd4MicsIHNlbGYueChmdW5kaW5nWWVhciArIHNlbGYuZnVuZGluZ1RpbWUpKVxuXHRcdC5hdHRyKCd5MScsIHNlbGYubGluZUNoYXJ0RGltZW5zaW9ucy5oZWlnaHQpXG5cdFx0LmF0dHIoJ3kyJywgMClcblx0XHQuYXR0cignc3Ryb2tlLXdpZHRoJywgMilcblx0XHQuYXR0cignc3Ryb2tlJywgc2VsZi5jb2xvclNjaGVtZVswXSlcblx0XHQuc3R5bGUoJ3N0cm9rZS1kYXNoYXJyYXknLCAoJzUsIDInKSlcblx0XHQuc3R5bGUoJ29wYWNpdHknLCAuOCk7XG59O1xuXG5saW5lQ2hhcnRCeVllYXIucHJvdG90eXBlLmNoYW5nZUFuaW1hdGlvblN0YXRlID0gZnVuY3Rpb24oYW5pbWF0aW9uU3RhdGUpIHtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdHNlbGYuYW5pbWF0aW9uU3RhdGUgPSBhbmltYXRpb25TdGF0ZTtcblx0Y29uc29sZS5sb2coc2VsZi5hbmltYXRpb25TdGF0ZSk7XG5cdGZ1bmN0aW9uIGFkdmFuY2VMaW5lKCkge1xuXHRcdHZhciB0aW1lRWxhcHNlZCA9IHNlbGYuY3VyclllYXJJbmRpY2F0b3IuYXR0cignVCcpO1xuXHRcdHNlbGYuY3VyclllYXJJbmRpY2F0b3Jcblx0XHRcdC5hdHRyKCdkYXRhLXN0YXRlJywgJ2ZvcndhcmQnKVxuXHRcdFx0Ly8gLmF0dHIoJ1QnLCAwKVxuXHRcdFx0LmNsYXNzZWQoJ2hpZGRlbicsIGZhbHNlKVxuXHRcdFx0LnRyYW5zaXRpb24oKVxuXHRcdFx0Ly8gLmR1cmF0aW9uKHNlbGYudHJhbnNpdGlvblRpbWVQZXJZZWFyW3NlbGYuY3VyclllYXJdIC0gdGltZUVsYXBzZWQpXG5cdFx0XHQuZHVyYXRpb24oc2VsZi50cmFuc2l0aW9uVGltZVBlclllYXJbc2VsZi5jdXJyWWVhcl0pXG5cdFx0XHQuZWFzZSgnbGluZWFyJylcblx0XHRcdC5hdHRyKCd4MScsIHNlbGYueChzZWxmLmN1cnJZZWFyKSlcblx0XHRcdC5hdHRyKCd4MicsIHNlbGYueChzZWxmLmN1cnJZZWFyKSlcblx0XHRcdC8vIC5hdHRyKCd5MicsIHNlbGYubGluZUNoYXJ0WVNjYWxlKGN1cnJWYWwpKVxuXHRcdFx0LmF0dHIoJ2RhdGEtc3RhdGUnLCAnc3RvcHBlZCcpXG5cdFx0XHQuYXR0cignVCcsIDEpXG5cdFx0XHQuZWFjaCgnZW5kJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGQzLnNlbGVjdCh0aGlzKS5hdHRyKCdUJywgMCk7XG5cdFx0XHRcdHNlbGYuY3VyclllYXIrKztcblx0XHRcdFx0Ly8gYWR2YW5jZUxpbmUoKVxuXHRcdFx0fSk7XG5cdFx0Ly8gLy8gVXBkYXRlIHRoZSBjbGlwIHBhdGggdG8gc2hvdyB0aGUgcGFydCBvZiB0aGUgbGluZSB3ZSB3YW50ICh3aXRoIHRyYW5zaXRpb24pXG5cdFx0Ly8gc2VsZi5saW5lQ2hhcnRDbGlwUGF0aFxuXHRcdC8vIFx0LmF0dHIoJ2RhdGEtc3RhdGUnLCAnZm9yd2FyZCcpXG5cdFx0Ly8gXHQvLyAuYXR0cignVCcsIDApXG5cdFx0Ly8gXHQudHJhbnNpdGlvbigpXG5cdFx0Ly8gXHQuZHVyYXRpb24oc2VsZi5ncmFwaFBhcmFtcy50cmFuc2l0aW9uVGltZVBlclllYXIudmFsdWUgLSB0aW1lRWxhcHNlZClcblx0XHQvLyBcdC5lYXNlKCdsaW5lYXInKVxuXHRcdC8vIFx0LmF0dHIoJ3dpZHRoJywgc2VsZi5saW5lQ2hhcnRYU2NhbGUoY3VyclllYXJEYXRlRm9ybWF0KSlcblx0XHQvLyBcdC5hdHRyKCdkYXRhLXN0YXRlJywgJ3N0b3BwZWQnKVxuXHRcdC8vIFx0LmF0dHIoJ1QnLCAxKVxuXHRcdC8vIFx0LmVhY2goJ2VuZCcsIGZ1bmN0aW9uKCkgeyBkMy5zZWxlY3QodGhpcykuYXR0cignVCcsIDApOyB9KTtcblx0fVxuXHRpZiAoc2VsZi5hbmltYXRpb25TdGF0ZSA9PT0gJ2ZvcndhcmQnKSB7XG5cdFx0YWR2YW5jZUxpbmUoKTtcblx0fVxufTtcblxubGluZUNoYXJ0QnlZZWFyLnByb3RvdHlwZS5jb3JyZWN0WWVhciA9IGZ1bmN0aW9uKGN1cnJZZWFyKSB7XG5cdHZhciBzZWxmID0gdGhpcztcblx0aWYgKGN1cnJZZWFyICE9IHNlbGYuY3VyclllYXIpIHtcblx0XHRzZWxmLmN1cnJZZWFyID0gY3VyclllYXI7XG5cdFx0c2VsZi5jdXJyWWVhckluZGljYXRvclxuXHRcdFx0LmF0dHIoJ3gxJywgc2VsZi54KHNlbGYuY3VyclllYXIpKVxuXHRcdFx0LmF0dHIoJ3gyJywgc2VsZi54KHNlbGYuY3VyclllYXIpKTtcblx0XHRzZWxmLmNoYW5nZUFuaW1hdGlvblN0YXRlKCk7XG5cdH1cbn07XG5cbmxpbmVDaGFydEJ5WWVhci5wcm90b3R5cGUubW92ZVllYXJJbmRpY2F0b3IgPSBmdW5jdGlvbihjdXJyWWVhcikge1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0c2VsZi5jdXJyWWVhciA9IGN1cnJZZWFyO1xuXHRzZWxmLmN1cnJZZWFySW5kaWNhdG9yXG5cdFx0LmF0dHIoJ1QnLCAwKVxuXHRcdC50cmFuc2l0aW9uKClcblx0XHQuZHVyYXRpb24oc2VsZi50cmFuc2l0aW9uVGltZVBlclllYXJbc2VsZi5jdXJyWWVhcl0pXG5cdFx0LmVhc2UoJ2xpbmVhcicpXG5cdFx0LmF0dHIoJ3gxJywgc2VsZi54KHNlbGYuY3VyclllYXIpKVxuXHRcdC5hdHRyKCd4MicsIHNlbGYueChzZWxmLmN1cnJZZWFyKSlcblx0XHQvLyAuYXR0cigneTInLCBzZWxmLmxpbmVDaGFydFlTY2FsZShjdXJyVmFsKSlcblx0XHQvLyAuYXR0cignZGF0YS1zdGF0ZScsICdzdG9wcGVkJylcblx0XHQuYXR0cignVCcsIDEpXG5cdFx0LmVhY2goJ2VuZCcsIGZ1bmN0aW9uKCkge1xuXHRcdFx0ZDMuc2VsZWN0KHRoaXMpLmF0dHIoJ1QnLCAwKTtcblx0XHR9KTtcblx0ZnVuY3Rpb24gaGlnaGxpZ2h0Q3VyclllYXJUaWNrKCkge1xuXHRcdHNlbGYuc3ZnLnNlbGVjdEFsbCgnLnllYXJUaWNrJykuc2VsZWN0QWxsKCcuaGlnaGxpZ2h0UmVjdCcpXG5cdFx0XHQuZmlsdGVyKGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQgPT0gc2VsZi5jdXJyWWVhcjsgfSlcblx0XHRcdC5hdHRyKCdjbGFzcycsICdjdXJyWWVhcicpXG5cdFx0XHQudHJhbnNpdGlvbigpXG5cdFx0XHQuZHVyYXRpb24oc2VsZi50cmFuc2l0aW9uVGltZVBlclllYXJbc2VsZi5jdXJyWWVhcl0vNClcblx0XHRcdC5zdHlsZSgnb3BhY2l0eScsIC4xKTtcblx0fVxuXHRzZWxmLnN2Zy5zZWxlY3RBbGwoJy55ZWFyVGljaycpLnNlbGVjdEFsbCgnLmN1cnJZZWFyJylcblx0XHQuY2xhc3NlZCgnLmN1cnJZZWFyJywgZmFsc2UpXG5cdFx0LnRyYW5zaXRpb24oKVxuXHRcdC5kdXJhdGlvbihzZWxmLnRyYW5zaXRpb25UaW1lUGVyWWVhcltzZWxmLmN1cnJZZWFyXS80KVxuXHRcdC5zdHlsZSgnb3BhY2l0eScsIDApO1xuXHQvLyBoaWdobGlnaHRDdXJyWWVhclRpY2soKTtcblxuXHRzZWxmLnN2Zy5zZWxlY3RBbGwoJy55ZWFyQXJlYS5jdXJyWWVhcicpXG5cdFx0LmNsYXNzZWQoJ2N1cnJZZWFyJywgZmFsc2UpXG5cdFx0LnRyYW5zaXRpb24oKVxuXHRcdC5kdXJhdGlvbihzZWxmLnRyYW5zaXRpb25UaW1lUGVyWWVhcltzZWxmLmN1cnJZZWFyXS80KVxuXHRcdC8vIC5zdHlsZSgnb3BhY2l0eScsIHNlbGYueWVhckFyZWFPcGFjaXR5LzIpO1xuXHRcdC5zdHlsZSgnb3BhY2l0eScsIGZ1bmN0aW9uKGQpIHtcblx0XHRcdGlmIChkLnllYXIgPCBzZWxmLmN1cnJZZWFyKSB7XG5cdFx0XHRcdHJldHVybiBzZWxmLnllYXJBcmVhT3BhY2l0eS8yO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIDA7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdHNlbGYueWVhckFyZWEuZmlsdGVyKGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQueWVhciA9PSBzZWxmLmN1cnJZZWFyOyB9KVxuXHRcdC5jbGFzc2VkKCdjdXJyWWVhcicsIHRydWUpXG5cdFx0LmNsYXNzZWQoJ2hpZGRlbicsIGZhbHNlKVxuXHRcdC5zdHlsZSgnb3BhY2l0eScsIHNlbGYueWVhckFyZWFPcGFjaXR5KjIpXG5cdFx0LnRyYW5zaXRpb24oKVxuXHRcdC5kdXJhdGlvbihzZWxmLnRyYW5zaXRpb25UaW1lUGVyWWVhcltzZWxmLmN1cnJZZWFyXS8yKVxuXHRcdC5zdHlsZSgnb3BhY2l0eScsIHNlbGYueWVhckFyZWFPcGFjaXR5KTtcblxuXHQvLyBtYWtlIHN1cmUgdGhhdCBldmVyeXRoaW5nIGlzIGluIG9yZGVyLi4uIGkuZS4gdGhhdCB5ZWFycyBiZWZvcmUgY3VyclllYXIgYXJlIGhpZ2hsaWdodGVkXG5cdC8vIGFuZCB5ZWFycyBhZnRlciBjdXJyWWVhciBhcmUgbm90XG5cdHNlbGYueWVhckFyZWEuZmlsdGVyKGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQueWVhciA8IHNlbGYuY3VyclllYXI7IH0pXG5cdFx0LmNsYXNzZWQoJ2hpZGRlbicsIGZhbHNlKVxuXHRcdC5zdHlsZSgnb3BhY2l0eScsIHNlbGYueWVhckFyZWFPcGFjaXR5LzIpO1xuXHRzZWxmLnllYXJBcmVhLmZpbHRlcihmdW5jdGlvbihkKSB7IHJldHVybiBkLnllYXIgPiBzZWxmLmN1cnJZZWFyOyB9KVxuXHRcdC5zdHlsZSgnb3BhY2l0eScsIDApO1xuXHRjb25zb2xlLmxvZyhzZWxmLmN1cnJZZWFyKTtcblxufTtcblxubGluZUNoYXJ0QnlZZWFyLnByb3RvdHlwZS5hZGRUaXRsZSA9IGZ1bmN0aW9uKHRpdGxlKSB7XG5cdHZhciBzZWxmID0gdGhpcztcblxuXHRzZWxmLnRpdGxlID0gc2VsZi5zdmcuYXBwZW5kKCd0ZXh0Jylcblx0ICAgIC5hdHRyKCdjbGFzcycsICdsaW5lQ2hhcnRUaXRsZScpXG5cdCAgICAuYXR0cigneCcsIHNlbGYubGluZUNoYXJ0RGltZW5zaW9ucy53aWR0aC8yKVxuXHQgICAgLmF0dHIoJ3knLCAwIC0gKHNlbGYubGluZUNoYXJ0RGltZW5zaW9ucy5tYXJnaW4udG9wIC8gMikgKVxuXHQgICAgLmF0dHIoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpXG5cdCAgICAudGV4dCh0aXRsZSk7XG5cbn07XG52YXIgY2l0YXRpb25WaXMgPSBjaXRhdGlvblZpcyB8fCB7fTtcblxuY2l0YXRpb25WaXMuc3VtbWFyeVN0YXRpc3RpY3MgPSAoZnVuY3Rpb24oKSB7XG5cblx0ZnVuY3Rpb24gYWRkU3VtbWFyeVN0YXRpc3RpY3MoZ3JhcGgpIHtcblxuXHRcdGZ1bmN0aW9uIGNsZWFuTGlua3MobGlua3MpIHtcblx0XHRcdHZhciBjbGVhbmVkTGlua3MgPSBbXTtcblx0XHRcdGxpbmtzLmZvckVhY2goZnVuY3Rpb24oZCkge1xuXHRcdFx0XHRpZiAoICh0eXBlb2YgZC5saW5rVG9FZ28gIT0gJ3VuZGVmaW5lZCcpICYmIChkLmxpbmtUb0VnbyA9PT0gdHJ1ZSkgKSB7XG5cdFx0XHRcdFx0dmFyIHNvdXJjZVllYXIgPSArZC5zb3VyY2VZZWFyO1xuXHRcdFx0XHRcdHZhciB0YXJnZXRZZWFyID0gK2QudGFyZ2V0WWVhcjtcblx0XHRcdFx0XHRpZiAoIChzb3VyY2VZZWFyID4gMCkgJiYgKHRhcmdldFllYXIgPiAwKSAmJiAoc291cmNlWWVhciA+PSB0YXJnZXRZZWFyKSApIHtcblx0XHRcdFx0XHRcdGNsZWFuZWRMaW5rcy5wdXNoKGQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gY2xlYW5lZExpbmtzO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGdldFllYXJSYW5nZShsaW5rcykge1xuXHRcdFx0Ly8gQSBsb3Qgb2YgdGhpcyBjb2RlIHdhcyBjb3BpZWQgZnJvbSBsaW5lQ2hhcnREYXRhXG5cdFx0XHQvLyBNYXkgbmVlZCB0byBjbGVhbiB0aGlzIHVwIChUT0RPKVxuXG5cdFx0XHQvLyBNYWtlIHN1cmUgYWxsIG91ciBkYXRhIGZhbGwgd2l0aGluIHRoZSBhcHByb3ByaWF0ZSB0aW1lIHNwYW4uXG5cdFx0XHQvLyBUaGUgbWluaW11bSB5ZWFyIGlzIHRoZSBlYXJsaWVzdCBwdWJsaWNhdGlvbiBieSB0aGUgZWdvIGF1dGhvciAodGhlcmUgd2lsbCBsaWtlbHkgYmUgbm8gY2l0YXRpb25zIHdpdGhpbiB0aGlzIHllYXIsIGJ1dCB0aGlzIGNoYXJ0IG5lZWRzIHRvIGxpbmUgdXAgd2l0aCB0aGUgb3RoZXIgY2hhcnRzKS5cblx0XHRcdC8vIFRoZSBtYXhpbXVtIHllYXIgaXMgdGhlIGxhc3QgeWVhciB0aGF0IGEgcGFwZXIgY2l0ZWQgb25lIG9mIHRoZSBlZ28gYXV0aG9yJ3MgcGFwZXIgKGNoZWNraW5nIHRvIG1ha2Ugc3VyZSBpdCBpcyBub3QgaW4gdGhlIGZ1dHVyZSwgd2hpY2ggd291bGQgbWVhbiBiYWQgZGF0YSkuXG5cdFx0XHR2YXIgY2xlYW5lZExpbmtzID0gY2xlYW5MaW5rcyhsaW5rcyk7XG5cdFx0XHR2YXIgbWluWWVhciA9IGQzLm1pbihjbGVhbmVkTGlua3MsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQudGFyZ2V0WWVhcj4wID8gZC50YXJnZXRZZWFyIDogbnVsbDsgfSk7XG5cdFx0XHQvLyBHZXQgY3VycmVudCB5ZWFyICh1c2luZyB0b2RheSdzIGRhdGUpOlxuXHRcdFx0dmFyIHRvZGF5WWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcblx0XHRcdHZhciBtYXhZZWFyID0gZDMubWF4KGNsZWFuZWRMaW5rcywgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5zb3VyY2VZZWFyPD10b2RheVllYXIgPyBkLnNvdXJjZVllYXIgOiBudWxsOyB9KTtcblx0XHRcdHJldHVybiBbbWluWWVhciwgbWF4WWVhcl07XG5cdFx0fVxuXG5cblx0XHRmdW5jdGlvbiBnZXRFbXB0eUNvdW50RGF0YSh5ZWFyUmFuZ2UpIHtcblx0XHRcdHZhciBlbXB0eUNvdW50RGF0YSA9IFtdO1xuXHRcdFx0Zm9yICh2YXIgaT15ZWFyUmFuZ2VbMF07IGk8PXllYXJSYW5nZVsxXTsgaSsrKSB7XG5cdFx0XHRcdGVtcHR5Q291bnREYXRhLnB1c2goe3llYXI6IGksIGNvdW50OiAwfSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZW1wdHlDb3VudERhdGE7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gZ2V0Q2l0YXRpb25Db3VudHNQZXJZZWFyKGdyYXBoKSB7XG5cdFx0XHR2YXIgY2l0YXRpb25Db3VudHNQZXJZZWFyID0gZ2V0RW1wdHlDb3VudERhdGEoZ3JhcGguZ3JhcGgueWVhclJhbmdlKTtcblx0XHRcdHZhciBjbGVhbmVkTGlua3MgPSBjbGVhbkxpbmtzKGdyYXBoLmxpbmtzKTtcblx0XHRcdGNsZWFuZWRMaW5rcy5mb3JFYWNoKGZ1bmN0aW9uKGQsIGkpIHtcblx0XHRcdFx0dmFyIHRoaXNTb3VyY2VZZWFyID0gZC5zb3VyY2VZZWFyO1xuXHRcdFx0XHR2YXIgZGF0YVRoaXNZZWFyID0gY2l0YXRpb25Db3VudHNQZXJZZWFyLmZpbHRlcihmdW5jdGlvbihkZCkgeyByZXR1cm4gZGQueWVhcj09PXRoaXNTb3VyY2VZZWFyOyB9KVswXTtcblx0XHRcdFx0ZGF0YVRoaXNZZWFyLmNvdW50Kys7XG5cdFx0XHR9KTtcblxuXHRcdFx0cmV0dXJuIGNpdGF0aW9uQ291bnRzUGVyWWVhcjtcblx0XHR9XG5cblx0XHRncmFwaC5ncmFwaC55ZWFyUmFuZ2UgPSBnZXRZZWFyUmFuZ2UoZ3JhcGgubGlua3MpO1xuXHRcdGdyYXBoLmdyYXBoLmNpdGF0aW9uQ291bnRzUGVyWWVhciA9IGdldENpdGF0aW9uQ291bnRzUGVyWWVhcihncmFwaCk7XG5cdFx0cmV0dXJuIGdyYXBoO1xuXHR9XG5cblx0cmV0dXJuIHtcblx0XHRhZGRTdW1tYXJ5U3RhdGlzdGljczogYWRkU3VtbWFyeVN0YXRpc3RpY3Ncblx0fTtcbn0oKSk7XG5cblxuXG4vLyBodHRwczovL2Nzcy10cmlja3MuY29tL3NuaXBwZXRzL2phdmFzY3JpcHQvZ2V0LXVybC12YXJpYWJsZXMvXG5mdW5jdGlvbiBnZXRRdWVyeVZhcmlhYmxlKHZhcmlhYmxlKVxue1xuICAgIHZhciBxdWVyeSA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpO1xuICAgIHZhciB2YXJzID0gcXVlcnkuc3BsaXQoXCImXCIpO1xuICAgIGZvciAodmFyIGk9MDsgaTx2YXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBwYWlyID0gdmFyc1tpXS5zcGxpdChcIj1cIik7XG4gICAgICAgIGlmKHBhaXJbMF0gPT0gdmFyaWFibGUpIHtyZXR1cm4gcGFpclsxXTt9XG4gICAgfVxuICAgIHJldHVybihmYWxzZSk7XG59XG5cblxuXG52YXIgY2l0YXRpb25WaXMgPSBjaXRhdGlvblZpcyB8fCB7fTtcblxuY2l0YXRpb25WaXMuZ2V0VHJhbnNpdGlvblRpbWVQZXJZZWFyPSBmdW5jdGlvbihncmFwaCwgbG9uZ2VzdFllYXJUcmFuc2l0aW9uVGltZSkge1xuXHRjb25zb2xlLmxvZyhncmFwaCk7XG5cdC8vIFRoaXMgd2lsbCBsZXQgdXMgdmFyeSB0aGUgdHJhbnNpdGlvbiB0aW1lIHBlciB5ZWFyXG5cdHZhciB0cmFuc2l0aW9uVGltZVBlclllYXIgPSB7fTtcblx0dmFyIGVtcHR5WWVhclRyYW5zaXRpb25UaW1lID0gMzAwO1xuXHQvLyB2YXIgbG9uZ2VzdFllYXJUcmFuc2l0aW9uVGltZSA9IDQwMDA7XG5cdC8vIFNldCBkZWZhdWx0IHZhbHVlOlxuXHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzg5NDg2MC9zZXQtYS1kZWZhdWx0LXBhcmFtZXRlci12YWx1ZS1mb3ItYS1qYXZhc2NyaXB0LWZ1bmN0aW9uXG5cdHZhciBsb25nZXN0WWVhclRyYW5zaXRpb25UaW1lID0gdHlwZW9mIGxvbmdlc3RZZWFyVHJhbnNpdGlvblRpbWUgIT09ICd1bmRlZmluZWQnID8gbG9uZ2VzdFllYXJUcmFuc2l0aW9uVGltZSA6IDQwMDA7XG5cdC8vIFRoaXMgc2NhbGUgdGFrZXMgdGhlIG51bWJlciBvZiBub2RlcyBmb3IgYSBnaXZlbiB5ZWFyIGFzIGlucHV0XG5cdC8vIGFuZCBvdXRwdXRzIHRoZSB0cmFuc2l0aW9uIHRpbWUsIGJhc2VkIG9uIGEgdGhyZXNob2xkIG1hcHBpbmdcblx0dmFyIHRocmVzaG9sZFNjYWxlID0gZDMuc2NhbGUudGhyZXNob2xkKClcblx0XHQuZG9tYWluKFsxLCAzLCAxMCwgMjAsIDMwXSlcblx0XHQucmFuZ2UoW1xuXHRcdFx0XHRlbXB0eVllYXJUcmFuc2l0aW9uVGltZSwgIC8vIHplcm8gbm9kZXNcblx0XHRcdFx0bG9uZ2VzdFllYXJUcmFuc2l0aW9uVGltZSAqIC4yLCAgLy8gb25lIG9yIHR3byBub2Rlc1xuXHRcdFx0XHRsb25nZXN0WWVhclRyYW5zaXRpb25UaW1lICogLjUsIC8vIDMgdG8gOVxuXHRcdFx0XHRsb25nZXN0WWVhclRyYW5zaXRpb25UaW1lICogLjcsICAvLyAxMCB0byAxOVxuXHRcdFx0XHRsb25nZXN0WWVhclRyYW5zaXRpb25UaW1lICogLjg1LCAgLy8gMjAgdG8gMjlcblx0XHRcdFx0bG9uZ2VzdFllYXJUcmFuc2l0aW9uVGltZSAgLy8gMzArXG5cdFx0XHRcdF0pO1xuXHR2YXIgeWVhclJhbmdlID0gZ3JhcGguZ3JhcGgueWVhclJhbmdlO1xuXHRcblx0Ly8gUHV0IHRoZSB0cmFuc2l0aW9uIHRpbWUgZm9yIGVhY2ggeWVhciBpbnRvIGFuIG9iamVjdFxuXHRmb3IgKHZhciBpPXllYXJSYW5nZVswXTsgaTw9eWVhclJhbmdlWzFdOyBpKyspIHtcblx0XHQvLyB0cmFuc2l0aW9uVGltZVBlclllYXJbaV0gPSAxMDAwO1xuXHRcdHRyYW5zaXRpb25UaW1lUGVyWWVhcltpXSA9IHRocmVzaG9sZFNjYWxlKGdyYXBoLmdyYXBoLm5vZGVDb3VudHNQZXJZZWFyW2ldKTtcblx0fVxuXHRyZXR1cm4gdHJhbnNpdGlvblRpbWVQZXJZZWFyO1xufTtcblxuY2l0YXRpb25WaXMueWVhclRpY2tDbGlja0V2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBBZGQgY2xpY2sgbGlzdGVuZXJzIHRvIGxpbmUgY2hhcnQgYXhpcyB0aWNrIGxhYmVscyAoeWVhcnMpLlxuICAgIC8vIE9uIGNsaWNrLCBhIG5ldyBkZXN0aW5hdGlvbiBub2RlIHdpbGwgYmUgc2V0LlxuICAgIGQzLnNlbGVjdEFsbCgnLnllYXJUaWNrJylcbiAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgIC8vIEdldCB0aGUgeWVhciAoYXMgaW50ZWdlcilcbiAgICAgICAgICAgIHZhciBkZXN0aW5hdGlvblllYXIgPSB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS15ZWFyJyk7XG4gICAgICAgICAgICAvLyBTdG9wIGFsbCB0cmFuc2l0aW9ucyBvbiBub2RlcyBhbmQgbGlua3NcbiAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLm5vZGUsIC5saW5rJykudHJhbnNpdGlvbigpLmR1cmF0aW9uKDApO1xuXG5cdFx0XHRjaXRhdGlvblZpcy5lZ29HcmFwaFZpcy5uZXdEZXN0aW5hdGlvbk5vZGUoZGVzdGluYXRpb25ZZWFyKTtcbiAgICAgICAgfSk7XG59O1xuXG5mdW5jdGlvbiBtYWluKCkge1xuXG5cbmQzLnNlbGVjdCgnI21haW5EaXYnKS5hcHBlbmQoJ3AnKVxuXHQuYXR0cihcImNsYXNzXCIsIFwibG9hZGluZ1RleHRcIilcblx0LnRleHQoJ0xvYWRpbmcuLi4nKTtcblxuZDMuanNvbignbmFzMl9tYWdfZG9pX2pvaW5fbmV0d29ya19mdWxsZGF0YV93aXRoX2Zvc19uYW1lcy5qc29uJywgZnVuY3Rpb24oZXJyb3IsIGdyYXBoKSB7XG5cdGNvbnNvbGUubG9nKGVycm9yKTtcblx0aWYgKGVycm9yKSB7XG5cdFx0dmFyIGNvbnRhY3RFbWFpbCA9ICdqcG9ydGVub0B1dy5lZHUnO1xuXHRcdHZhciBlcnJIdG1sID0gJ1RoZXJlIHdhcyBhbiBlcnJvciBnZW5lcmF0aW5nIHRoZSB2aXN1YWxpemF0aW9uLCBvciBlbHNlIGRhdGEgcHJvY2Vzc2luZyBpcyBzdGlsbCBpbiBwcm9ncmVzcy4gVHJ5IHJlbG9hZGluZyB0aGUgcGFnZSBsYXRlciwgb3IgZ2VuZXJhdGluZyB0aGUgdmlzdWFsaXphdGlvbiBhZ2Fpbi4gSWYgdGhlIHByb2JsZW0gcGVyc2lzdHMsIDxhIGhyZWY9XCJtYWlsdG86JyArIGNvbnRhY3RFbWFpbCArICdcIj5jb250YWN0IHRoZSBhZG1pbmlzdHJhdG9yPC9hPi4nXG5cdFx0JCggJy5sb2FkaW5nVGV4dCcgKS5odG1sKCBlcnJIdG1sIClcblx0XHRcdC5jc3MoIHsnY29sb3InOiAncmVkJ30gKTtcblx0XHR0aHJvdyBlcnJvcjtcblx0fVxuXG5cdC8vIEdldCB0aGUgbW9zdCBjb21tb24gRG9tYWluIElEcyBmb3IgdGhlIGVnbyBhdXRob3IncyBwYXBlcnNcblx0dmFyIGRvbWFpbnNOZXN0ID0gZDMubmVzdCgpXG5cdFx0LmtleShmdW5jdGlvbihkKSB7IHJldHVybiBkLkRvbWFpbklEOyB9KS5zb3J0VmFsdWVzKGQzLmRlc2NlbmRpbmcpXG5cdFx0LnJvbGx1cChmdW5jdGlvbihsZWF2ZXMpIHsgcmV0dXJuIGxlYXZlcy5sZW5ndGg7IH0pXG5cdFx0LmVudHJpZXMoZ3JhcGgubm9kZXNbMF0ucGFwZXJzKTtcblx0ZG9tYWluc05lc3Quc29ydChmdW5jdGlvbihhLGIpIHsgcmV0dXJuIGQzLmRlc2NlbmRpbmcoYS52YWx1ZXMsIGIudmFsdWVzKTsgfSk7XG5cdC8vIHN0b3JlIGFzIGEgbm9kZSBwcm9wZXJ0eVxuXHRncmFwaC5ub2Rlc1swXS5Eb21haW5Db3VudHMgPSBkb21haW5zTmVzdDtcblx0Y29uc29sZS5sb2coZ3JhcGgpO1xuXHQvLyBkMy5zZWxlY3QoJyNpbmZvRGl2JykuYXBwZW5kKCdwJykudGV4dChncmFwaC5ub2Rlc1swXS5BdXRob3JOYW1lKTtcblxuXHR2YXIgZGVmYXVsdF9vcHRpb25zID0gY2l0YXRpb25WaXMuZGVmYXVsdF9vcHRpb25zLCBcblx0XHRzdW1tYXJ5U3RhdGlzdGljcyA9IGNpdGF0aW9uVmlzLnN1bW1hcnlTdGF0aXN0aWNzLFxuXHRcdGVnb0dyYXBoRGF0YSA9IGNpdGF0aW9uVmlzLmVnb0dyYXBoRGF0YSxcblx0ICAgIGxpbmVDaGFydERhdGEgPSBjaXRhdGlvblZpcy5saW5lQ2hhcnREYXRhLFxuXHRcdGV2ZW50TGlzdGVuZXJzID0gY2l0YXRpb25WaXMuZXZlbnRMaXN0ZW5lcnM7XG5cblx0dmFyIG9wdGlvbnMgPSBkZWZhdWx0X29wdGlvbnMuZGVmYXVsdHM7XG5cdGNvbnNvbGUubG9nKG9wdGlvbnMpO1xuXG5cdGdyYXBoID0gc3VtbWFyeVN0YXRpc3RpY3MuYWRkU3VtbWFyeVN0YXRpc3RpY3MoZ3JhcGgpO1xuXHRjaXRhdGlvblZpcy5ncmFwaF9kYXRhID0gZWdvR3JhcGhEYXRhLnByZXBhcmVfZWdvR3JhcGhEYXRhKGdyYXBoKTtcblx0Y2l0YXRpb25WaXMucHVibGljYXRpb25zX2RhdGEgPSBsaW5lQ2hhcnREYXRhLnByZXBhcmVEYXRhX2Vnb0F1dGhvclB1YmxpY2F0aW9ucyhncmFwaCk7XG5cdGNpdGF0aW9uVmlzLmFsbF9jaXRhdGlvbnNfZGF0YSA9IGxpbmVDaGFydERhdGEucHJlcGFyZURhdGFfYWxsQ2l0YXRpb25zKGdyYXBoKTtcblx0Y2l0YXRpb25WaXMuZWlnZW5mYWN0b3Jfc3VtX2RhdGEgPSBsaW5lQ2hhcnREYXRhLnByZXBhcmVEYXRhX2F1dGhvckVpZ2VuZmFjdG9yU3VtKGdyYXBoKTtcblxuXHQvLyBWaXN1YWxpemF0aW9uIG9iamVjdHMgZ28gaGVyZVxuXHRjaXRhdGlvblZpcy5lZ29HcmFwaFZpcyA9IG5ldyBlZ29HcmFwaFZpcyhjaXRhdGlvblZpcy5ncmFwaF9kYXRhKTtcblx0Ly8gY2l0YXRpb25WaXMucHVibGljYXRpb25zTGluZUNoYXJ0ID0gbmV3IGxpbmVDaGFydEJ5WWVhcihjaXRhdGlvblZpcy5wdWJsaWNhdGlvbnNfZGF0YSk7XG5cdC8vIGNpdGF0aW9uVmlzLmNpdGF0aW9uc0xpbmVDaGFydCA9IG5ldyBsaW5lQ2hhcnRCeVllYXIoY2l0YXRpb25WaXMuYWxsX2NpdGF0aW9uc19kYXRhKTtcblx0Ly8gY2l0YXRpb25WaXMuZWlnZW5mYWN0b3JTdW1MaW5lQ2hhcnQgPSBuZXcgbGluZUNoYXJ0QnlZZWFyKGNpdGF0aW9uVmlzLmVpZ2VuZmFjdG9yX3N1bV9kYXRhKTtcblx0Y2l0YXRpb25WaXMubGluZUNoYXJ0cyA9IFtdO1xuXHRjaXRhdGlvblZpcy5saW5lQ2hhcnRzLnB1c2gobmV3IGxpbmVDaGFydEJ5WWVhcihjaXRhdGlvblZpcy5wdWJsaWNhdGlvbnNfZGF0YSkpO1xuXHRjaXRhdGlvblZpcy5saW5lQ2hhcnRzLnB1c2gobmV3IGxpbmVDaGFydEJ5WWVhcihjaXRhdGlvblZpcy5hbGxfY2l0YXRpb25zX2RhdGEpKTtcblx0Y2l0YXRpb25WaXMubGluZUNoYXJ0cy5wdXNoKG5ldyBsaW5lQ2hhcnRCeVllYXIoY2l0YXRpb25WaXMuZWlnZW5mYWN0b3Jfc3VtX2RhdGEpKTtcblxuXHRvcHRpb25zLnRyYW5zaXRpb25UaW1lUGVyWWVhciA9IGNpdGF0aW9uVmlzLmdldFRyYW5zaXRpb25UaW1lUGVyWWVhcihncmFwaCk7XG5cblx0Y2l0YXRpb25WaXMuZWdvR3JhcGhWaXMuaW1wb3J0RGVmYXVsdE9wdGlvbnMob3B0aW9ucyk7XG5cdGZvciAodmFyIGk9MDsgaTxjaXRhdGlvblZpcy5saW5lQ2hhcnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0Y2l0YXRpb25WaXMubGluZUNoYXJ0c1tpXS5pbXBvcnREZWZhdWx0T3B0aW9ucyhvcHRpb25zKTtcblx0fVxuXG5cdGNpdGF0aW9uVmlzLmVnb0dyYXBoVmlzLmluaXQoKTtcblx0Zm9yICh2YXIgaT0wOyBpPGNpdGF0aW9uVmlzLmxpbmVDaGFydHMubGVuZ3RoOyBpKyspIHtcblx0XHRjaXRhdGlvblZpcy5saW5lQ2hhcnRzW2ldLmluaXQoKTtcblx0fVxuXHQkLmV2ZW50LnRyaWdnZXIoe1xuXHRcdHR5cGU6IFwiaW5pdENvbXBsZXRlXCIsXG5cdH0pO1xuXG5cdGNpdGF0aW9uVmlzLmxpbmVDaGFydHNbMF0uYWRkVGl0bGUoXCJOdW1iZXIgb2YgcHVibGljYXRpb25zXCIpO1xuXHRjaXRhdGlvblZpcy5saW5lQ2hhcnRzWzFdLmFkZFRpdGxlKFwiTnVtYmVyIG9mIGNpdGF0aW9ucyByZWNlaXZlZFwiKTtcblx0dmFyIGN0cnR5cGUgPSBnZXRRdWVyeVZhcmlhYmxlKFwiY3RydHlwZVwiKTtcblx0aWYgKCFjdHJ0eXBlKSB7XG5cdFx0Y3RydHlwZSA9IFwiYXV0aG9yXCI7XG5cdH1cblx0Y29uc29sZS5sb2coY3RydHlwZSk7XG5cdC8vIGNpdGF0aW9uVmlzLmxpbmVDaGFydHNbMl0uYWRkVGl0bGUoXCJTdW0gb2YgZWlnZW5mYWN0b3IgZm9yIHRoaXMgYXV0aG9yJ3MgcHVibGljYXRpb25zIGJ5IHllYXJcIik7XG5cdGNpdGF0aW9uVmlzLmxpbmVDaGFydHNbMl0uYWRkVGl0bGUoXCJTdW0gb2YgZWlnZW5mYWN0b3IgZm9yIHRoaXMgXCIgKyBjdHJ0eXBlICsgXCIncyBwdWJsaWNhdGlvbnMgYnkgeWVhclwiKTtcblxuXG5cdCQoIGRvY3VtZW50ICkub24oIFwieWVhckNoYW5nZVwiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgY3VyclllYXIgPSBjaXRhdGlvblZpcy5lZ29HcmFwaFZpcy5jdXJyWWVhcjtcblx0XHRmb3IgKHZhciBpPTA7IGk8Y2l0YXRpb25WaXMubGluZUNoYXJ0cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y2l0YXRpb25WaXMubGluZUNoYXJ0c1tpXS5tb3ZlWWVhckluZGljYXRvcihjdXJyWWVhcik7XG5cdFx0fVxuXHR9KTtcblxuXHQvLyBIYWNrIHRvIGxhYmVsIHRoZSBwdWJsaWNhdGlvbnMgbGluZSBjaGFydC4gVE9ETzogRml4IHRoaXMgbGF0ZXJcblx0Ly8gdmFyIHB1YnMgPSBkMy5zZWxlY3QoY2l0YXRpb25WaXMucHVibGljYXRpb25zTGluZUNoYXJ0LmNoYXJ0RGl2WzBdWzBdKTtcblx0dmFyIHB1YnMgPSBkMy5zZWxlY3QoY2l0YXRpb25WaXMubGluZUNoYXJ0c1swXS5jaGFydERpdlswXVswXSk7XG5cdHZhciBwdWJzQXhpc0xhYmVsID0gcHVicy5zZWxlY3QoJy55LmF4aXMnKS5zZWxlY3QoJy5heGlzTGFiZWwnKTtcblx0cHVic0F4aXNMYWJlbC50ZXh0KCdOdW0gcHVibGljYXRpb25zJyk7XG5cdC8vIEhhY2sgdG8gYWx0ZXIgZWlnZW5mYWN0b3IgbGluZSBjaGFydC4gVE9ETzogRml4IHRoaXMgbGF0ZXJcblx0Ly8gY2l0YXRpb25WaXMuZWlnZW5mYWN0b3JTdW1MaW5lQ2hhcnQueUF4aXMudGlja0Zvcm1hdChkMy5mb3JtYXQoJ2UnKSk7XG5cdGNpdGF0aW9uVmlzLmxpbmVDaGFydHNbMl0ueUF4aXMudGlja0Zvcm1hdChkMy5mb3JtYXQoJ2UnKSk7XG5cdC8vIHZhciBFRkNoYXJ0ID0gZDMuc2VsZWN0KGNpdGF0aW9uVmlzLmVpZ2VuZmFjdG9yU3VtTGluZUNoYXJ0LmNoYXJ0RGl2WzBdWzBdKTtcblx0dmFyIEVGQ2hhcnQgPSBkMy5zZWxlY3QoY2l0YXRpb25WaXMubGluZUNoYXJ0c1syXS5jaGFydERpdlswXVswXSk7XG5cdEVGQ2hhcnQuc2VsZWN0KCcueS5heGlzJylcblx0XHQvLyAuY2FsbChjaXRhdGlvblZpcy5laWdlbmZhY3RvclN1bUxpbmVDaGFydC55QXhpcylcblx0XHQuY2FsbChjaXRhdGlvblZpcy5saW5lQ2hhcnRzWzJdLnlBeGlzKVxuXHRcdC5zZWxlY3QoJy5heGlzTGFiZWwnKS50ZXh0KCdTdW0gb2YgRWlnZW5mYWN0b3InKTtcblxuXG5cdC8vIEV2ZW50IGxpc3RlbmVyc1xuXHQvLyBFdmVudCBsaXN0ZW5lcnMgdGhhdCBhY3QgYWNyb3NzIGRpZmZlcmVudCB2aXN1YWxpemF0aW9uIG9iamVjdHMgZ28gaGVyZVxuXHRjaXRhdGlvblZpcy55ZWFyVGlja0NsaWNrRXZlbnRMaXN0ZW5lcigpO1xuXHRcblx0ZDMuc2VsZWN0KFwiLmxvYWRpbmdUZXh0XCIpLnJlbW92ZSgpO1xufSk7XG4vLyB9KShjaXRhdGlvbnZpc19kYXRhKTtcbn1cblxuLy8gbWFpbigpO1xuZXhwb3J0IHsgY2l0YXRpb25WaXMsIGVnb0dyYXBoVmlzLCBsaW5lQ2hhcnRCeVllYXIgfTtcbiIsImltcG9ydCB7IGNpdGF0aW9uVmlzLCBlZ29HcmFwaFZpcywgbGluZUNoYXJ0QnlZZWFyIH0gZnJvbSAnLi9jb25jYXQuanMnO1xuZXhwb3J0IHsgY2l0YXRpb25WaXMsIGVnb0dyYXBoVmlzLCBsaW5lQ2hhcnRCeVllYXIgfTtcblxuIl0sInNvdXJjZVJvb3QiOiIifQ==