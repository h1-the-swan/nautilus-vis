!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("nautilus_vis",[],e):"object"==typeof exports?exports.nautilus_vis=e():t.nautilus_vis=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var i=i||{};$(document).on("initComplete",function(){var t=i.egoGraphVis;if(0!=t.zoomable){var e=t.zoom;t.zoomTranslate=e.translate(),t.checkZoom=function(i){var r=n([0,0])[1],a=n([t.graphDimensions.width,t.graphDimensions.height])[1];if(i.y<r||i.y>a){console.log(e.translate()),console.log(e.scale()),console.log(n([i.x,i.y])),console.log(n([t.graphDimensions.width,t.graphDimensions.height])),console.log(n([0,0])),t.group.call(e.event);var o=e.center(),s=e.translate(),l=n(o);e.scale(.9*e.scale());var c=function(t){var n=e.scale(),i=e.translate();return[t[0]*n+i[0],t[1]*n+i[1]]}(l);e.translate([s[0]+o[0]-c[0],s[1]+o[1]-c[1]]),t.group.transition().duration(500).call(e.event)}},$(document).on("animationFinished",function(){r(),console.log(e.translate()),console.log(e.scale())}),r()}function n(t){var n=e.scale(),i=e.translate();return[(t[0]-i[0])/n,(t[1]-i[1])/n]}function r(){var e=[300,501];console.log("coordinates"),console.log(e),console.log(n(e)),console.log(n([t.graphDimensions.width,t.graphDimensions.height]))}});i=i||{};$(document).on("initComplete",{focus_id:focus_id},function(t){var e=t.data.focus_id;e=parseInt(e);i.egoGraphVis;if(void 0===e||!e)e=function(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}("focusid");e&&$(".centerNode").click(function(){var t=Flask.url_for("generate_colldata_from_collection",{focus_id:e});window.open(t,"_blank","location=0")}),$(window).on("storage",function(t){if("message"!=t.originalEvent.key)return;var e=JSON.parse(t.originalEvent.newValue);if(!e)return;"timelineVis:paperItem:mouseover"==e.command&&(n=e.data.pid,i=[],d3.selectAll(".node").filter(function(t){if(t.targetPaperIDs&&-1!=t.targetPaperIDs.indexOf(n))return i.push(t),!0}).classed("linkedToTimeline",!0),d3.selectAll(".link").filter(function(t){return-1!=i.indexOf(t.source)}).classed("linkedToTimeline",!0));var n,i;"timelineVis:paperItem:mouseout"==e.command&&(e.data.pid,d3.selectAll(".linkedToTimeline").classed("linkedToTimeline",!1))})}),(i=i||{}).default_options=function(){var t={width:960,height:500,lineChart:{margin:{top:30,right:20,bottom:30,left:50}}};t.lineChart.width=3*t.width/4-t.lineChart.margin.left-t.lineChart.margin.right,t.lineChart.height=110-t.lineChart.margin.top-t.lineChart.margin.bottom;var e=["rgb(228,26,28)","rgb(55,126,184)","rgb(77,175,74)","rgb(152,78,163)","rgb(255,127,0)","rgb(255,255,51)","rgb(166,86,40)","rgb(247,129,191)"];return e.splice(0,0,e.splice(1,1)[0]),{defaults:{colorScheme:e,dimensions:t}}}(),(i=i||{}).lineChartData=function(){function t(t){return t.nodes[0].pew_Class}function e(t){return t.nodes[0].funding}function n(t){var e=[];return t.forEach(function(t){if(void 0!==t.linkToEgo&&!0===t.linkToEgo){var n=+t.sourceYear,i=+t.targetYear;n>0&&i>0&&n>=i&&e.push(t)}}),e}function i(t){var e=d3.min(t,function(t){return t.targetYear>0?t.targetYear:null}),n=(new Date).getFullYear(),i=d3.max(t,function(t){return t.sourceYear<=n?t.sourceYear:null});return[e,i=Math.min(i,2017)]}function r(t){for(var e=[],n=t[0];n<=t[1];n++)e.push({year:n,count:0});return e}return{prepareData_allCitations:function(a){var o={};o.pew_Class=t(a),o.funding=e(a),o.values=[];var s=n(a.links),l=i(s);return s=s.filter(function(t){return t.sourceYear<=l[1]&&t.targetYear<=l[1]}),o.values=r(l),s.forEach(function(t){var e=t.sourceYear;o.values.filter(function(t){return t.year===e})[0].count++}),o},prepareData_egoAuthorPublications:function(a){var o={};o.pew_Class=t(a),o.funding=e(a),o.values=[];var s=i(n(a.links));o.values=r(s);var l=a.nodes[0].papers;return(l=l.filter(function(t){return t.Year>=s[0]&&t.Year<=s[1]})).forEach(function(t){o.values.filter(function(e){return e.year==t.Year})[0].count++}),o},prepareData_authorEigenfactorSum:function(a){var o={};o.pew_Class=t(a),o.funding=e(a),o.values=[];var s=i(n(a.links));o.values=r(s);var l=a.nodes[0].papers;return(l=l.filter(function(t){return t.Year>=s[0]&&t.Year<=s[1]})).forEach(function(t){var e=o.values.filter(function(e){return e.year==t.Year})[0];e.count=e.count+t.EF}),o}}}();i=i||{};String.prototype.capitalize=function(){return this.toLowerCase().replace(/\b\w/g,function(t){return t.toUpperCase()})};i=i||{};function r(t){this.data=t,this.notEgoNodes=this.data.nodes.slice(1),console.log(this.data),this.graphDimensions,this.colorScheme,this.nodePlacementOptions=["force1","spiral","spiral2"],this.nodePlacement=this.nodePlacementOptions[1],this.zoomable=!1,this.svg,this.group,this.node,this.link,this.egoNode,this.eigenFactorScale,this.domainsThisGraph,this.legend,this.yearTextDisplay,this.authorImageDiv,this.tooltip,this.tip,this.tick,this.force,this.colorScheme;return this.JSDColorScale=d3.scale.linear().domain(d3.extent(this.notEgoNodes,function(t){return t.js_div})).range(["red","blue"]),this.ClusterDistanceColorScale=d3.scale.linear().domain(d3.extent(this.notEgoNodes,function(t){return t.average_cluster_distance_to_center})).range(["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"]),this.opacityVals={node:1,nodePrevYear:.6,linkToEgo:.12,linkNotToEgo:.12,linkPrevYear:.04},this.doAnnotations=!1,this.animationState,this.transitionTimePerYear,this.transitionTimePerNode,this.linkAppearDuration=500,this.currNodeIndex,this.destinationNodeIndex,this.destinationYear,this.currYear,this.destinationNodeIndex=this.data.nodes.length-1,this.c=0,this.tt=0,this}$(document).on("initComplete",function(){var t=$(window).width();!function(){$(".node").addClass("tooltipster");var t=$(window).width();function e(t,e){var i="";return d3.select(t).each(function(t){if("paper"!==t.nodeType||t.updatedProps){if(0==t.idx){t.tooltipHtml="<p>",t.nodeType&&(t.tooltipHtml=t.tooltipHtml+t.nodeType.capitalize()+": "),t.tooltipHtml=t.tooltipHtml+t.name,t.tooltipHtml=t.tooltipHtml+"</p>";var r=t.papers.length;return t.tooltipHtml=t.tooltipHtml+"<p>Number of Publications: "+r+"</p>",i=t.tooltipHtml,null!=e&&e(i),i}}else{if(void 0!==t.citation&&t.citation.length>0)return i=function(t){return t.updatedProps=!0,n(t)}(t),null!=e&&e(i),i;$.ajax({dataType:"json",url:$SCRIPT_ROOT+"/_vis_get_more_paperinfo",data:{paperid:t.id},success:function(r){return console.log(r),t.Title=r.title,t.doi=r.doi,t.citation=r.citation,t.author_str=r.author_str,t.venue=r.venue,t.updatedProps=!0,i=n(t),null!=e&&e(i),i}})}}),i}function n(t){var e=$("<span>");e.append($('<p class="tooltip title">').text(t.Title)),e.append($('<p class="tooltip authors">').text(t.author_str)),e.append($('<p class="tooltip venue">').text(t.venue)),e.append($('<p class="tooltip year">').text(t.Year)),e.append($('<p class="tooltip domain">').text("Categories: "+t.Field_of_study_names)),t.tooltipHtml=e.html();var n=t.tooltipHtml;return n}$(".tooltipster").tooltipster({theme:"tooltipster-noir",maxWidth:.5*t,animation:null,animationduration:0,delay:0,updateAnimation:null,content:"<p>Loading...</p>",contentAsHTML:!0,functionBefore:function(t,n){e(n.origin,function(e){t.content(e)})}})}(),function(){var t=$(window).width();$(".legendItem.other").tooltipster({theme:"tooltipster-noir",maxWidth:.5*t,animation:null,animationduration:0,delay:0,updateAnimation:null,content:"<p>These are papers in categories other than the ones above. Point your mouse at a specific paper to see the name of the category.</p>",contentAsHTML:!0});$(".egoGraphVisLegendHeader").tooltipster({theme:"tooltipster-noir",maxWidth:.5*t,animation:null,animationduration:0,delay:0,updateAnimation:null,content:"<p>The data underlying this visualization comes from the Microsoft Academic Graph. Each document has multiple associated Fields of Study. Here, these Fields are combined with the document's title, weighted using TF-IDF, and assigned a category using K-Means clustering. Mouse over the categories to highlight its papers, and to see more important terms.</p>",contentAsHTML:!0}),$(".legendItem").tooltipster({theme:"tooltipster-noir",maxWidth:.5*t,animation:null,animationduration:0,delay:0,updateAnimation:null,content:"<p>Loading...</p>",contentAsHTML:!0,functionBefore:function(t,e){var n=d3.select(e.origin);n.each(function(e){var n="<h3>Top terms in category "+e.DomainID+":</h3>";n+="<ul>";for(var i=0,r=e.DomainName.length;i<r;i++)n=n+"<li>"+e.DomainName[i]+"</li>";n+="</ul>",t.content(n)})}})}(),$(".yearArea, .yearTick").css("pointer-events","all").tooltipster({theme:"tooltipster-noir",maxWidth:.5*t,animation:null,animationduration:0,delay:0,updateAnimation:null,content:"<p>Loading...</p>",contentAsHTML:!0,functionInit:function(){console.log("tooltipster init")},functionBefore:function(t,e){var n=$(e.origin).data("year"),r=i.egoGraphVis.egoNode.papers.filter(function(t){return t.Year==n}).sort(function(t,e){return d3.descending(t.EF,e.EF)});if(0===r.length)return!1;!function(t,e,n,r){if(e[0].hasOwnProperty("citation")){var a='<h3 style="font-size: 100%">Top papers in this collection in '+t+":</h3>";a+="<ol>";for(var o=0,s=0,l=e.length;s<l;s++){var c=e[s];if(c.hasOwnProperty("citation")&&(a=a+"<li>"+c.citation+"</li>",++o===n))break}return a+="</ol>",i.egoGraphVis.tooltip=i.egoGraphVis.tooltip.html(a),null!=r&&r(a),a}var d=[];for(s=0,l=n;s<l;s++)s<e.length&&d.push(e[s].PaperID);$.ajax({dataType:"json",url:$SCRIPT_ROOT+"/_vis_get_more_paperinfo",data:{paperid:JSON.stringify(d)},success:function(n){console.log(n);var a=n.papers,o='<h3 style="font-size: 100%">Top papers in this collection in '+t+":</h3>";o+="<ol>";for(var s=0,l=a.length;s<l;s++)e[s].citation=a[s].citation,o=o+"<li>"+e[s].citation+"</li>";return o+="</ol>",i.egoGraphVis.tooltip=i.egoGraphVis.tooltip.html(o),null!=r&&r(o),o}})}(n,r,3,function(e){t.content(e)})}})}),String.prototype.capitalize=function(){return this.toLowerCase().replace(/\b\w/g,function(t){return t.toUpperCase()})},r.prototype.init=function(){var t=this;t.tick=t.makeTick(),t.force=t.makeForce(),!0===t.zoomable&&(t.zoom=t.makeZoom()),t.animationState="init",t.getDomainsThisGraph(),t.svg=d3.select("#graphDiv").append("svg").attr("id","graphSvg").attr("width",t.graphDimensions.width).attr("height",t.graphDimensions.height),t.group=t.svg.append("g").attr("class","graphContainer"),t.link=t.group.append("svg:g").attr("class","links").selectAll(".link"),t.node=t.group.append("svg:g").attr("class","nodes").selectAll(".node"),t.tooltip=d3.select("body").append("div").attr("class","nodeTooltip").style("position","absolute").style("width",t.graphDimensions.width/4+"px").style("z-index","10").style("visibility","hidden"),t.data.nodes[0].fixed=!0,t.data.nodes[0].x=t.graphDimensions.width/2,t.data.nodes[0].y=t.graphDimensions.height/2,t.data.nodes[0].color=t.JSDColorScale(0),t.egoNode=t.data.nodes[0];var e=d3.max(t.data.nodes,function(t){return t.EF});t.eigenFactorScale=d3.scale.linear().domain([0,e]).range([0,1]),t.data.nodes.forEach(function(e){"paper"===e.nodeType?e.radius=4.5+10*t.eigenFactorScale(e.EF):e.radius=10}),t.force.nodes(t.data.nodes),t.node=t.node.data(t.data.nodes);var n=t.node.enter();(n=n.append("svg:circle").attr("class","node").classed("centerNode",function(e){return e.id===t.egoNode.id}).attr("r",function(t){return t.radius}).attr("T",0).attr("r",1e-9).each(function(e){e.DomainName=t.data.graph.Domains[e.DomainID],e.color=t.colorScheme[e.tfidf_kmeans_category]}).attr("fill",function(t){return t.color}).style("opacity",t.opacityVals.node)).call(t.force.drag),t.force.links(t.data.links),t.link=t.link.data(t.data.links);t.link.enter().append("svg:line").attr("class",function(t){return 0===t.target?"link hidden toEgo linkToEgo":"link hidden notToEgo linkNotToEgo"}).attr("T",0).style("opacity",function(e){var n=t.opacityVals;return e.linkToEgo?n.linkToEgo:n.linkNotToEgo});!function(){switch(t.nodePlacement){case t.nodePlacementOptions[0]:t.force.start();for(var e=0;e<1e5;++e)t.force.tick();t.force.stop(),n.each(function(t){t.fixed=!0});break;case t.nodePlacementOptions[1]:var i=t.egoNode.x,r=t.egoNode.y,a=20,o=t.data.nodes.length;n.each(function(t,e){if(0!=t.idx){t.fixed=!0;var n=.95*Math.pow(e,1)+a,o=e*(Math.PI/(8.5+.05*e));t.x=i+n*Math.cos(o),t.y=r+n*Math.sin(o)}}),t.force.start(),t.force.tick(),t.force.stop();break;case t.nodePlacementOptions[2]:function s(t,e,n){for(var i=Math.PI+Math.PI;;){var r=l(t,i)-e;if(Math.abs(r)<=n)return i;i-=r/(t*Math.sqrt(i*i+1))}}function l(t,e){var n=Math.sqrt(1+e*e);return.5*t*(e*n+Math.log(e+n))}var c=function(t,e){for(var n=5,i=0,r=[],a=0,o=t;a<o;a++){var l=s(e,i,5e-5);r.push(l),i+=n,a>10&&(n=10),a>50&&(n=15)}return r}(o=t.data.nodes.length,7);i=t.egoNode.x,r=t.egoNode.y,a=20,o=t.data.nodes.length,console.log(o),n.each(function(t,e){if(0!=t.idx){t.fixed=!0,Math.PI;var n=d3.scale.pow().exponent(.7).domain([1,o]).range([0,60]),s=(n=d3.scale.linear().domain([1,Math.pow(o,.3)]).range([0,60]),n=d3.scale.log().domain([100,o+100]).range([0,60]),Math.pow(e+1,.3),n(e+100));s=c[e],t.x=i+(a+7*s)*Math.cos(s),t.y=r+(a+7*s)*Math.sin(s)}}),t.force.start(),t.force.tick(),t.force.stop()}}(),t.legendInit(),t.addAuthorImage(),t.addEventListeners(),t.yearTextDisplay=t.svg.append("svg:text").attr("x",8*t.graphDimensions.width/9).attr("y",12*t.graphDimensions.height/13).attr("dy","-.3em").attr("font-size","10em").attr("text-anchor","end").style("pointer-events","none").style("opacity",1e-9).attr("id","egoGraphVis_yearIndicator").text(t.data.graph.yearRange[0]),t.revealEgoNode()},r.prototype.makeZoom=function(){var t=this;return d3.behavior.zoom().center([t.graphDimensions.width/2,t.graphDimensions.height/2]).scaleExtent([.2,10]).on("zoom",function(){t.group.attr("transform","translate("+d3.event.translate+")scale("+d3.event.scale+")")})},r.prototype.makeTick=function(){var t=this;function e(t){return t.source.x}function n(t){return t.source.y}function i(t){return t.target.x}function r(t){return t.target.y}function a(e){return!1===t.zoomable&&(e.x=Math.max(4.5,Math.min(t.graphDimensions.width-4.5,e.x)),e.y=Math.max(4.5,Math.min(t.graphDimensions.height-4.5,e.y))),"translate("+e.x+","+e.y+")"}return function(){t.link.attr("x1",e).attr("y1",n).attr("x2",i).attr("y2",r),t.node.attr("transform",a)}},r.prototype.makeForce=function(){return d3.layout.force().size([this.graphDimensions.width,this.graphDimensions.height]).linkDistance(225).on("tick",this.tick)},r.prototype.importDefaultOptions=function(t){this.colorScheme=t.colorScheme,this.graphDimensions=t.dimensions,this.transitionTimePerYear=t.transitionTimePerYear,console.log(t)},r.prototype.getDomainsThisGraph=function(){var t=this.colorScheme.length,e=this.data.graph.tfidf_kmeans_categories;this.domainsThisGraph=[];for(var n=0;n<t;n++)this.domainsThisGraph.push({}),this.domainsThisGraph[n].DomainID=n,this.domainsThisGraph[n].DomainName=e[n],this.domainsThisGraph[n].color=this.colorScheme[n];console.log(this.domainsThisGraph)},r.prototype.legendInit=function(){var t=this,e=["computer science, data mining, ...","sociology, social science, ...","medicine, health, ...","economics, business, ...","psychology, cognition, ...","political science, ...","biology, ecology, ...","climate change, ..."],n=t.graphDimensions.width/70,i=n/3,r=n+i;t.legend=t.svg.append("g").attr("class","legend").attr("transform","translate("+i+","+i+")");var a=n;t.legend.append("svg:text").attr("transform","translate(0, "+a+")").attr("class","egoGraphVisLegendHeader").text("Categories â“˜");var o=t.legend.selectAll("g").data(t.domainsThisGraph).enter().append("g").attr("class","legendItem").attr("id",function(t){return"legendDomain"+t.DomainID}).on("mouseover",function(t){d3.selectAll(".node").filter(function(e){return t.color==e.color}).classed("legendHover",!0)}).on("mouseout",function(t){d3.selectAll(".node").classed("legendHover",!1)}).attr("display",function(e,n){return n<t.colorScheme.length?"":"none"});o.append("svg:rect").attr("width",n).attr("height",n).attr("transform",function(t,e){return"translate(0,"+(a+i+r*e)+")"}).attr("fill",function(t){return t.color}),t.legendText=o.append("svg:text").attr("transform",function(t,e){return"translate("+r+","+(a+i+r*e)+")"}).attr("dy","1em").text(function(t,n){return"C"+n+" ("+e[n]+")"}).style("font-size",".9em")},r.prototype.addAuthorImage=function(){var t=this;if(t.egoNode.hasOwnProperty("name")&&(t.egoNode.AuthorName=t.egoNode.name),t.egoNode.hasOwnProperty("AuthorName")){t.authorImageDiv=t.svg.append("foreignObject").attr("class","externalObject").attr("x",0).attr("y",t.graphDimensions.height/2-50).attr("height","100%").attr("width",t.graphDimensions.height/5).append("xhtml:div").attr("id","authorImageDiv"),t.authorImageDiv.append("xhtml:p").html("<p>"+t.data.nodes[0].AuthorName.capitalize()+"</p>");var e=t.authorImageDiv.append("xhtml").attr("id","authorImageContainer"),n=t.data.nodes[0].organization;console.log(n),void 0!==n&&d3.tsv("static/healthra/orgs_with_links.tsv",function(e,r){if(e)throw e;console.log(r);for(var a=0,o=r.length;a<o;a++)if(r[a].org_name==n){var s=r[a].match_name;if(void 0!==s&&""!=s){var l=r[a].link,c=r[a].img_url;t.authorImageDiv.append("xhtml:p").html('<a href="'+l+'" target="_blank"><p style="margin: 0; padding: 0; font-size: .85em">'+s+"</p>");var d=i(c);d.style("cursor","pointer"),d.on("click",function(){console.log(l),window.open(l,"_blank")})}else t.authorImageDiv.append("xhtml:p").html('<p style="margin: 0; padding: 0; font-size: .85em">'+n+"</p>")}})}function i(t){return e.append("xhtml:img").attr("src",t).attr("id","authorImage").attr("width","85px")}var r=t.data.nodes[0].AuthorImgUrl||t.data.nodes[0].ImgURL;if(console.log(r),void 0===r){if(void 0!==(a=t.data.nodes[0].PewScholarID)){var a;!function t(e,n,r){var a=e+n[r];if(r>=n.length)return!1;$.get(a).done(function(){i(a)}).fail(function(){t(e,n,r+1)})}("static/img/pew_photos/"+(a=(a="000"+(a=a.toString())).substr(a.length-3)),[".png",".jpg",".jpeg",".JPG",".JPEG",".PNG"],0);var o=t.data.nodes[0].pew_Class;void 0!==o&&t.authorImageDiv.append("xhtml:p").html('<p style="margin: 0; padding: 0; font-size: .85em">Pew Scholar '+o+"</p>")}}else i(r)},r.prototype.addEventListeners=function(){var t=this;!0===t.zoomable&&t.group.call(t.zoom),d3.selectAll(".node").each(function(t){t.updatedProps=!1,t.tooltipHtml="<p>Loading...</p>"}),d3.selectAll(".node").on("mouseover",function(t){t.hovered=!0;d3.select(this)}).on("mousemove",function(t){}).on("mouseout",function(e){e.hovered=!1,t.tooltip=t.tooltip.style("visibility","hidden")}).on("click",function(t){if("paper"===t.nodeType){if(t.hasOwnProperty("doi")&&""!==t.doi)var e="https://doi.org/"+t.doi;else e="https://preview.academic.microsoft.com/paper/"+t.id;window.open(e,"_blank")}})},r.prototype.makeTooltip=function(t,e){if("author"===t.nodeType||""===t.nodeType||"venue"===t.nodeType){var n='<p class="authorName">Author: '+t.AuthorName+"</p>";t.pew_Class&&(n=n+'<p class="pewClass">Pew Class: '+t.pew_Class+"</p>");var i=t.papers.length;e(n=n+'<p class="numberOfPubs">Number of Publications: '+i+"</p>")}function r(t){var e=[];return t.forEach(function(t){var n=t[1].split(" "),i=(n=n.map(function(t){return t!=t.toUpperCase()?t.capitalize():t})).join(" ");e.push(i)}),e}function a(t,e){$.ajax({dataType:"json",url:$SCRIPT_ROOT+"/_vis_get_title",data:{paperid:t},success:function(t){e(t.title)}})}function o(){var e="";e+='<p class="paperTitle">',e+=t.Title,e=(e+="</p>")+'<p class="paperYear">'+t.Year+"</p>";var n=[];return t.authorList.forEach(function(t){n.push(t)}),e=e+'<p class="paperAuthor">Authors: '+n.join(", ")+"</p>"}if(t.hasOwnProperty("authors")){var s=r(t.authors);if(t.authorList=s,t.hasOwnProperty("Title")){n=o();e(n)}else a(t.id,function(n){t.Title=n;var i=o();e(i)})}else $.ajax({dataType:"json",url:$SCRIPT_ROOT+"/_vis_get_authorinfo",data:{authorids:JSON.stringify(t.AuthorIDList)},success:function(n){t.authors=n.authors;var i=r(t.authors);if(t.authorList=i,t.hasOwnProperty("Title")){var s=o();e(s)}else a(t.id,function(n){t.Title=n;var i=o();e(i)})}})},r.prototype.revealEgoNode=function(){var t=this;t.currNodeIndex=0,t.currYear=t.data.graph.yearRange[0],d3.selectAll(".node").filter(function(e){return e.id===t.egoNode.id}).classed("hidden",!1).classed("visible",!0).transition().duration(2e3).attr("r",function(t){return t.radius}).attr("T",1).each("start",function(){t.yearTextDisplay.transition().delay(1e3).duration(1e3).style("opacity",.15)}).each("end",function(){$.event.trigger({type:"yearChange"}),t.animateToDestinationNode()})},r.prototype.animateToDestinationNode=function(){this.currNodeIndex===this.destinationNodeIndex?(console.log("goto finish"),this.finishAnimation()):this.currNodeIndex<this.destinationNodeIndex?(this.animationState="forward",this.currNodeIndex++,this.checkYear()):this.currNodeIndex>this.destinationNodeIndex&&(this.animationState="rewind",this.currNodeIndex--,this.checkYear())},r.prototype.continue=function(){void 0===this.transitionTimePerNode&&this.calculateTransitionTime(),"forward"===this.animationState?this.drawNode():"rewind"===this.animationState&&this.removeNode()},r.prototype.checkYear=function(){var t=this;if(t.currNodeIndex==t.data.nodes.length-1)return t.currYear=t.data.graph.yearRange[1],t.yearTextDisplay.text(t.currYear),$.event.trigger({type:"yearChange"}),void t.continue();var e=t.data.nodes.filter(function(e){return e.idx===t.currNodeIndex}),n=t.currYear,i=e[0].Year;return i==n?t.continue():i>n?(t.c=0,t.tt=0,t.currYear++,t.beginNewYear()):i<n&&(t.currYear--,t.beginNewYear()),t.currYear},r.prototype.beginNewYear=function(){var t=this;t.yearTextDisplay.text(t.currYear),$.event.trigger({type:"yearChange"}),t.calculateTransitionTime(),0===t.notEgoNodes.filter(function(e){return e.Year==t.currYear}).length?setTimeout(function(){t.checkYear()},t.transitionTimePerYear[t.currYear]):t.continue()},r.prototype.drawNode=function(){var t=this;d3.selectAll(".node").filter(function(e){return e.idx===t.currNodeIndex}).classed("hidden",!1).classed("visible",!0).transition().ease("linear").duration(t.transitionTimePerNode).attr("r",function(t){return t.radius}).attr("T",1).each("end",function(e){var n;t.c++,!0===t.zoomable&&t.checkZoom(e),t.animateToDestinationNode(),(n=e).linksThisNodeIsSource=d3.selectAll(".link").filter(function(t){return t.source===n}),n.linksThisNodeIsSource.classed("hidden",!1).classed("visible",!0).each(function(t){t.inTransition=!0}).attr("x2",function(t){return t.source.x}).attr("y2",function(t){return t.source.y}).style("visibility","visible").transition().ease("linear").delay(0).duration(t.linkAppearDuration).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}).attr("T",1).each("end",function(t){t.inTransition=!1})})},r.prototype.removeNode=function(){var t=this;t.animationState="rewind";d3.selectAll(".node").filter(function(e){return e.index===t.currNodeIndex});var e=d3.selectAll(".link").filter(function(e){return e.source.index===t.currNodeIndex}),n=t.transitionTimePerNode;e.transition().each("start",function(t){t.inTransition=!0}).duration(n).ease("quad").attr("x2",function(t){return t.source.x}).attr("y2",function(t){return t.source.y}).call(function(e){e.inTransition=!1,d3.selectAll(".node").filter(function(e){return e.idx===t.currNodeIndex}).transition().duration(t.transitionTimePerNode).ease("quad").attr("r",0).attr("T",1).each("end",function(e){d3.select(this).classed("hidden",!0).classed("visible",!1),t.animateToDestinationNode()})})},r.prototype.finishAnimation=function(){this.animationState="stopped",$.event.trigger({type:"animationFinished"}),console.log("finished"),console.log(this.currNodeIndex)},r.prototype.newDestinationNode=function(t){this.destinationYear=t,console.log(this.destinationYear),this.getDestinationNode(),this.currNodeIndex!==this.destinationNodeIndex&&(this.currNodeIndex<this.destinationNodeIndex?(this.animationState="forward",this.drawNode()):(this.animationState="rewind",this.removeNode()))},r.prototype.getDestinationNode=function(){var t=this,e=t.data.graph.yearRange[1];function n(){return t.notEgoNodes.filter(function(e){return e.Year==t.destinationYear})}var i=n();if(i.length>0){var r=i[i.length-1];t.destinationNodeIndex=r.idx}else t.destinationYear==e?function e(){t.destinationYear--;var i=n();i.length>0?t.getDestinationNode():e()}():(t.destinationYear++,t.getDestinationNode())},r.prototype.calculateTransitionTime=function(){var t=this.data.graph.nodeCountsPerYear[this.currYear];this.transitionTimePerNode=t?this.transitionTimePerYear[this.currYear]/t:0,this.transitionTimePerNode=this.transitionTimePerNode-10},r.prototype.revealFinalState=function(){var t=this;d3.selectAll(".node, .link").transition().duration(0),t.node.classed("hidden",!1).attr("r",function(t){return t.radius}).each(function(e){!0===t.zoomable&&t.checkZoom(e)}),t.link.classed("hidden",!1).classed("visible",!0).style("visibility","visible").attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}).each(function(t){t.inTransition=!1}),t.currNodeIndex=t.data.nodes.length-1,t.currYear=t.data.graph.yearRange[1],t.yearTextDisplay.text(t.currYear),$.event.trigger({type:"yearChange"}),t.finishAnimation()},(i=i||{}).egoGraphData=function(t){return{prepare_egoGraphData:function(t){for(a=0;a<t.nodes.length;a++)t.nodes[a].oldIdx=a;var e={},n=["graph","directed","multigraph"];for(a=0;a<n.length;a++){var i=n[a];t.hasOwnProperty(i)&&(e[i]=t[i])}e.nodes=[],e.nodes.push(t.nodes[0]),e.nodes[0].idx=0;for(var r=[],a=1;a<t.nodes.length;a++)t.nodes[a].Year>0&&""!=t.nodes[a].Title&&r.push(t.nodes[a]);if(d3.shuffle(r),r.sort(function(t,e){return d3.descending(t.EF,e.EF)}),void 0===o)var o=274;for((r=function(t){for(var e=[],n=[],i=0,r=t.length;i<r;i++)0!=t[i].DomainID?e.push(t[i]):n.push(t[i]);console.log(t);var a=e.concat(n);return console.log(a),a}(r)).length>o&&(r=r.slice(0,o)),r.sort(function(t,e){return d3.ascending(t.Year,e.Year)||d3.descending(t.EF,e.EF)}),a=0;a<r.length;a++){var s=r[a];s.idx=e.nodes.length,e.nodes.push(s)}e.links=function(t,e){var n=[];for(a=0;a<e.length;a++){var i=t.filter(function(t){return t.id===e[a].source}),r=t.filter(function(t){return t.id===e[a].target});if(i.length>0&&r.length>0)if("paper"===r[0].nodeType&&i[0].Year<r[0].Year);else{var o=e[a];o.source=i[0].idx,o.target=r[0].idx,n.push(e[a])}}return n.forEach(function(t){"number"!=typeof t.target&&console.log(t)}),n}(e.nodes,t.links);var l=e.graph.yearRange;return e.graph.nodeCountsPerYear=function(t,e){for(var n=d3.nest().key(function(t){return t.Year}).sortKeys(d3.ascending).rollup(function(t){return t.length}).map(t.slice(1)),i={},r=e[0];r<=e[1];r++){var a=n[r];i[r]=void 0===a?0:a}return i}(e.nodes,l),e}}}(),(i=i||{}).eventListeners={};i=i||{};function a(t){return this.data=t.values,this.pew_Class=t.pew_Class,this.hra_funding=t.funding,this.lineChartDimensions,this.colorScheme,this.x,this.y,this.chartDiv,this.svg,this.svgDefs,this.title,this.clipPath,this.currYearIndicator,this.yearArea,this.yearAreaOpacity=.1,this.xAxis,this.yAxis,this.line,this.area,this.chartLine,this.chartArea,this.linearGradient,this.animationState,this.currYear,this.transitionTimePerYear,this.yearRange=d3.extent(this.data,function(t){return t.year}),this.yearRange[1]=Math.min(this.yearRange[1],2017),this.fundingTime,void 0!==this.pew_Class&&(this.fundingTime=4),void 0!==this.hra_funding&&(this.hra_funding=this.hra_funding[0],this.fundingTime=this.hra_funding.duration_in_years,this.pew_Class=this.hra_funding.start_date),this}$(document).on("initComplete",function(){var t=i.egoGraphVis,e=t.data.graph.DomainsMult;if(e&&function(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}("domainsMult")){var n=$("<div>");n.append($("<label>").text("Color by: ").css("display","inline"));n.append($("<select>").attr("id","domain_select"));$("#mainDiv").prepend(n),$.each(e,function(t,e){$("#domain_select").append($("<option>").text(t)),d3.select("#mainDiv").append("p").text(t).on("click",function(){r(t)})}),$("#domain_select").val("category_from_keyword"),$("#domain_select").on("change",function(){r($(this).val())})}function r(n){t.data.graph.Domains=e[n];for(var i=0,r=t.notEgoNodes.length;i<r;i++){var a=t.notEgoNodes[i];a.DomainID=a.DomainMult[n]}t.getDomainsThisGraph(),d3.selectAll(".legendItem").remove(),t.legendInit(),d3.selectAll(".node").each(function(e){e.DomainName=t.data.graph.Domains[e.DomainID];for(var n=0;n<t.domainsThisGraph.length;n++){if(t.domainsThisGraph[n].key==e.DomainID){var i=t.domainsThisGraph[n].color;e.color=i}}}).transition().duration(200).attr("fill","white").each("end",function(){d3.select(this).transition().duration(200).attr("fill",function(t){return t.color})}),d3.transition().duration(400).each("end",function(){t.revealFinalState()})}}),a.prototype.init=function(){var t=this;t.animationState="init",t.currYear=t.yearRange[0],t.x=d3.scale.linear().range([0,t.lineChartDimensions.width]),t.y=d3.scale.linear().range([t.lineChartDimensions.height,0]),t.chartDiv=d3.select("#chartsDiv").append("div").attr("class","chartDiv"),t.svg=t.chartDiv.append("svg").attr("width",t.lineChartDimensions.width+t.lineChartDimensions.margin.left+t.lineChartDimensions.margin.right).attr("height",t.lineChartDimensions.height+t.lineChartDimensions.margin.top+t.lineChartDimensions.margin.bottom).attr("class","lineChart").append("g").attr("transform","translate("+t.lineChartDimensions.margin.left+","+t.lineChartDimensions.margin.top+")"),t.svgDefs=t.svg.append("defs"),t.x.domain(t.yearRange),t.y.domain([0,d3.max(t.data,function(t){return t.count})]),t.xAxis=d3.svg.axis().scale(t.x).orient("bottom").tickFormat(d3.format("d")).ticks(Math.min(t.data.length,20)),t.yAxis=d3.svg.axis().scale(t.y).orient("left").ticks(2).tickSize(0),t.line=d3.svg.line().x(function(e){return t.x(e.year)}).y(function(e){return t.y(e.count)}),t.area=d3.svg.area().x(function(e){return t.x(e.year)}).y0(t.lineChartDimensions.height).y1(function(e){return t.y(e.count)}),t.svg.append("g").attr("class","x axis").attr("transform","translate(0,"+t.lineChartDimensions.height+")").call(t.xAxis);t.svg.select(".x.axis").selectAll(".tick").attr("class","yearTick").attr("data-year",function(t){return t}).style("font-size",".75em"),t.svg.selectAll(".yearTick").append("svg:rect").attr("fill",t.colorScheme[4]).style("opacity",0).attr("class","highlightRect").each(function(t){var e=this.parentNode.getBBox(),n=e.width/4;d3.select(this).attr("x",e.x-n).attr("y",e.y).attr("width",e.width+2*n).attr("height",e.height)});t.svg.append("g").attr("class","y axis").call(t.yAxis).append("text").attr("transform","rotate(-90)").attr("y",-t.lineChartDimensions.margin.left/2-6).attr("x",-(t.lineChartDimensions.height+t.lineChartDimensions.margin.top+t.lineChartDimensions.margin.bottom)/2).attr("class","axisLabel").text("Num citations").attr("font-size",".5em"),t.linearGradient=d3.select("#line-gradient"),t.chartArea=t.svg.append("g").append("path").datum(t.data).attr("class","area").style("fill","url(#line-gradient)").attr("d",t.area),t.chartLine=t.svg.append("g").append("path").datum(t.data).attr("class","line").style("stroke","black").attr("d",t.line),t.currYearIndicator=t.svg.append("svg:line").attr("class","verticalLine yearIndicator hidden").attr("T",0).attr("x1",t.x(t.currYear)).attr("x2",t.x(t.currYear)).attr("y1",t.lineChartDimensions.height).attr("y2",0).attr("stroke-width",2).attr("stroke","black").attr("stroke-dasharray","5, 2").style("opacity",.25),t.yearArea=t.svg.selectAll(".yearArea").data(t.data).enter().append("svg:rect").attr("class","yearArea hidden").attr("data-year",function(t){return t.year}).attr("x",function(e){return t.x(e.year)}).attr("y",0).attr("width",function(e){return t.x(e.year+1)-t.x(e.year)}).attr("height",t.lineChartDimensions.height).attr("fill",t.colorScheme[4]).style("opacity",0),void 0!==t.pew_Class&&t.makeFundingLines(t.pew_Class)},a.prototype.importDefaultOptions=function(t){this.colorScheme=t.colorScheme,this.lineChartDimensions=t.dimensions.lineChart,this.transitionTimePerYear=t.transitionTimePerYear},a.prototype.makeColorGradient=function(t){console.log(t);var e=this.x(this.yearRange[1]);return this.svg.append("linearGradient").attr("id","line-gradient").attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("y1",this.x(this.yearRange[0])).attr("x2",e).attr("y2",0).selectAll("stop").data([{offset:this.x(this.yearRange[0])/e,color:d3.rgb(this.colorScheme[7]).darker()},{offset:this.x(t-1)/e,color:d3.rgb(this.colorScheme[7]).darker()},{offset:this.x(t+1)/e,color:this.colorScheme[2]},{offset:this.x(t+this.fundingTime-1)/e,color:this.colorScheme[2]},{offset:this.x(t+this.fundingTime+1)/e,color:this.colorScheme[0]},{offset:1,color:this.colorScheme[0]}]).enter().append("stop").attr("offset",function(t){return t.offset}).attr("stop-color",function(t){return t.color})},a.prototype.makeFundingLines=function(t){this.svg.append("svg:line").attr("class","verticalLineStatic verticalLineFundingBegin").attr("x1",this.x(t)).attr("x2",this.x(t)).attr("y1",this.lineChartDimensions.height).attr("y2",0).attr("stroke-width",2).attr("stroke",this.colorScheme[2]).style("stroke-dasharray","5, 2").style("opacity",.8),this.svg.append("svg:line").attr("class","verticalLineStatic verticalLineFundingEnd").attr("x1",this.x(t+this.fundingTime)).attr("x2",this.x(t+this.fundingTime)).attr("y1",this.lineChartDimensions.height).attr("y2",0).attr("stroke-width",2).attr("stroke",this.colorScheme[0]).style("stroke-dasharray","5, 2").style("opacity",.8)},a.prototype.changeAnimationState=function(t){var e=this;e.animationState=t,console.log(e.animationState),"forward"===e.animationState&&(e.currYearIndicator.attr("T"),e.currYearIndicator.attr("data-state","forward").classed("hidden",!1).transition().duration(e.transitionTimePerYear[e.currYear]).ease("linear").attr("x1",e.x(e.currYear)).attr("x2",e.x(e.currYear)).attr("data-state","stopped").attr("T",1).each("end",function(){d3.select(this).attr("T",0),e.currYear++}))},a.prototype.correctYear=function(t){t!=this.currYear&&(this.currYear=t,this.currYearIndicator.attr("x1",this.x(this.currYear)).attr("x2",this.x(this.currYear)),this.changeAnimationState())},a.prototype.moveYearIndicator=function(t){var e=this;e.currYear=t,e.currYearIndicator.attr("T",0).transition().duration(e.transitionTimePerYear[e.currYear]).ease("linear").attr("x1",e.x(e.currYear)).attr("x2",e.x(e.currYear)).attr("T",1).each("end",function(){d3.select(this).attr("T",0)}),e.svg.selectAll(".yearTick").selectAll(".currYear").classed(".currYear",!1).transition().duration(e.transitionTimePerYear[e.currYear]/4).style("opacity",0),e.svg.selectAll(".yearArea.currYear").classed("currYear",!1).transition().duration(e.transitionTimePerYear[e.currYear]/4).style("opacity",function(t){return t.year<e.currYear?e.yearAreaOpacity/2:0}),e.yearArea.filter(function(t){return t.year==e.currYear}).classed("currYear",!0).classed("hidden",!1).style("opacity",2*e.yearAreaOpacity).transition().duration(e.transitionTimePerYear[e.currYear]/2).style("opacity",e.yearAreaOpacity),e.yearArea.filter(function(t){return t.year<e.currYear}).classed("hidden",!1).style("opacity",e.yearAreaOpacity/2),e.yearArea.filter(function(t){return t.year>e.currYear}).style("opacity",0),console.log(e.currYear)},a.prototype.addTitle=function(t){this.title=this.svg.append("text").attr("class","lineChartTitle").attr("x",this.lineChartDimensions.width/2).attr("y",0-this.lineChartDimensions.margin.top/2).attr("text-anchor","middle").text(t)},(i=i||{}).summaryStatistics=function(){return{addSummaryStatistics:function(t){function e(t){var e=[];return t.forEach(function(t){if(void 0!==t.linkToEgo&&!0===t.linkToEgo){var n=+t.sourceYear,i=+t.targetYear;n>0&&i>0&&n>=i&&e.push(t)}}),e}var n,i,r,a;return t.graph.yearRange=(n=t.links,i=e(n),r=d3.min(i,function(t){return t.targetYear>0?t.targetYear:null}),a=(new Date).getFullYear(),[r,d3.max(i,function(t){return t.sourceYear<=a?t.sourceYear:null})]),t.graph.citationCountsPerYear=function(t){var n=function(t){for(var e=[],n=t[0];n<=t[1];n++)e.push({year:n,count:0});return e}(t.graph.yearRange);return e(t.links).forEach(function(t,e){var i=t.sourceYear;n.filter(function(t){return t.year===i})[0].count++}),n}(t),t}}}(),(i=i||{}).getTransitionTimePerYear=function(t,e){console.log(t);for(var n={},i=(e=void 0!==e?e:4e3,d3.scale.threshold().domain([1,3,10,20,30]).range([300,.2*e,.5*e,.7*e,.85*e,e])),r=t.graph.yearRange,a=r[0];a<=r[1];a++)n[a]=i(t.graph.nodeCountsPerYear[a]);return n},i.yearTickClickEventListener=function(){d3.selectAll(".yearTick").on("click",function(t){var e=this.getAttribute("data-year");d3.selectAll(".node, .link").transition().duration(0),i.egoGraphVis.newDestinationNode(e)})},n.d(e,"citationVis",function(){return i}),n.d(e,"egoGraphVis",function(){return r}),n.d(e,"lineChartByYear",function(){return a})}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uYXV0aWx1c192aXMvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL25hdXRpbHVzX3Zpcy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9uYXV0aWx1c192aXMvLi9zcmMvY29uY2F0LmpzIiwid2VicGFjazovL25hdXRpbHVzX3Zpcy8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJzZWxmIiwidGhpcyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJjaXRhdGlvblZpcyIsIiQiLCJkb2N1bWVudCIsIm9uIiwiZWdvR3JhcGhWaXMiLCJ6b29tYWJsZSIsInpvb20iLCJ6b29tVHJhbnNsYXRlIiwidHJhbnNsYXRlIiwiY2hlY2tab29tIiwiem9vbVRocmVzaG9sZE1pbiIsImNvb3JkaW5hdGVzIiwiem9vbVRocmVzaG9sZE1heCIsImdyYXBoRGltZW5zaW9ucyIsIndpZHRoIiwiaGVpZ2h0IiwieSIsImNvbnNvbGUiLCJsb2ciLCJzY2FsZSIsIngiLCJncm91cCIsImV2ZW50IiwiY2VudGVyMCIsImNlbnRlciIsInRyYW5zbGF0ZTAiLCJjb29yZGluYXRlczAiLCJjZW50ZXIxIiwicG9pbnQiLCJ0cmFuc2l0aW9uIiwiZHVyYXRpb24iLCJ0ZXN0cmVjb3JkIiwiZm9jdXNfaWQiLCJkYXRhIiwicGFyc2VJbnQiLCJ1cmwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJyZXBsYWNlIiwicmVzdWx0cyIsIlJlZ0V4cCIsImV4ZWMiLCJkZWNvZGVVUklDb21wb25lbnQiLCJnZXRQYXJhbWV0ZXJCeU5hbWUiLCJjbGljayIsIkZsYXNrIiwidXJsX2ZvciIsIm9wZW4iLCJldiIsIm9yaWdpbmFsRXZlbnQiLCJtZXNzYWdlIiwiSlNPTiIsInBhcnNlIiwibmV3VmFsdWUiLCJjb21tYW5kIiwicGFwZXJfaWQiLCJwaWQiLCJoaWdobGlnaHRlZE5vZGVzIiwiZDMiLCJzZWxlY3RBbGwiLCJmaWx0ZXIiLCJ0YXJnZXRQYXBlcklEcyIsImluZGV4T2YiLCJwdXNoIiwiY2xhc3NlZCIsInNvdXJjZSIsImRlZmF1bHRfb3B0aW9ucyIsImRpbWVuc2lvbnMiLCJtYXJnaW4iLCJ0b3AiLCJyaWdodCIsImJvdHRvbSIsImxlZnQiLCJsaW5lQ2hhcnQiLCJjb2xvclNjaGVtZSIsInNwbGljZSIsImRlZmF1bHRzIiwibGluZUNoYXJ0RGF0YSIsImdldFBld0NsYXNzWWVhciIsImdyYXBoIiwibm9kZXMiLCJwZXdfQ2xhc3MiLCJnZXRGdW5kaW5nIiwiZnVuZGluZyIsImNsZWFuTGlua3MiLCJsaW5rcyIsImNsZWFuZWRMaW5rcyIsImZvckVhY2giLCJsaW5rVG9FZ28iLCJzb3VyY2VZZWFyIiwidGFyZ2V0WWVhciIsImdldFllYXJSYW5nZSIsIm1pblllYXIiLCJtaW4iLCJ0b2RheVllYXIiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJtYXhZZWFyIiwibWF4IiwiTWF0aCIsImdldEVtcHR5Q291bnREYXRhIiwieWVhclJhbmdlIiwiZW1wdHlDb3VudERhdGEiLCJ5ZWFyIiwiY291bnQiLCJwcmVwYXJlRGF0YV9hbGxDaXRhdGlvbnMiLCJ2YWx1ZXMiLCJ0aGlzU291cmNlWWVhciIsImRkIiwicHJlcGFyZURhdGFfZWdvQXV0aG9yUHVibGljYXRpb25zIiwiZWdvUGFwZXJzIiwicGFwZXJzIiwiWWVhciIsInByZXBhcmVEYXRhX2F1dGhvckVpZ2VuZmFjdG9yU3VtIiwiZGF0YVRoaXNZZWFyIiwiRUYiLCJTdHJpbmciLCJjYXBpdGFsaXplIiwidG9Mb3dlckNhc2UiLCJ0b1VwcGVyQ2FzZSIsIm5vdEVnb05vZGVzIiwic2xpY2UiLCJub2RlUGxhY2VtZW50T3B0aW9ucyIsIm5vZGVQbGFjZW1lbnQiLCJzdmciLCJub2RlIiwibGluayIsImVnb05vZGUiLCJlaWdlbkZhY3RvclNjYWxlIiwiZG9tYWluc1RoaXNHcmFwaCIsImxlZ2VuZCIsInllYXJUZXh0RGlzcGxheSIsImF1dGhvckltYWdlRGl2IiwidG9vbHRpcCIsInRpcCIsInRpY2siLCJmb3JjZSIsIkpTRENvbG9yU2NhbGUiLCJsaW5lYXIiLCJkb21haW4iLCJleHRlbnQiLCJqc19kaXYiLCJyYW5nZSIsIkNsdXN0ZXJEaXN0YW5jZUNvbG9yU2NhbGUiLCJhdmVyYWdlX2NsdXN0ZXJfZGlzdGFuY2VfdG9fY2VudGVyIiwib3BhY2l0eVZhbHMiLCJub2RlUHJldlllYXIiLCJsaW5rTm90VG9FZ28iLCJsaW5rUHJldlllYXIiLCJkb0Fubm90YXRpb25zIiwiYW5pbWF0aW9uU3RhdGUiLCJ0cmFuc2l0aW9uVGltZVBlclllYXIiLCJ0cmFuc2l0aW9uVGltZVBlck5vZGUiLCJsaW5rQXBwZWFyRHVyYXRpb24iLCJjdXJyTm9kZUluZGV4IiwiZGVzdGluYXRpb25Ob2RlSW5kZXgiLCJkZXN0aW5hdGlvblllYXIiLCJjdXJyWWVhciIsImxlbmd0aCIsInR0Iiwid2luZG93V2lkdGgiLCJhZGRDbGFzcyIsImFqYXhQYXBlckluZm8iLCJjYWxsYmFjayIsImh0bWwiLCJzZWxlY3QiLCJlYWNoIiwibm9kZVR5cGUiLCJ1cGRhdGVkUHJvcHMiLCJpZHgiLCJ0b29sdGlwSHRtbCIsIm51bWJlck9mUHVicyIsImNpdGF0aW9uIiwibWFrZU5vZGVUb29sdGlwSHRtbCIsImJ5cGFzc0FqYXgiLCJhamF4IiwiZGF0YVR5cGUiLCIkU0NSSVBUX1JPT1QiLCJwYXBlcmlkIiwiaWQiLCJzdWNjZXNzIiwicmVzdWx0IiwiVGl0bGUiLCJkb2kiLCJhdXRob3Jfc3RyIiwidmVudWUiLCJzcGFuIiwiYXBwZW5kIiwidGV4dCIsIkZpZWxkX29mX3N0dWR5X25hbWVzIiwidG9vbHRpcHN0ZXIiLCJ0aGVtZSIsIm1heFdpZHRoIiwiYW5pbWF0aW9uIiwiYW5pbWF0aW9uZHVyYXRpb24iLCJkZWxheSIsInVwZGF0ZUFuaW1hdGlvbiIsImNvbnRlbnQiLCJjb250ZW50QXNIVE1MIiwiZnVuY3Rpb25CZWZvcmUiLCJpbnN0YW5jZSIsImhlbHBlciIsIm9yaWdpbiIsIm5vZGVUb29sdGlwcyIsImxlZ2VuZEl0ZW0iLCJEb21haW5JRCIsImxlbiIsIkRvbWFpbk5hbWUiLCJsZWdlbmRUb29sdGlwcyIsImNzcyIsImZ1bmN0aW9uSW5pdCIsInRoaXNZZWFyUGFwZXJzIiwic29ydCIsImEiLCJiIiwiZGVzY2VuZGluZyIsIm51bURpc3BsYXkiLCJudW1QYXBlcnNBZGRlZCIsInBhcGVyIiwicGlkcyIsIlBhcGVySUQiLCJzdHJpbmdpZnkiLCJkYl9wYXBlcnMiLCJtYWtlSHRtbCIsImluaXQiLCJtYWtlVGljayIsIm1ha2VGb3JjZSIsIm1ha2Vab29tIiwiZ2V0RG9tYWluc1RoaXNHcmFwaCIsImF0dHIiLCJzdHlsZSIsImZpeGVkIiwiY29sb3IiLCJlaWdlbkZhY3Rvck1heCIsInJhZGl1cyIsIm5ld05vZGUiLCJlbnRlciIsIkRvbWFpbnMiLCJ0ZmlkZl9rbWVhbnNfY2F0ZWdvcnkiLCJkcmFnIiwidGFyZ2V0Iiwib3BWYWxzIiwic3RhcnQiLCJzdG9wIiwiY3giLCJjeSIsImluaXRpYWxSYWQiLCJudW1Ob2RlcyIsInRoaXNSYWQiLCJwb3ciLCJ0aGlzU3BhY2luZyIsIlBJIiwiY29zIiwic2luIiwiY29tcHV0ZUFuZ2xlIiwiYWxwaGEiLCJhcmNMZW5ndGgiLCJlcHNpbG9uIiwiYW5nbGVSYWQiLCJjb21wdXRlQXJjTGVuZ3RoIiwiYWJzIiwic3FydCIsInUiLCJhbmdsZXMiLCJwb2ludEFyY0Rpc3RhbmNlIiwidG90YWxBcmNMZW5ndGgiLCJnZXRBbmdsZXMiLCJwb3dTY2FsZSIsImV4cG9uZW50IiwidGhpc1BvcyIsInBsYWNlTm9kZXMiLCJsZWdlbmRJbml0IiwiYWRkQXV0aG9ySW1hZ2UiLCJhZGRFdmVudExpc3RlbmVycyIsInJldmVhbEVnb05vZGUiLCJiZWhhdmlvciIsInNjYWxlRXh0ZW50IiwieDEiLCJ5MSIsIngyIiwieTIiLCJ0cmFuc2Zvcm0iLCJsYXlvdXQiLCJzaXplIiwibGlua0Rpc3RhbmNlIiwiaW1wb3J0RGVmYXVsdE9wdGlvbnMiLCJvcHRpb25zIiwibWF4RG9tYWlucyIsImRvbWFpbnMiLCJ0ZmlkZl9rbWVhbnNfY2F0ZWdvcmllcyIsIm1pc2luZm9MZWdlbmRJdGVtc1RleHQiLCJzcXVhcmVTaXplIiwicGFkZGluZyIsInNxclBsdXNQYWRkaW5nIiwibGVnZW5kSGVhZGVyU2l6ZSIsImxlZ2VuZFRleHQiLCJBdXRob3JOYW1lIiwiYXV0aG9ySW1hZ2VDb250YWluZXIiLCJhdXRob3JPcmciLCJvcmdhbml6YXRpb24iLCJ0c3YiLCJlcnJvciIsIm9yZ19kYXRhIiwibmFtZUZyb21UU1YiLCJvcmdMaW5rIiwib3JnSW1nVXJsIiwiYXV0aG9ySW1hZ2UiLCJhZGRJbWFnZSIsImF1dGhvckltYWdlU3JjIiwiQXV0aG9ySW1nVXJsIiwiSW1nVVJMIiwicGV3aWRfc3RyIiwiUGV3U2Nob2xhcklEIiwidHJ5SW1hZ2VGaWxlbmFtZXMiLCJmbmFtZV9yb290IiwicG9zc2libGVFeHRlbnNpb25zIiwiaXRlciIsImF1dGhvckltYWdlRmlsZW5hbWUiLCJkb25lIiwiZmFpbCIsInRvU3RyaW5nIiwic3Vic3RyIiwicGV3Q2xhc3MiLCJob3ZlcmVkIiwibWFrZVRvb2x0aXAiLCJnZXRBdXRob3JMaXN0IiwiYXV0aG9ycyIsImF1dGhvckxpc3QiLCJ0aGlzQXV0aG9yU3RyTGlzdCIsInNwbGl0IiwidGhpc0F1dGhvciIsIm1hcCIsImpvaW4iLCJnZXRUaXRsZSIsImF1dGhvclN0ckxpc3QiLCJ0aXRsZSIsImF1dGhvcmlkcyIsIkF1dGhvcklETGlzdCIsInRyaWdnZXIiLCJ0eXBlIiwiYW5pbWF0ZVRvRGVzdGluYXRpb25Ob2RlIiwiZmluaXNoQW5pbWF0aW9uIiwiY2hlY2tZZWFyIiwiY29udGludWUiLCJjYWxjdWxhdGVUcmFuc2l0aW9uVGltZSIsImRyYXdOb2RlIiwicmVtb3ZlTm9kZSIsImN1cnJOb2RlIiwib2xkWWVhciIsIm5ld1llYXIiLCJiZWdpbk5ld1llYXIiLCJzZXRUaW1lb3V0IiwiZWFzZSIsIm5vZGVPYmoiLCJsaW5rc1RoaXNOb2RlSXNTb3VyY2UiLCJpblRyYW5zaXRpb24iLCJpbmRleCIsImN1cnJMaW5rcyIsInJldHJhY3REdXJhdGlvbiIsIm5ld0Rlc3RpbmF0aW9uTm9kZSIsImdldERlc3RpbmF0aW9uTm9kZSIsImdldE5vZGVzVGhpc1llYXIiLCJub2Rlc1RoaXNZZWFyIiwibGFzdE5vZGVUaGlzWWVhciIsInJld2luZFNlYXJjaCIsImNvdW50VGhpc1llYXIiLCJub2RlQ291bnRzUGVyWWVhciIsInJldmVhbEZpbmFsU3RhdGUiLCJlZ29HcmFwaERhdGEiLCJtYXhOb2RlcyIsInByZXBhcmVfZWdvR3JhcGhEYXRhIiwib2xkSWR4IiwibmV3R3JhcGgiLCJwcm9wc1RvQ29weSIsInByb3AiLCJzaHVmZmxlIiwiYXJyIiwiaGFzRG9tYWluSUQiLCJub0RvbWFpbklEIiwibmV3QXJyIiwiY29uY2F0IiwiRG9tYWluSURUb0Zyb250IiwiYXNjZW5kaW5nIiwibmV3TGlua3MiLCJ0aGlzU291cmNlIiwidGhpc1RhcmdldCIsIm5ld0xpbmsiLCJyZWNhbGN1bGF0ZUxpbmtzIiwieWVhcnNOZXN0IiwibmVzdCIsInNvcnRLZXlzIiwicm9sbHVwIiwibGVhdmVzIiwiZ2V0Tm9kZUNvdW50c1BlclllYXIiLCJldmVudExpc3RlbmVycyIsImxpbmVDaGFydEJ5WWVhciIsImhyYV9mdW5kaW5nIiwibGluZUNoYXJ0RGltZW5zaW9ucyIsImNoYXJ0RGl2Iiwic3ZnRGVmcyIsImNsaXBQYXRoIiwiY3VyclllYXJJbmRpY2F0b3IiLCJ5ZWFyQXJlYSIsInllYXJBcmVhT3BhY2l0eSIsInhBeGlzIiwieUF4aXMiLCJsaW5lIiwiYXJlYSIsImNoYXJ0TGluZSIsImNoYXJ0QXJlYSIsImxpbmVhckdyYWRpZW50IiwiZnVuZGluZ1RpbWUiLCJkdXJhdGlvbl9pbl95ZWFycyIsInN0YXJ0X2RhdGUiLCJkb21haW5zTXVsdCIsIkRvbWFpbnNNdWx0IiwiJGRvbWFpbkRyb3Bkb3duIiwicHJlcGVuZCIsImsiLCJ2Iiwic3dpdGNoRG9tYWluIiwidmFsIiwiZG9tYWluVHlwZSIsInRoaXNOb2RlIiwiRG9tYWluTXVsdCIsInJlbW92ZSIsInRoaXNDb2xvciIsImR1ciIsImF4aXMiLCJvcmllbnQiLCJ0aWNrRm9ybWF0IiwiZm9ybWF0IiwidGlja3MiLCJ0aWNrU2l6ZSIsInkwIiwiYmJveCIsInBhcmVudE5vZGUiLCJnZXRCQm94IiwiZGF0dW0iLCJtYWtlRnVuZGluZ0xpbmVzIiwibWFrZUNvbG9yR3JhZGllbnQiLCJmdW5kaW5nWWVhciIsIm1heFgiLCJvZmZzZXQiLCJyZ2IiLCJkYXJrZXIiLCJjaGFuZ2VBbmltYXRpb25TdGF0ZSIsImNvcnJlY3RZZWFyIiwibW92ZVllYXJJbmRpY2F0b3IiLCJhZGRUaXRsZSIsInN1bW1hcnlTdGF0aXN0aWNzIiwiYWRkU3VtbWFyeVN0YXRpc3RpY3MiLCJjaXRhdGlvbkNvdW50c1BlclllYXIiLCJnZXRDaXRhdGlvbkNvdW50c1BlclllYXIiLCJnZXRUcmFuc2l0aW9uVGltZVBlclllYXIiLCJsb25nZXN0WWVhclRyYW5zaXRpb25UaW1lIiwidGhyZXNob2xkU2NhbGUiLCJ0aHJlc2hvbGQiLCJ5ZWFyVGlja0NsaWNrRXZlbnRMaXN0ZW5lciIsImdldEF0dHJpYnV0ZSIsIl9fd2VicGFja19leHBvcnRzX18iXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEVBQUFD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IiwiZmlsZSI6Im5hdXRpbHVzX3Zpcy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcIm5hdXRpbHVzX3Zpc1wiLCBbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJuYXV0aWx1c192aXNcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wibmF1dGlsdXNfdmlzXCJdID0gZmFjdG9yeSgpO1xufSkodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsInZhciBjaXRhdGlvblZpcyA9IGNpdGF0aW9uVmlzIHx8IHt9O1xuXG4kKCBkb2N1bWVudCApLm9uKCBcImluaXRDb21wbGV0ZVwiLCBmdW5jdGlvbigpIHtcblx0dmFyIGVnb0dyYXBoVmlzID0gY2l0YXRpb25WaXMuZWdvR3JhcGhWaXM7XG5cdGlmIChlZ29HcmFwaFZpcy56b29tYWJsZSA9PSBmYWxzZSkge1xuXHRcdHJldHVybjtcblx0fVxuXHR2YXIgem9vbSA9IGVnb0dyYXBoVmlzLnpvb207XG5cdGVnb0dyYXBoVmlzLnpvb21UcmFuc2xhdGUgPSB6b29tLnRyYW5zbGF0ZSgpO1xuXG5cdGVnb0dyYXBoVmlzLmNoZWNrWm9vbSA9IGZ1bmN0aW9uKGQpIHtcblx0XHR2YXIgem9vbVRocmVzaG9sZE1pbiA9IGNvb3JkaW5hdGVzKFswLCAwXSlbMV07ICAvLyBtaW5pbXVtIHkgdmFsdWVcblx0XHR2YXIgem9vbVRocmVzaG9sZE1heCA9IGNvb3JkaW5hdGVzKFtlZ29HcmFwaFZpcy5ncmFwaERpbWVuc2lvbnMud2lkdGgsIGVnb0dyYXBoVmlzLmdyYXBoRGltZW5zaW9ucy5oZWlnaHRdKVsxXTsgIC8vIG1heGltdW0geSB2YWx1ZVxuXHRcdGlmIChkLnkgPCB6b29tVGhyZXNob2xkTWluIHx8IGQueSA+IHpvb21UaHJlc2hvbGRNYXgpIHtcblx0XHRcdGNvbnNvbGUubG9nKHpvb20udHJhbnNsYXRlKCkpO1xuXHRcdFx0Y29uc29sZS5sb2coem9vbS5zY2FsZSgpKTtcblx0XHRcdGNvbnNvbGUubG9nKGNvb3JkaW5hdGVzKFtkLngsIGQueV0pKTtcblx0Y29uc29sZS5sb2coY29vcmRpbmF0ZXMoW2Vnb0dyYXBoVmlzLmdyYXBoRGltZW5zaW9ucy53aWR0aCwgZWdvR3JhcGhWaXMuZ3JhcGhEaW1lbnNpb25zLmhlaWdodF0pKTtcblx0Y29uc29sZS5sb2coY29vcmRpbmF0ZXMoWzAsMF0pKTtcblx0XHRcdC8vIGh0dHA6Ly9ibC5vY2tzLm9yZy9tYm9zdG9jay83ZWM5NzdjOTU5MTBkZDAyNjgxMlxuXHRcdFx0ZWdvR3JhcGhWaXMuZ3JvdXAuY2FsbCh6b29tLmV2ZW50KTtcblxuXHRcdFx0Ly8gUmVjb3JkIHRoZSBjb29yZGluYXRlcyAoaW4gZGF0YSBzcGFjZSkgb2YgdGhlIGNlbnRlciAoaW4gc2NyZWVuIHNwYWNlKS5cblx0XHRcdHZhciBjZW50ZXIwID0gem9vbS5jZW50ZXIoKTtcblx0XHRcdHZhciB0cmFuc2xhdGUwID0gem9vbS50cmFuc2xhdGUoKTtcblx0XHRcdHZhciBjb29yZGluYXRlczAgPSBjb29yZGluYXRlcyhjZW50ZXIwKTtcblx0XHRcdHpvb20uc2NhbGUoem9vbS5zY2FsZSgpICogLjkpO1xuXG5cdFx0XHQvLyBUcmFuc2xhdGUgYmFjayB0byB0aGUgY2VudGVyLlxuXHRcdFx0dmFyIGNlbnRlcjEgPSBwb2ludChjb29yZGluYXRlczApO1xuXHRcdFx0em9vbS50cmFuc2xhdGUoW3RyYW5zbGF0ZTBbMF0gKyBjZW50ZXIwWzBdIC0gY2VudGVyMVswXSwgdHJhbnNsYXRlMFsxXSArIGNlbnRlcjBbMV0gLSBjZW50ZXIxWzFdXSk7XG5cblx0XHRcdGVnb0dyYXBoVmlzLmdyb3VwLnRyYW5zaXRpb24oKS5kdXJhdGlvbig1MDApLmNhbGwoem9vbS5ldmVudCk7XG5cdFx0XHQvLyBlZ29HcmFwaFZpcy5ncm91cC5jYWxsKHpvb20uZXZlbnQpO1xuXHRcdH1cblx0fTtcblxuXHRmdW5jdGlvbiBjb29yZGluYXRlcyhwb2ludCkge1xuXHRcdHZhciBzY2FsZSA9IHpvb20uc2NhbGUoKTtcblx0XHR2YXIgdHJhbnNsYXRlID0gem9vbS50cmFuc2xhdGUoKTtcblx0XHRyZXR1cm4gWyhwb2ludFswXSAtIHRyYW5zbGF0ZVswXSkgLyBzY2FsZSwgKHBvaW50WzFdIC0gdHJhbnNsYXRlWzFdKSAvIHNjYWxlXTtcblx0fVxuXG5cdGZ1bmN0aW9uIHBvaW50KGNvb3JkaW5hdGVzKSB7XG5cdFx0dmFyIHNjYWxlID0gem9vbS5zY2FsZSgpO1xuXHRcdHZhciB0cmFuc2xhdGUgPSB6b29tLnRyYW5zbGF0ZSgpO1xuXHRcdHJldHVybiBbY29vcmRpbmF0ZXNbMF0gKiBzY2FsZSArIHRyYW5zbGF0ZVswXSwgY29vcmRpbmF0ZXNbMV0gKiBzY2FsZSArIHRyYW5zbGF0ZVsxXV07XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0cmVjb3JkKCkge1xuXHRcdHZhciB0ID0gWzMwMCwgNTAxXTtcblx0XHRjb25zb2xlLmxvZygnY29vcmRpbmF0ZXMnKTtcblx0XHRjb25zb2xlLmxvZyh0KTtcblx0XHRjb25zb2xlLmxvZyhjb29yZGluYXRlcyh0KSk7XG5cdGNvbnNvbGUubG9nKGNvb3JkaW5hdGVzKFtlZ29HcmFwaFZpcy5ncmFwaERpbWVuc2lvbnMud2lkdGgsIGVnb0dyYXBoVmlzLmdyYXBoRGltZW5zaW9ucy5oZWlnaHRdKSk7XG5cdH1cblxuXHQkKCBkb2N1bWVudCApLm9uKCBcImFuaW1hdGlvbkZpbmlzaGVkXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHRlc3RyZWNvcmQoKTtcblx0XHRjb25zb2xlLmxvZyh6b29tLnRyYW5zbGF0ZSgpKTtcblx0XHRjb25zb2xlLmxvZyh6b29tLnNjYWxlKCkpO1xuXHR9KTtcblx0dGVzdHJlY29yZCgpO1xuXHRcdFx0Ly8gLy8gUmVjb3JkIHRoZSBjb29yZGluYXRlcyAoaW4gZGF0YSBzcGFjZSkgb2YgdGhlIGNlbnRlciAoaW4gc2NyZWVuIHNwYWNlKS5cblx0XHRcdC8vIHZhciBjZW50ZXIwID0gem9vbS5jZW50ZXIoKTtcblx0XHRcdC8vIHZhciB0cmFuc2xhdGUwID0gem9vbS50cmFuc2xhdGUoKTtcblx0XHRcdC8vIHZhciBjb29yZGluYXRlczAgPSBjb29yZGluYXRlcyhjZW50ZXIwKTtcblx0XHRcdC8vIHpvb20uc2NhbGUoem9vbS5zY2FsZSgpICogLjUpO1xuICAgICAgICAgICAgLy9cblx0XHRcdC8vIC8vIFRyYW5zbGF0ZSBiYWNrIHRvIHRoZSBjZW50ZXIuXG5cdFx0XHQvLyB2YXIgY2VudGVyMSA9IHBvaW50KGNvb3JkaW5hdGVzMCk7XG5cdFx0XHQvLyB6b29tLnRyYW5zbGF0ZShbdHJhbnNsYXRlMFswXSArIGNlbnRlcjBbMF0gLSBjZW50ZXIxWzBdLCB0cmFuc2xhdGUwWzFdICsgY2VudGVyMFsxXSAtIGNlbnRlcjFbMV1dKTtcbiAgICAgICAgICAgIC8vXG5cdFx0XHQvLyAvLyBlZ29HcmFwaFZpcy5ncm91cC50cmFuc2l0aW9uKCkuZHVyYXRpb24oMjAwKS5jYWxsKHpvb20uZXZlbnQpO1xuXHRcdFx0Ly8gZWdvR3JhcGhWaXMuZ3JvdXAuY2FsbCh6b29tLmV2ZW50KTtcblx0XHRcdC8vIHRlc3RyZWNvcmQoKTtcbn0pO1xuXG52YXIgY2l0YXRpb25WaXMgPSBjaXRhdGlvblZpcyB8fCB7fTtcblxuJCggZG9jdW1lbnQgKS5vbiggXCJpbml0Q29tcGxldGVcIiwge2ZvY3VzX2lkOiBmb2N1c19pZH0sIGZ1bmN0aW9uKGV2ZW50KSB7XG5cdC8vIHBhc3MgZm9jdXNfaWQgdGhyb3VnaCB0aGUgZXZlbnQgZGF0YVxuXHR2YXIgZm9jdXNfaWQgPSBldmVudC5kYXRhLmZvY3VzX2lkO1xuXHRmb2N1c19pZCA9IHBhcnNlSW50KGZvY3VzX2lkKVxuXHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzkwMTExNS9ob3ctY2FuLWktZ2V0LXF1ZXJ5LXN0cmluZy12YWx1ZXMtaW4tamF2YXNjcmlwdFxuXHRmdW5jdGlvbiBnZXRQYXJhbWV0ZXJCeU5hbWUobmFtZSwgdXJsKSB7XG5cdFx0aWYgKCF1cmwpIHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuXHRcdG5hbWUgPSBuYW1lLnJlcGxhY2UoL1tcXFtcXF1dL2csIFwiXFxcXCQmXCIpO1xuXHRcdHZhciByZWdleCA9IG5ldyBSZWdFeHAoXCJbPyZdXCIgKyBuYW1lICsgXCIoPShbXiYjXSopfCZ8I3wkKVwiKSxcblx0XHRcdHJlc3VsdHMgPSByZWdleC5leGVjKHVybCk7XG5cdFx0aWYgKCFyZXN1bHRzKSByZXR1cm4gbnVsbDtcblx0XHRpZiAoIXJlc3VsdHNbMl0pIHJldHVybiAnJztcblx0XHRyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdHNbMl0ucmVwbGFjZSgvXFwrL2csIFwiIFwiKSk7XG5cdH1cblx0Ly8gaWYgKGdldFBhcmFtZXRlckJ5TmFtZSgncmN2bXNnJykgPT09IG51bGwpIHJldHVybjsgLy8gYWRkIFwicmN2bXNnPTFcIiB0byB0aGUgVVJMIHF1ZXJ5IHBhcmFtZXRlcnMgdG8gZW5hYmxlIHRoaXMsIG90aGVyd2lzZSBkbyBub3RoaW5nXG5cblx0dmFyIGVnb0dyYXBoVmlzID0gY2l0YXRpb25WaXMuZWdvR3JhcGhWaXM7XG5cblx0Ly8gb3BlbiB0aGUgdGltZWxpbmVWaXMgd2hlbiBjZW50ZXIgbm9kZSBpcyBjbGlja2VkXG5cdGlmICh0eXBlb2YgZm9jdXNfaWQgPT0gJ3VuZGVmaW5lZCcgfHwgIWZvY3VzX2lkKSB7XG5cdFx0dmFyIGZvY3VzX2lkID0gZ2V0UGFyYW1ldGVyQnlOYW1lKCdmb2N1c2lkJyk7XG5cdH1cblx0aWYgKGZvY3VzX2lkKSB7XG5cdFx0JCggJy5jZW50ZXJOb2RlJyApLmNsaWNrKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciB1cmwgPSBGbGFzay51cmxfZm9yKCdnZW5lcmF0ZV9jb2xsZGF0YV9mcm9tX2NvbGxlY3Rpb24nLCB7J2ZvY3VzX2lkJzogZm9jdXNfaWR9KTtcblx0XHRcdHdpbmRvdy5vcGVuKHVybCwgJ19ibGFuaycsICdsb2NhdGlvbj0wJyk7XG5cdFx0fSk7XG5cdH1cblxuXHQkKHdpbmRvdykub24oJ3N0b3JhZ2UnLCBtZXNzYWdlX3JlY2VpdmUpO1xuXG5cdC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI4MjMwODQ1L2NvbW11bmljYXRpb24tYmV0d2Vlbi10YWJzLW9yLXdpbmRvd3Ncblx0Ly8gcmVjZWl2ZSBtZXNzYWdlXG5cdC8vXG5cdGZ1bmN0aW9uIG1lc3NhZ2VfcmVjZWl2ZShldikgXG5cdHtcblx0XHRpZiAoZXYub3JpZ2luYWxFdmVudC5rZXkhPSdtZXNzYWdlJykgcmV0dXJuOyAvLyBpZ25vcmUgb3RoZXIga2V5c1xuXHRcdHZhciBtZXNzYWdlID0gSlNPTi5wYXJzZShldi5vcmlnaW5hbEV2ZW50Lm5ld1ZhbHVlKTtcblx0XHRpZiAoIW1lc3NhZ2UpIHJldHVybjsgLy8gaWdub3JlIGVtcHR5IG1lc3NhZ2Ugb3IgbWVzc2FnZSByZXNldFxuXG5cdFx0Ly8gYWN0IG9uIHRoZSBtZXNzYWdlXG5cdFx0aWYgKG1lc3NhZ2UuY29tbWFuZCA9PSAndGltZWxpbmVWaXM6cGFwZXJJdGVtOm1vdXNlb3ZlcicpIGhpZ2hsaWdodExpbmtlZFBhcGVycyhtZXNzYWdlLmRhdGEucGlkKTtcblx0XHRpZiAobWVzc2FnZS5jb21tYW5kID09ICd0aW1lbGluZVZpczpwYXBlckl0ZW06bW91c2VvdXQnKSBsaW5rZWRQYXBlcnNNb3VzZW91dChtZXNzYWdlLmRhdGEucGlkKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGhpZ2hsaWdodExpbmtlZFBhcGVycyhwYXBlcl9pZCkge1xuXHRcdHZhciBoaWdobGlnaHRlZE5vZGVzID0gW107XG5cblx0XHRkMy5zZWxlY3RBbGwoXCIubm9kZVwiKS5maWx0ZXIoZnVuY3Rpb24oZCkge1xuXHRcdFx0Ly8gcmV0dXJuIGQudGFyZ2V0UGFwZXJJRHMgJiYgZC50YXJnZXRQYXBlcklEcy5pbmRleE9mKHBhcGVyX2lkKSAhPSAtMTtcblx0XHRcdGlmIChkLnRhcmdldFBhcGVySURzICYmIGQudGFyZ2V0UGFwZXJJRHMuaW5kZXhPZihwYXBlcl9pZCkgIT0gLTEpIHtcblx0XHRcdFx0aGlnaGxpZ2h0ZWROb2Rlcy5wdXNoKGQpO1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9KVxuXHRcdC5jbGFzc2VkKFwibGlua2VkVG9UaW1lbGluZVwiLCB0cnVlKTtcblxuXHRcdC8vIGQzLnNlbGVjdEFsbChcIi5saW5rLnRvRWdvXCIpLmZpbHRlcihmdW5jdGlvbihkKSB7XG5cdFx0ZDMuc2VsZWN0QWxsKFwiLmxpbmtcIikuZmlsdGVyKGZ1bmN0aW9uKGQpIHtcblx0XHRcdHJldHVybiBoaWdobGlnaHRlZE5vZGVzLmluZGV4T2YoZC5zb3VyY2UpICE9IC0xO1xuXHRcdH0pXG5cdFx0LmNsYXNzZWQoXCJsaW5rZWRUb1RpbWVsaW5lXCIsIHRydWUpO1xuXHR9XG5cblx0ZnVuY3Rpb24gbGlua2VkUGFwZXJzTW91c2VvdXQocGFwZXJfaWQpIHtcblx0XHQvLyBkMy5zZWxlY3RBbGwoXCIubm9kZVwiKS5maWx0ZXIoZnVuY3Rpb24oZCkge1xuXHRcdC8vIFx0cmV0dXJuIGQudGFyZ2V0UGFwZXJJRHMgJiYgZC50YXJnZXRQYXBlcklEcy5pbmRleE9mKHBhcGVyX2lkKSAhPSAtMTtcblx0XHQvLyB9KVxuXHRcdC8vIC5jbGFzc2VkKFwibGlua2VkVG9UaW1lbGluZVwiLCBmYWxzZSk7XG5cdFx0ZDMuc2VsZWN0QWxsKFwiLmxpbmtlZFRvVGltZWxpbmVcIikuY2xhc3NlZChcImxpbmtlZFRvVGltZWxpbmVcIiwgZmFsc2UpO1xuXHR9XG59KTtcblxuXG5cbnZhciBjaXRhdGlvblZpcyA9IGNpdGF0aW9uVmlzIHx8IHt9O1xuXG5jaXRhdGlvblZpcy5kZWZhdWx0X29wdGlvbnMgPSAoZnVuY3Rpb24oKSB7XG5cdC8vIERpbWVuc2lvbnMgb2YgdGhlIGxhcmdlc3QgcGFydCBvZiB0aGUgdmlzdWFsaXphdGlvbiAodGhlIGdyYXBoKVxuXHR2YXIgZGltZW5zaW9ucyA9IHtcblx0XHR3aWR0aDogOTYwLFxuXHRcdGhlaWdodDogNTAwXG5cdH07XG5cdC8vIERpbWVuc2lvbnMgb2YgdGhlIGxpbmUgY2hhcnRzOlxuXHRkaW1lbnNpb25zLmxpbmVDaGFydCA9IHtcblx0XHRtYXJnaW46IHt0b3A6IDMwLCByaWdodDogMjAsIGJvdHRvbTogMzAsIGxlZnQ6IDUwfVxuXHR9O1xuXHRkaW1lbnNpb25zLmxpbmVDaGFydC53aWR0aCA9IGRpbWVuc2lvbnMud2lkdGggKiAzLzQgLSBkaW1lbnNpb25zLmxpbmVDaGFydC5tYXJnaW4ubGVmdCAtIGRpbWVuc2lvbnMubGluZUNoYXJ0Lm1hcmdpbi5yaWdodDtcblx0ZGltZW5zaW9ucy5saW5lQ2hhcnQuaGVpZ2h0ID0gMTEwIC0gZGltZW5zaW9ucy5saW5lQ2hhcnQubWFyZ2luLnRvcCAtIGRpbWVuc2lvbnMubGluZUNoYXJ0Lm1hcmdpbi5ib3R0b207XG5cblxuXHQvLyBDb2xvcnM6XG5cdC8vIFNlZSBodHRwOi8vY29sb3JicmV3ZXIyLm9yZy8/dHlwZT1xdWFsaXRhdGl2ZSZzY2hlbWU9U2V0MSZuPThcblx0dmFyIGNvbG9yU2NoZW1lID0gWydyZ2IoMjI4LDI2LDI4KScsJ3JnYig1NSwxMjYsMTg0KScsJ3JnYig3NywxNzUsNzQpJyxcblx0XHRcdCdyZ2IoMTUyLDc4LDE2MyknLCdyZ2IoMjU1LDEyNywwKScsJ3JnYigyNTUsMjU1LDUxKScsXG5cdFx0XHQncmdiKDE2Niw4Niw0MCknLCdyZ2IoMjQ3LDEyOSwxOTEpJ107XG5cdC8vIEkgbGlrZWQgdGhlIGJsdWUgYmV0dGVyIGZvciB0aGUgbWFpbiBjb2xvciwgc28gdGhlIG5leHQgbGluZSBqdXN0IG1vdmVzXG5cdC8vIHRoZSBibHVlIGNvbG9yIChvcmlnaW5hbGx5IHNlbGYuY29sb3JTY2hlbWVbMV0pIHRvIHRoZSBmcm9udCAoc2VsZi5jb2xvclNjaGVtZVswXSlcblx0Y29sb3JTY2hlbWUuc3BsaWNlKDAsIDAsIGNvbG9yU2NoZW1lLnNwbGljZSgxLCAxKVswXSk7XG5cblx0dmFyIERFRkFVTFRfT1BUSU9OUyA9IHtcblx0XHRjb2xvclNjaGVtZTogY29sb3JTY2hlbWUsXG5cdFx0ZGltZW5zaW9uczogZGltZW5zaW9uc1xuXHR9O1xuXG5cdHJldHVybiB7XG5cdFx0ZGVmYXVsdHM6IERFRkFVTFRfT1BUSU9OU1xuXHR9O1xufSgpKTtcbnZhciBjaXRhdGlvblZpcyA9IGNpdGF0aW9uVmlzIHx8IHt9O1xuXG5jaXRhdGlvblZpcy5saW5lQ2hhcnREYXRhID0gKGZ1bmN0aW9uKCkge1xuXHQvLyBUYWtlIGluIGdyYXBoIGRhdGEgYW5kIHByZXBhcmUgaXQgZm9yIGxpbmUgY2hhcnRzXG5cdFxuXHRmdW5jdGlvbiBnZXRQZXdDbGFzc1llYXIoZ3JhcGgpIHtcblx0XHR2YXIgZWdvTm9kZSA9IGdyYXBoLm5vZGVzWzBdO1xuXHRcdHJldHVybiBlZ29Ob2RlLnBld19DbGFzcztcblx0fVxuXG5cdGZ1bmN0aW9uIGdldEZ1bmRpbmcoZ3JhcGgpIHtcblx0XHR2YXIgZWdvTm9kZSA9IGdyYXBoLm5vZGVzWzBdO1xuXHRcdHJldHVybiBlZ29Ob2RlLmZ1bmRpbmc7XG5cdH1cblxuXHRmdW5jdGlvbiBjbGVhbkxpbmtzKGxpbmtzKSB7XG5cdFx0dmFyIGNsZWFuZWRMaW5rcyA9IFtdO1xuXHRcdGxpbmtzLmZvckVhY2goZnVuY3Rpb24oZCkge1xuXHRcdFx0aWYgKCAodHlwZW9mIGQubGlua1RvRWdvICE9ICd1bmRlZmluZWQnKSAmJiAoZC5saW5rVG9FZ28gPT09IHRydWUpICkge1xuXHRcdFx0XHR2YXIgc291cmNlWWVhciA9ICtkLnNvdXJjZVllYXI7XG5cdFx0XHRcdHZhciB0YXJnZXRZZWFyID0gK2QudGFyZ2V0WWVhcjtcblx0XHRcdFx0aWYgKCAoc291cmNlWWVhciA+IDApICYmICh0YXJnZXRZZWFyID4gMCkgJiYgKHNvdXJjZVllYXIgPj0gdGFyZ2V0WWVhcikgKSB7XG5cdFx0XHRcdFx0Y2xlYW5lZExpbmtzLnB1c2goZCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0XHRyZXR1cm4gY2xlYW5lZExpbmtzO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0WWVhclJhbmdlKGNsZWFuZWRMaW5rcykge1xuXHRcdC8vIE1ha2Ugc3VyZSBhbGwgb3VyIGRhdGEgZmFsbCB3aXRoaW4gdGhlIGFwcHJvcHJpYXRlIHRpbWUgc3Bhbi5cblx0XHQvLyBUaGUgbWluaW11bSB5ZWFyIGlzIHRoZSBlYXJsaWVzdCBwdWJsaWNhdGlvbiBieSB0aGUgZWdvIGF1dGhvciAodGhlcmUgd2lsbCBsaWtlbHkgYmUgbm8gY2l0YXRpb25zIHdpdGhpbiB0aGlzIHllYXIsIGJ1dCB0aGlzIGNoYXJ0IG5lZWRzIHRvIGxpbmUgdXAgd2l0aCB0aGUgb3RoZXIgY2hhcnRzKS5cblx0XHQvLyBUaGUgbWF4aW11bSB5ZWFyIGlzIHRoZSBsYXN0IHllYXIgdGhhdCBhIHBhcGVyIGNpdGVkIG9uZSBvZiB0aGUgZWdvIGF1dGhvcidzIHBhcGVyIChjaGVja2luZyB0byBtYWtlIHN1cmUgaXQgaXMgbm90IGluIHRoZSBmdXR1cmUsIHdoaWNoIHdvdWxkIG1lYW4gYmFkIGRhdGEpLlxuXHRcdHZhciBtaW5ZZWFyID0gZDMubWluKGNsZWFuZWRMaW5rcywgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC50YXJnZXRZZWFyPjAgPyBkLnRhcmdldFllYXIgOiBudWxsOyB9KTtcblx0XHQvLyBHZXQgY3VycmVudCB5ZWFyICh1c2luZyB0b2RheSdzIGRhdGUpOlxuXHRcdHZhciB0b2RheVllYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCk7XG5cdFx0dmFyIG1heFllYXIgPSBkMy5tYXgoY2xlYW5lZExpbmtzLCBmdW5jdGlvbihkKSB7IHJldHVybiBkLnNvdXJjZVllYXI8PXRvZGF5WWVhciA/IGQuc291cmNlWWVhciA6IG51bGw7IH0pO1xuXG5cdFx0Ly8gLy8gY3V0b2ZmIGF0IDIwMTVcblx0XHQvLyBtYXhZZWFyID0gTWF0aC5taW4obWF4WWVhciwgMjAxNSk7XG5cdFx0Ly8gY3V0IG9mZiBhdCAyMDE3XG5cdFx0bWF4WWVhciA9IE1hdGgubWluKG1heFllYXIsIDIwMTcpO1xuXG5cdFx0cmV0dXJuIFttaW5ZZWFyLCBtYXhZZWFyXTtcblx0fVxuXG5cdGZ1bmN0aW9uIGdldEVtcHR5Q291bnREYXRhKHllYXJSYW5nZSkge1xuXHRcdHZhciBlbXB0eUNvdW50RGF0YSA9IFtdO1xuXHRcdGZvciAodmFyIGk9eWVhclJhbmdlWzBdOyBpPD15ZWFyUmFuZ2VbMV07IGkrKykge1xuXHRcdFx0ZW1wdHlDb3VudERhdGEucHVzaCh7eWVhcjogaSwgY291bnQ6IDB9KTtcblx0XHR9XG5cdFx0cmV0dXJuIGVtcHR5Q291bnREYXRhO1xuXHR9XG5cblx0ZnVuY3Rpb24gcHJlcGFyZURhdGFfYWxsQ2l0YXRpb25zKGdyYXBoKSB7XG5cdFx0Ly8gdmFyIGRhdGEgPSB7fTtcblx0XHR2YXIgZGF0YSA9IHt9O1xuXHRcdGRhdGFbJ3Bld19DbGFzcyddID0gZ2V0UGV3Q2xhc3NZZWFyKGdyYXBoKTtcblx0XHRkYXRhWydmdW5kaW5nJ10gPSBnZXRGdW5kaW5nKGdyYXBoKTtcblx0XHRkYXRhWyd2YWx1ZXMnXSA9IFtdO1xuXG5cdFx0dmFyIGNsZWFuZWRMaW5rcyA9IGNsZWFuTGlua3MoZ3JhcGgubGlua3MpO1xuXHRcdHZhciB5ZWFyUmFuZ2UgPSBnZXRZZWFyUmFuZ2UoY2xlYW5lZExpbmtzKTtcblx0XHRjbGVhbmVkTGlua3MgPSBjbGVhbmVkTGlua3MuZmlsdGVyKGZ1bmN0aW9uKGQpIHtcblx0XHRcdHJldHVybiBkLnNvdXJjZVllYXIgPD0geWVhclJhbmdlWzFdICYmIGQudGFyZ2V0WWVhciA8PSB5ZWFyUmFuZ2VbMV07XG5cdFx0fSk7XG5cblx0XHQvLyBmb3IgKHZhciBpPXllYXJSYW5nZVswXTsgaTw9eWVhclJhbmdlWzFdOyBpKyspIHtcblx0XHQvLyBcdC8vIGRhdGFbaV0gPSAwO1xuXHRcdC8vIFx0ZGF0YS5wdXNoKHt5ZWFyOiBpLCBjb3VudDogMH0pO1xuXHRcdC8vIH1cblx0XHQvLyBjbGVhbmVkTGlua3MuZm9yRWFjaChmdW5jdGlvbihkKSB7XG5cdFx0Ly8gXHRkYXRhW2Quc291cmNlWWVhcl0rKztcblx0XHQvLyB9KTtcblx0XHRkYXRhLnZhbHVlcyA9IGdldEVtcHR5Q291bnREYXRhKHllYXJSYW5nZSk7XG5cdFx0Y2xlYW5lZExpbmtzLmZvckVhY2goZnVuY3Rpb24oZCkge1xuXHRcdFx0dmFyIHRoaXNTb3VyY2VZZWFyID0gZC5zb3VyY2VZZWFyO1xuXHRcdFx0dmFyIGRhdGFUaGlzWWVhciA9IGRhdGEudmFsdWVzLmZpbHRlcihmdW5jdGlvbihkZCkgeyByZXR1cm4gZGQueWVhcj09PXRoaXNTb3VyY2VZZWFyOyB9KVswXTtcblx0XHRcdGRhdGFUaGlzWWVhci5jb3VudCsrO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIGRhdGE7XG5cdH1cblxuXHRmdW5jdGlvbiBwcmVwYXJlRGF0YV9lZ29BdXRob3JQdWJsaWNhdGlvbnMoZ3JhcGgpIHtcblx0XHR2YXIgZGF0YSA9IHt9O1xuXHRcdGRhdGFbJ3Bld19DbGFzcyddID0gZ2V0UGV3Q2xhc3NZZWFyKGdyYXBoKTtcblx0XHRkYXRhWydmdW5kaW5nJ10gPSBnZXRGdW5kaW5nKGdyYXBoKTtcblx0XHRkYXRhWyd2YWx1ZXMnXSA9IFtdO1xuXG5cdFx0dmFyIGNsZWFuZWRMaW5rcyA9IGNsZWFuTGlua3MoZ3JhcGgubGlua3MpO1xuXHRcdHZhciB5ZWFyUmFuZ2UgPSBnZXRZZWFyUmFuZ2UoY2xlYW5lZExpbmtzKTtcblx0XHRkYXRhLnZhbHVlcyA9IGdldEVtcHR5Q291bnREYXRhKHllYXJSYW5nZSk7XG5cdFx0dmFyIGVnb1BhcGVycyA9IGdyYXBoLm5vZGVzWzBdLnBhcGVycztcblx0XHRlZ29QYXBlcnMgPSBlZ29QYXBlcnMuZmlsdGVyKGZ1bmN0aW9uKGQpIHtcblx0XHRcdHJldHVybiAoIChkLlllYXIgPj0geWVhclJhbmdlWzBdKSAmJiAoZC5ZZWFyIDw9IHllYXJSYW5nZVsxXSkgKTtcblx0XHR9KVxuXHRcdGVnb1BhcGVycy5mb3JFYWNoKGZ1bmN0aW9uKGQpIHtcblx0XHRcdHZhciBkYXRhVGhpc1llYXIgPSBkYXRhLnZhbHVlcy5maWx0ZXIoZnVuY3Rpb24oZGQpIHsgcmV0dXJuIGRkLnllYXI9PWQuWWVhcjsgfSlbMF07XG5cdFx0XHRkYXRhVGhpc1llYXIuY291bnQrKztcblx0XHR9KTtcblxuXHRcdHJldHVybiBkYXRhO1xuXHR9XG5cblx0ZnVuY3Rpb24gcHJlcGFyZURhdGFfYXV0aG9yRWlnZW5mYWN0b3JTdW0oZ3JhcGgpIHtcblx0XHQvLyBGb3IgZWFjaCB5ZWFyLCBzdW0gdGhlIGVpZ2VuZmFjdG9yIChFRikgb2YgdGhlIGVnbyBhdXRob3IncyBwYXBlcidzXG5cdFx0dmFyIGRhdGEgPSB7fTtcblx0XHRkYXRhWydwZXdfQ2xhc3MnXSA9IGdldFBld0NsYXNzWWVhcihncmFwaCk7XG5cdFx0ZGF0YVsnZnVuZGluZyddID0gZ2V0RnVuZGluZyhncmFwaCk7XG5cdFx0ZGF0YVsndmFsdWVzJ10gPSBbXTtcblxuXHRcdHZhciBjbGVhbmVkTGlua3MgPSBjbGVhbkxpbmtzKGdyYXBoLmxpbmtzKTtcblx0XHR2YXIgeWVhclJhbmdlID0gZ2V0WWVhclJhbmdlKGNsZWFuZWRMaW5rcyk7XG5cdFx0ZGF0YS52YWx1ZXMgPSBnZXRFbXB0eUNvdW50RGF0YSh5ZWFyUmFuZ2UpO1xuXHRcdHZhciBlZ29QYXBlcnMgPSBncmFwaC5ub2Rlc1swXS5wYXBlcnM7XG5cdFx0ZWdvUGFwZXJzID0gZWdvUGFwZXJzLmZpbHRlcihmdW5jdGlvbihkKSB7XG5cdFx0XHRyZXR1cm4gKCAoZC5ZZWFyID49IHllYXJSYW5nZVswXSkgJiYgKGQuWWVhciA8PSB5ZWFyUmFuZ2VbMV0pICk7XG5cdFx0fSlcblx0XHRlZ29QYXBlcnMuZm9yRWFjaChmdW5jdGlvbihkKSB7XG5cdFx0XHR2YXIgZGF0YVRoaXNZZWFyID0gZGF0YS52YWx1ZXMuZmlsdGVyKGZ1bmN0aW9uKGRkKSB7IHJldHVybiBkZC55ZWFyPT1kLlllYXI7IH0pWzBdO1xuXHRcdFx0ZGF0YVRoaXNZZWFyLmNvdW50ID0gZGF0YVRoaXNZZWFyLmNvdW50ICsgZC5FRjtcblx0XHR9KTtcblxuXHRcdHJldHVybiBkYXRhO1xuXHR9XG5cblx0cmV0dXJuIHtcblx0XHRwcmVwYXJlRGF0YV9hbGxDaXRhdGlvbnM6IHByZXBhcmVEYXRhX2FsbENpdGF0aW9ucyxcblx0XHRwcmVwYXJlRGF0YV9lZ29BdXRob3JQdWJsaWNhdGlvbnM6IHByZXBhcmVEYXRhX2Vnb0F1dGhvclB1YmxpY2F0aW9ucyxcblx0XHRwcmVwYXJlRGF0YV9hdXRob3JFaWdlbmZhY3RvclN1bTogcHJlcGFyZURhdGFfYXV0aG9yRWlnZW5mYWN0b3JTdW1cblx0fTtcbn0oKSk7XG5cblxudmFyIGNpdGF0aW9uVmlzID0gY2l0YXRpb25WaXMgfHwge307XG5cbi8vICQoIGRvY3VtZW50ICkub24oIFwiaW5pdENvbXBsZXRlXCIsIGZ1bmN0aW9uKCkge1xuLy8gXHR2YXIgZWdvR3JhcGhWaXMgPSBjaXRhdGlvblZpcy5lZ29HcmFwaFZpcztcbi8vXG4vLyBcdHZhciAkbGVnZW5kVG9nZ2xlQnV0dG9uID0gJCgnPGlucHV0IHR5cGU9XCJidXR0b25cIiB2YWx1ZT1cIlRvZ2dsZSBMZWdlbmRcIiAvPicpO1xuLy8gXHQkbGVnZW5kVG9nZ2xlQnV0dG9uLmRhdGEoJ3ZhbCcsIDApO1xuLy8gXHR2YXIgbWF4VmFsID0gMztcbi8vXG4vLyBcdCQoJyNtYWluRGl2JykucHJlcGVuZCgkbGVnZW5kVG9nZ2xlQnV0dG9uKTtcbi8vXG4vLyBcdCRsZWdlbmRUb2dnbGVCdXR0b24ub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4vLyBcdFx0dmFyIGN1clZhbCA9ICRsZWdlbmRUb2dnbGVCdXR0b24uZGF0YSgndmFsJyk7XG4vLyBcdFx0Y3VyVmFsKys7XG4vLyBcdFx0aWYgKGN1clZhbCA+IG1heFZhbCkge1xuLy8gXHRcdFx0Y3VyVmFsID0gMDtcbi8vIFx0XHR9XG4vLyBcdFx0JGxlZ2VuZFRvZ2dsZUJ1dHRvbi5kYXRhKCd2YWwnLCBjdXJWYWwpO1xuLy8gXHRcdHN3aXRjaCAoY3VyVmFsKSB7XG4vLyBcdFx0XHRjYXNlIDA6XG4vLyBcdFx0XHRcdGVnb0dyYXBoVmlzLmxlZ2VuZC5yZW1vdmUoKTtcbi8vIFx0XHRcdFx0ZWdvR3JhcGhWaXMubGVnZW5kSW5pdCgpXG4vLyBcdFx0XHRcdFxuLy8gXHRcdFx0XHRicmVhaztcbi8vIFx0XHRcdFxuLy8gXHRcdFx0Y2FzZSAxOlxuLy8gXHRcdFx0XHRlZ29HcmFwaFZpcy5sZWdlbmRUZXh0XG4vLyBcdFx0XHRcdFx0LnRleHQoZnVuY3Rpb24oZCkge1xuLy8gXHRcdFx0XHRcdFx0dmFyIGlkeCA9ICtkLmtleTtcbi8vIFx0XHRcdFx0XHRcdHZhciBuZXdUZXh0ID0gZWdvR3JhcGhWaXMuZGF0YS5ncmFwaC5mb3Nfa21lYW5zX2NhdGVnb3JpZXNfdG9wZm9zbmFtZXNfdGZpZGZbaWR4XTtcbi8vIFx0XHRcdFx0XHRcdHJldHVybiBuZXdUZXh0O1xuLy8gXHRcdFx0XHRcdH0pO1xuLy9cbi8vIFx0XHRcdFx0YnJlYWs7XG4vL1xuLy8gXHRcdFx0Y2FzZSAyOlxuLy8gXHRcdFx0XHRlZ29HcmFwaFZpcy5sZWdlbmRUZXh0XG4vLyBcdFx0XHRcdFx0LnRleHQoZnVuY3Rpb24oZCkge1xuLy8gXHRcdFx0XHRcdFx0dmFyIGlkeCA9ICtkLmtleTtcbi8vIFx0XHRcdFx0XHRcdHZhciBuZXdUZXh0ID0gZWdvR3JhcGhWaXMuZGF0YS5ncmFwaC5mb3Nfa21lYW5zX2NhdGVnb3JpZXNfdG9wdGl0bGV3b3Jkc190ZmlkZltpZHhdO1xuLy8gXHRcdFx0XHRcdFx0cmV0dXJuIG5ld1RleHQ7XG4vLyBcdFx0XHRcdFx0fSk7XG4vL1xuLy8gXHRcdFx0XHRicmVhaztcbi8vXG4vLyBcdFx0XHRjYXNlIDM6XG4vLyBcdFx0XHRcdGVnb0dyYXBoVmlzLmxlZ2VuZFRleHRcbi8vIFx0XHRcdFx0XHQudGV4dChmdW5jdGlvbihkKSB7XG4vLyBcdFx0XHRcdFx0XHR2YXIgaWR4ID0gK2Qua2V5O1xuLy8gXHRcdFx0XHRcdFx0dmFyIG5ld1RleHQgPSBlZ29HcmFwaFZpcy5kYXRhLmdyYXBoLmZvc19rbWVhbnNfY2F0ZWdvcmllc190b3B0aXRsZXdvcmRzX3RmaWRmX3Jlc3RyaWN0ZWRbaWR4XTtcbi8vIFx0XHRcdFx0XHRcdHJldHVybiBuZXdUZXh0O1xuLy8gXHRcdFx0XHRcdH0pO1xuLy9cbi8vIFx0XHRcdFx0YnJlYWs7XG4vLyBcdFx0fVxuLy8gXHR9KTtcbi8vIFx0Ly8gZWdvR3JhcGhWaXMubGVnZW5kVGV4dFxuLy8gXHQvLyBcdC50ZXh0KCdkZGQnKTtcbi8vIH0pO1xuLy9cbi8vXG4vLyBodHRwOi8vY29kZXJldmlldy5zdGFja2V4Y2hhbmdlLmNvbS9xdWVzdGlvbnMvNzc2MTQvY2FwaXRhbGl6ZS10aGUtZmlyc3QtY2hhcmFjdGVyLW9mLWFsbC13b3Jkcy1ldmVuLXdoZW4tZm9sbG93aW5nLWFcblN0cmluZy5wcm90b3R5cGUuY2FwaXRhbGl6ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvTG93ZXJDYXNlKCkucmVwbGFjZSggL1xcYlxcdy9nLCBmdW5jdGlvbihtKSB7XG4gICAgICAgIHJldHVybiBtLnRvVXBwZXJDYXNlKCk7XG4gICAgfSk7XG59O1xuXG5cbnZhciBjaXRhdGlvblZpcyA9IGNpdGF0aW9uVmlzIHx8IHt9O1xuXG5mdW5jdGlvbiBtYWtlSHRtbCh5ZWFyLCBwYXBlcnMsIG51bURpc3BsYXksIGNhbGxiYWNrKSB7XG5cdGlmIChwYXBlcnNbMF0uaGFzT3duUHJvcGVydHkoJ2NpdGF0aW9uJykpIHtcblx0XHR2YXIgdG9vbHRpcEh0bWwgPSAnPGgzIHN0eWxlPVwiZm9udC1zaXplOiAxMDAlXCI+VG9wIHBhcGVycyBpbiB0aGlzIGNvbGxlY3Rpb24gaW4gJyArIHllYXIgKyc6PC9oMz4nO1xuXHRcdHRvb2x0aXBIdG1sID0gdG9vbHRpcEh0bWwgKyAnPG9sPic7XG5cdFx0dmFyIG51bVBhcGVyc0FkZGVkID0gMDtcblx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gcGFwZXJzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHR2YXIgcGFwZXIgPSBwYXBlcnNbaV07XG5cdFx0XHRpZiAocGFwZXIuaGFzT3duUHJvcGVydHkoJ2NpdGF0aW9uJykpIHtcblx0XHRcdFx0dG9vbHRpcEh0bWwgPSB0b29sdGlwSHRtbCArICc8bGk+JyArIHBhcGVyWydjaXRhdGlvbiddICsgJzwvbGk+Jztcblx0XHRcdFx0bnVtUGFwZXJzQWRkZWQrKztcblx0XHRcdFx0aWYgKG51bVBhcGVyc0FkZGVkID09PSBudW1EaXNwbGF5KSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0dG9vbHRpcEh0bWwgPSB0b29sdGlwSHRtbCArICc8L29sPic7XG5cblx0XHRjaXRhdGlvblZpcy5lZ29HcmFwaFZpcy50b29sdGlwID0gY2l0YXRpb25WaXMuZWdvR3JhcGhWaXMudG9vbHRpcC5odG1sKHRvb2x0aXBIdG1sKTtcblx0XHRpZiAoY2FsbGJhY2sgIT0gbnVsbCkge1xuXHRcdFx0Y2FsbGJhY2sodG9vbHRpcEh0bWwpO1xuXHRcdH1cblx0XHRyZXR1cm4gdG9vbHRpcEh0bWw7XG5cblx0fSBlbHNlIHtcblx0XHR2YXIgcGlkcyA9IFtdO1xuXHRcdGZvciAodmFyIGkgPSAwLCBsZW4gPSBudW1EaXNwbGF5OyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGlmIChpIDwgcGFwZXJzLmxlbmd0aCkge1xuXHRcdFx0XHRwaWRzLnB1c2gocGFwZXJzW2ldLlBhcGVySUQpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHQkLmFqYXgoe1xuXHRcdFx0ZGF0YVR5cGU6ICdqc29uJyxcblx0XHRcdHVybDogJFNDUklQVF9ST09UICsgJy9fdmlzX2dldF9tb3JlX3BhcGVyaW5mbycsXG5cdFx0XHRkYXRhOiB7cGFwZXJpZDogSlNPTi5zdHJpbmdpZnkocGlkcyl9LFxuXHRcdFx0c3VjY2VzczogZnVuY3Rpb24ocmVzdWx0KSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKHJlc3VsdCk7XG5cdFx0XHRcdHZhciBkYl9wYXBlcnMgPSByZXN1bHRbJ3BhcGVycyddO1xuXHRcdFx0XHR2YXIgdG9vbHRpcEh0bWwgPSAnPGgzIHN0eWxlPVwiZm9udC1zaXplOiAxMDAlXCI+VG9wIHBhcGVycyBpbiB0aGlzIGNvbGxlY3Rpb24gaW4gJyArIHllYXIgKyc6PC9oMz4nO1xuXHRcdFx0XHR0b29sdGlwSHRtbCA9IHRvb2x0aXBIdG1sICsgJzxvbD4nO1xuXHRcdFx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gZGJfcGFwZXJzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRcdFx0cGFwZXJzW2ldWydjaXRhdGlvbiddID0gZGJfcGFwZXJzW2ldWydjaXRhdGlvbiddO1xuXHRcdFx0XHRcdHRvb2x0aXBIdG1sID0gdG9vbHRpcEh0bWwgKyAnPGxpPicgKyBwYXBlcnNbaV1bJ2NpdGF0aW9uJ10gKyAnPC9saT4nO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRvb2x0aXBIdG1sID0gdG9vbHRpcEh0bWwgKyAnPC9vbD4nO1xuXG5cdFx0XHRcdGNpdGF0aW9uVmlzLmVnb0dyYXBoVmlzLnRvb2x0aXAgPSBjaXRhdGlvblZpcy5lZ29HcmFwaFZpcy50b29sdGlwLmh0bWwodG9vbHRpcEh0bWwpO1xuXHRcdFx0XHRpZiAoY2FsbGJhY2sgIT0gbnVsbCkge1xuXHRcdFx0XHRcdGNhbGxiYWNrKHRvb2x0aXBIdG1sKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdG9vbHRpcEh0bWw7XG5cblx0XHRcdFx0Lypcblx0XHRcdFx0ZC5UaXRsZSA9IHJlc3VsdFsndGl0bGUnXTtcblx0XHRcdFx0ZC5kb2kgPSByZXN1bHRbJ2RvaSddO1xuXHRcdFx0XHRkLmNpdGF0aW9uID0gcmVzdWx0WydjaXRhdGlvbiddO1xuXHRcdFx0XHRkLnVwZGF0ZWRQcm9wcyA9IHRydWU7XG5cdFx0XHRcdGQudG9vbHRpcEh0bWwgPSAnPHA+JyArIGQuY2l0YXRpb24gKyAnPC9wPic7XG5cdFx0XHRcdGQudG9vbHRpcEh0bWwgPSBkLnRvb2x0aXBIdG1sICsgJzxicj4nO1xuXHRcdFx0XHRkLnRvb2x0aXBIdG1sID0gZC50b29sdGlwSHRtbCArICc8cD5DYXRlZ29yeTogJyArIGQuRG9tYWluTmFtZSArICc8L3A+Jztcblx0XHRcdFx0aWYgKGQuaG92ZXJlZCkge1xuXHRcdFx0XHRcdHNlbGYudGlwLnNob3coZCwgaG92ZXJlZEl0ZW0ubm9kZSgpKTtcblx0XHRcdFx0XHQvLyBzZWxmLnRpcC5zaG93KGQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdCovXG5cblx0XHRcdH1cblx0XHR9KTtcblx0fSAgLy8gZW5kIGVsc2VcblxuXG59XG5cbi8qXG4kKCBkb2N1bWVudCApLm9uKCBcImluaXRDb21wbGV0ZVwiLCBmdW5jdGlvbigpIHtcblx0dmFyIGxpbmVDaGFydHMgPSBjaXRhdGlvblZpcy5saW5lQ2hhcnRzO1xuXHR2YXIgZWdvR3JhcGhWaXMgPSBjaXRhdGlvblZpcy5lZ29HcmFwaFZpcztcblx0dmFyIGVnb1BhcGVycyA9IGNpdGF0aW9uVmlzLmVnb0dyYXBoVmlzLmVnb05vZGUucGFwZXJzO1xuXHRmb3IgKHZhciBpID0gMCwgbGVuID0gbGluZUNoYXJ0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdHZhciB5ZWFyQXJlYSA9IGxpbmVDaGFydHNbaV0ueWVhckFyZWE7XG5cdFx0eWVhckFyZWEuc3R5bGUoJ3BvaW50ZXItZXZlbnRzJywgJ2FsbCcpXG5cdFx0XHQub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKGQpIHtcblx0XHRcdFx0dmFyIHRoaXNZZWFyUGFwZXJzID0gZWdvUGFwZXJzLmZpbHRlcihmdW5jdGlvbihkZCkge1xuXHRcdFx0XHRcdHJldHVybiBkZC5ZZWFyPT1kLnllYXI7fVxuXHRcdFx0XHRcdClcblx0XHRcdFx0XHQuc29ydChmdW5jdGlvbihhLCBiKSB7IHJldHVybiBkMy5kZXNjZW5kaW5nKGEuRUYsIGIuRUYpOyB9KTtcblx0XHRcdFx0Y29uc29sZS5sb2codGhpc1llYXJQYXBlcnMpO1xuXHRcdFx0XHRpZiAodGhpc1llYXJQYXBlcnMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNpdGF0aW9uVmlzLmVnb0dyYXBoVmlzLnRvb2x0aXAgPSBjaXRhdGlvblZpcy5lZ29HcmFwaFZpcy50b29sdGlwXG5cdFx0XHRcdFx0Lmh0bWwoJzxwPkxvYWRpbmcuLi48L3A+Jylcblx0XHRcdFx0XHQuc3R5bGUoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpXG5cdFx0XHRcdFx0LnN0eWxlKCdib3JkZXItc3R5bGUnLCAnc29saWQnKVxuXHRcdFx0XHRcdC5zdHlsZSgnYm9yZGVyLWNvbG9yJywgY2l0YXRpb25WaXMuZWdvR3JhcGhWaXMuY29sb3JTY2hlbWVbMF0pXG5cdFx0XHRcdFx0LnN0eWxlKCd0b3AnLCAoZDMuZXZlbnQucGFnZVktMjAwKSsncHgnKVxuXHRcdFx0XHRcdC5zdHlsZSgnbGVmdCcsIChkMy5ldmVudC5wYWdlWCsxMCkrJ3B4Jyk7XG5cdFx0XHRcdHZhciB0b29sdGlwSHRtbCA9IG1ha2VIdG1sKGQueWVhciwgdGhpc1llYXJQYXBlcnMsIDMpO1xuXHRcdFx0XHR9KVxuXHRcdFx0Lm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRjaXRhdGlvblZpcy5lZ29HcmFwaFZpcy50b29sdGlwID0gY2l0YXRpb25WaXMuZWdvR3JhcGhWaXMudG9vbHRpcFxuXHRcdFx0XHRcdC5zdHlsZSgndmlzaWJpbGl0eScsICdoaWRkZW4nKTtcblx0XHRcdH0pO1xuXHR9XG5cbn0pO1xuKi9cblxuXG4vLyB0b29sdGlwc3RlciBtZXRob2RcbiQoIGRvY3VtZW50ICkub24oICdpbml0Q29tcGxldGUnLCBmdW5jdGlvbigpIHtcblx0dmFyIHdpbmRvd1dpZHRoID0gJCh3aW5kb3cpLndpZHRoKCk7XG5cblx0bm9kZVRvb2x0aXBzKCk7XG5cdGxlZ2VuZFRvb2x0aXBzKCk7XG5cblx0JCgnLnllYXJBcmVhLCAueWVhclRpY2snKS5jc3MoJ3BvaW50ZXItZXZlbnRzJywgJ2FsbCcpXG5cdFx0LnRvb2x0aXBzdGVyKHtcblx0XHRcdHRoZW1lOiAndG9vbHRpcHN0ZXItbm9pcicsXG5cdFx0XHRtYXhXaWR0aDogd2luZG93V2lkdGggKiAuNSxcblx0XHRcdGFuaW1hdGlvbjogbnVsbCxcblx0XHRcdGFuaW1hdGlvbmR1cmF0aW9uOiAwLFxuXHRcdFx0ZGVsYXk6IDAsXG5cdFx0XHR1cGRhdGVBbmltYXRpb246IG51bGwsXG5cdFx0XHRjb250ZW50OiAnPHA+TG9hZGluZy4uLjwvcD4nLFxuXHRcdFx0Y29udGVudEFzSFRNTDogdHJ1ZSxcblx0XHRcdGZ1bmN0aW9uSW5pdDogZnVuY3Rpb24oKSB7Y29uc29sZS5sb2coJ3Rvb2x0aXBzdGVyIGluaXQnKTt9LFxuXHRcdFx0ZnVuY3Rpb25CZWZvcmU6IGZ1bmN0aW9uKGluc3RhbmNlLCBoZWxwZXIpIHtcblx0XHRcdFx0dmFyICRvcmlnaW4gPSAkKGhlbHBlci5vcmlnaW4pO1xuXHRcdFx0XHR2YXIgeWVhciA9ICRvcmlnaW4uZGF0YSgneWVhcicpO1xuXHRcdFx0XHR2YXIgZWdvUGFwZXJzID0gY2l0YXRpb25WaXMuZWdvR3JhcGhWaXMuZWdvTm9kZS5wYXBlcnM7XG5cdFx0XHRcdHZhciB0aGlzWWVhclBhcGVycyA9IGVnb1BhcGVycy5maWx0ZXIoZnVuY3Rpb24oZGQpIHtcblx0XHRcdFx0XHRyZXR1cm4gZGQuWWVhcj09eWVhcjt9XG5cdFx0XHRcdFx0KVxuXHRcdFx0XHRcdC5zb3J0KGZ1bmN0aW9uKGEsIGIpIHsgcmV0dXJuIGQzLmRlc2NlbmRpbmcoYS5FRiwgYi5FRik7IH0pO1xuXHRcdFx0XHRpZiAodGhpc1llYXJQYXBlcnMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHZhciB0b29sdGlwSHRtbCA9IG1ha2VIdG1sKHllYXIsIHRoaXNZZWFyUGFwZXJzLCAzLCBmdW5jdGlvbihodG1sKSB7XG5cdFx0XHRcdFx0aW5zdGFuY2UuY29udGVudChodG1sKTsgXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHQvLyBpbnN0YW5jZS5jb250ZW50KHRvb2x0aXBIdG1sKTtcblx0XHRcdH1cblx0fSk7XG59ICk7XG5cbmZ1bmN0aW9uIG5vZGVUb29sdGlwcygpIHtcblx0Ly8gJCgnLmQzLXRpcCcpLnJlbW92ZSgpO1xuXHQkKCcubm9kZScpLmFkZENsYXNzKCd0b29sdGlwc3RlcicpO1xuXHQvLyAkKCcubm9kZScpLmZpcnN0KCkuYWRkQ2xhc3MoJ2NlbnRlci1ub2RlJyk7XG5cdHZhciB3aW5kb3dXaWR0aCA9ICQod2luZG93KS53aWR0aCgpO1xuXHQkKCcudG9vbHRpcHN0ZXInKS50b29sdGlwc3Rlcih7XG5cdFx0dGhlbWU6ICd0b29sdGlwc3Rlci1ub2lyJyxcblx0XHRtYXhXaWR0aDogd2luZG93V2lkdGggKiAuNSxcblx0XHRhbmltYXRpb246IG51bGwsXG5cdFx0YW5pbWF0aW9uZHVyYXRpb246IDAsXG5cdFx0ZGVsYXk6IDAsXG5cdFx0dXBkYXRlQW5pbWF0aW9uOiBudWxsLFxuXHRcdGNvbnRlbnQ6ICc8cD5Mb2FkaW5nLi4uPC9wPicsXG5cdFx0Y29udGVudEFzSFRNTDogdHJ1ZSxcblx0XHRmdW5jdGlvbkJlZm9yZTogZnVuY3Rpb24oaW5zdGFuY2UsIGhlbHBlcikge1xuXHRcdFx0dmFyIHRvb2x0aXBIdG1sID0gYWpheFBhcGVySW5mbyhoZWxwZXIub3JpZ2luLCBmdW5jdGlvbihodG1sKSB7XG5cdFx0XHRcdGluc3RhbmNlLmNvbnRlbnQoaHRtbCk7IFxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9KTtcblxuXHRmdW5jdGlvbiBhamF4UGFwZXJJbmZvKG5vZGUsIGNhbGxiYWNrKSB7XG5cdFx0Ly8gbm9kZSBpcyB0aGUgRE9NIGVsZW1lbnQgZm9yIGEgbm9kZVxuXHRcdHZhciBodG1sID0gJyc7XG5cdFx0ZDMuc2VsZWN0KG5vZGUpLmVhY2goZnVuY3Rpb24oZCkge1xuXHRcdFx0aWYgKCAoZC5ub2RlVHlwZSA9PT0gJ3BhcGVyJykgJiYgKCFkLnVwZGF0ZWRQcm9wcykgKSB7XG5cdFx0XHRcdGlmICggKHR5cGVvZiBkLmNpdGF0aW9uICE9IFwidW5kZWZpbmVkXCIpICYmIChkLmNpdGF0aW9uLmxlbmd0aD4wKSApIHtcblx0XHRcdFx0XHRodG1sID0gYnlwYXNzQWpheChkKTtcblx0XHRcdFx0XHRpZiAoY2FsbGJhY2sgIT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2soaHRtbCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBodG1sXG5cdFx0XHRcdH1cblx0XHRcdFx0JC5hamF4KHtcblx0XHRcdFx0XHRkYXRhVHlwZTogJ2pzb24nLFxuXHRcdFx0XHRcdHVybDogJFNDUklQVF9ST09UICsgJy9fdmlzX2dldF9tb3JlX3BhcGVyaW5mbycsXG5cdFx0XHRcdFx0ZGF0YToge3BhcGVyaWQ6IGQuaWR9LFxuXHRcdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3VsdCkge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2cocmVzdWx0KTtcblx0XHRcdFx0XHRcdGQuVGl0bGUgPSByZXN1bHRbJ3RpdGxlJ107XG5cdFx0XHRcdFx0XHRkLmRvaSA9IHJlc3VsdFsnZG9pJ107XG5cdFx0XHRcdFx0XHRkLmNpdGF0aW9uID0gcmVzdWx0WydjaXRhdGlvbiddO1xuXHRcdFx0XHRcdFx0ZC5hdXRob3Jfc3RyID0gcmVzdWx0WydhdXRob3Jfc3RyJ107XG5cdFx0XHRcdFx0XHRkLnZlbnVlID0gcmVzdWx0Wyd2ZW51ZSddO1xuXHRcdFx0XHRcdFx0ZC51cGRhdGVkUHJvcHMgPSB0cnVlO1xuXHRcdFx0XHRcdFx0Ly8gZC50b29sdGlwSHRtbCA9ICc8cD4nICsgZC5jaXRhdGlvbiArICc8L3A+Jztcblx0XHRcdFx0XHRcdC8vIGQudG9vbHRpcEh0bWwgPSBkLnRvb2x0aXBIdG1sICsgJzxicj4nO1xuXHRcdFx0XHRcdFx0Ly8gZC50b29sdGlwSHRtbCA9IGQudG9vbHRpcEh0bWwgKyAnPHA+Q2F0ZWdvcnk6ICcgKyBkLkRvbWFpbk5hbWUgKyAnPC9wPic7XG5cdFx0XHRcdFx0XHQvLyBpZiAoZC5ob3ZlcmVkKSB7XG5cdFx0XHRcdFx0XHQvLyBcdHNlbGYudGlwLnNob3coZCwgaG92ZXJlZEl0ZW0ubm9kZSgpKTtcblx0XHRcdFx0XHRcdC8vIFx0Ly8gc2VsZi50aXAuc2hvdyhkKTtcblx0XHRcdFx0XHRcdC8vIH1cblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0aHRtbCA9IG1ha2VOb2RlVG9vbHRpcEh0bWwoZCk7XG5cdFx0XHRcdFx0XHRpZiAoY2FsbGJhY2sgIT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0XHRjYWxsYmFjayhodG1sKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHJldHVybiBodG1sXG5cblxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2UgaWYgKCBkLmlkeCA9PSAwICkge1xuXHRcdFx0XHRkLnRvb2x0aXBIdG1sID0gJzxwPic7XG5cdFx0XHRcdGlmIChkLm5vZGVUeXBlKSB7XG5cdFx0XHRcdFx0ZC50b29sdGlwSHRtbCA9IGQudG9vbHRpcEh0bWwgKyBkLm5vZGVUeXBlLmNhcGl0YWxpemUoKSArICc6ICc7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZC50b29sdGlwSHRtbCA9IGQudG9vbHRpcEh0bWwgKyBkLm5hbWU7XG5cdFx0XHRcdGQudG9vbHRpcEh0bWwgPSBkLnRvb2x0aXBIdG1sICsgJzwvcD4nO1xuXHRcdFx0XHR2YXIgbnVtYmVyT2ZQdWJzID0gZC5wYXBlcnMubGVuZ3RoO1xuXHRcdFx0XHRkLnRvb2x0aXBIdG1sID0gZC50b29sdGlwSHRtbCArICc8cD5OdW1iZXIgb2YgUHVibGljYXRpb25zOiAnICsgbnVtYmVyT2ZQdWJzICsgJzwvcD4nO1xuXHRcdFx0XHRodG1sID0gZC50b29sdGlwSHRtbDtcblx0XHRcdFx0aWYgKGNhbGxiYWNrICE9IG51bGwpIHtcblx0XHRcdFx0XHRjYWxsYmFjayhodG1sKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdFx0cmV0dXJuIGh0bWw7XG5cdFx0XHR9XG5cblx0XHR9KTtcblx0XHRyZXR1cm4gaHRtbDtcblx0fVxuXG5cdGZ1bmN0aW9uIGJ5cGFzc0FqYXgoZCkge1xuXHRcdGQudXBkYXRlZFByb3BzID0gdHJ1ZTtcblx0XHR2YXIgaHRtbCA9IG1ha2VOb2RlVG9vbHRpcEh0bWwoZCk7XG5cdFx0cmV0dXJuIGh0bWxcblx0fVxuXG5cdGZ1bmN0aW9uIG1ha2VOb2RlVG9vbHRpcEh0bWwoZCkge1xuXHRcdHZhciBzcGFuID0gJCggJzxzcGFuPicgKTtcblx0XHRzcGFuLmFwcGVuZCggJCggJzxwIGNsYXNzPVwidG9vbHRpcCB0aXRsZVwiPicgKS50ZXh0KGQuVGl0bGUpICk7XG5cdFx0c3Bhbi5hcHBlbmQoICQoICc8cCBjbGFzcz1cInRvb2x0aXAgYXV0aG9yc1wiPicgKS50ZXh0KGQuYXV0aG9yX3N0cikgKTtcblx0XHRzcGFuLmFwcGVuZCggJCggJzxwIGNsYXNzPVwidG9vbHRpcCB2ZW51ZVwiPicgKS50ZXh0KGQudmVudWUpICk7XG5cdFx0c3Bhbi5hcHBlbmQoICQoICc8cCBjbGFzcz1cInRvb2x0aXAgeWVhclwiPicgKS50ZXh0KGQuWWVhcikgKTtcblx0XHQvLyBzcGFuLmFwcGVuZCggJCggJzxwIGNsYXNzPVwidG9vbHRpcCBkb21haW5cIj4nICkudGV4dChcIkNhdGVnb3J5OiBcIiArIGQuRG9tYWluTmFtZSkgKTtcblx0XHRzcGFuLmFwcGVuZCggJCggJzxwIGNsYXNzPVwidG9vbHRpcCBkb21haW5cIj4nICkudGV4dChcIkNhdGVnb3JpZXM6IFwiICsgZC5GaWVsZF9vZl9zdHVkeV9uYW1lcykgKTtcblx0XHQvLyBzcGFuLmFwcGVuZCggJCggJzxwIGNsYXNzPVwidG9vbHRpcCBqc19kaXZcIj4nICkudGV4dChcIkpTIERpdmVyZ2VuY2U6IFwiICsgZC5qc19kaXYpICk7XG5cdFx0Ly8gc3Bhbi5hcHBlbmQoICQoICc8cCBjbGFzcz1cInRvb2x0aXAgYXZnX2Rpc3RhbmNlXCI+JyApLnRleHQoXCJBdmVyYWdlIGNsdXN0ZXIgZGlzdGFuY2U6IFwiICsgZC5hdmVyYWdlX2NsdXN0ZXJfZGlzdGFuY2VfdG9fY2VudGVyKSApO1xuXHRcdC8vIHNwYW4uYXBwZW5kKCAkKCAnPHAgY2xhc3M9XCJ0b29sdGlwIGZvc19rbWVhbnNfY2F0ZWdvcnlcIj4nICkudGV4dChcIkZPUyBLbWVhbnMgY2F0ZWdvcnk6IFwiICsgZC5mb3Nfa21lYW5zX2NhdGVnb3J5KSApO1xuXHRcdGQudG9vbHRpcEh0bWwgPSBzcGFuLmh0bWwoKTtcblx0XHR2YXIgaHRtbCA9IGQudG9vbHRpcEh0bWw7XG5cdFx0cmV0dXJuIGh0bWw7XG5cdFx0XG5cdH1cbn1cblxuZnVuY3Rpb24gbGVnZW5kVG9vbHRpcHMoKSB7XG5cdHZhciB3aW5kb3dXaWR0aCA9ICQod2luZG93KS53aWR0aCgpO1xuXHR2YXIgb3RoZXJIdG1sID0gJzxwPlRoZXNlIGFyZSBwYXBlcnMgaW4gY2F0ZWdvcmllcyBvdGhlciB0aGFuIHRoZSBvbmVzIGFib3ZlLiBQb2ludCB5b3VyIG1vdXNlIGF0IGEgc3BlY2lmaWMgcGFwZXIgdG8gc2VlIHRoZSBuYW1lIG9mIHRoZSBjYXRlZ29yeS48L3A+Jztcblx0JCgnLmxlZ2VuZEl0ZW0ub3RoZXInKS50b29sdGlwc3Rlcih7XG5cdFx0dGhlbWU6ICd0b29sdGlwc3Rlci1ub2lyJyxcblx0XHRtYXhXaWR0aDogd2luZG93V2lkdGggKiAuNSxcblx0XHRhbmltYXRpb246IG51bGwsXG5cdFx0YW5pbWF0aW9uZHVyYXRpb246IDAsXG5cdFx0ZGVsYXk6IDAsXG5cdFx0dXBkYXRlQW5pbWF0aW9uOiBudWxsLFxuXHRcdGNvbnRlbnQ6IG90aGVySHRtbCxcblx0XHRjb250ZW50QXNIVE1MOiB0cnVlXG5cdH0pO1xuXG5cdHZhciBoZWFkZXJIdG1sID0gXCI8cD5UaGUgZGF0YSB1bmRlcmx5aW5nIHRoaXMgdmlzdWFsaXphdGlvbiBjb21lcyBmcm9tIHRoZSBNaWNyb3NvZnQgQWNhZGVtaWMgR3JhcGguIEVhY2ggZG9jdW1lbnQgaGFzIG11bHRpcGxlIGFzc29jaWF0ZWQgRmllbGRzIG9mIFN0dWR5LiBIZXJlLCB0aGVzZSBGaWVsZHMgYXJlIGNvbWJpbmVkIHdpdGggdGhlIGRvY3VtZW50J3MgdGl0bGUsIHdlaWdodGVkIHVzaW5nIFRGLUlERiwgYW5kIGFzc2lnbmVkIGEgY2F0ZWdvcnkgdXNpbmcgSy1NZWFucyBjbHVzdGVyaW5nLiBNb3VzZSBvdmVyIHRoZSBjYXRlZ29yaWVzIHRvIGhpZ2hsaWdodCBpdHMgcGFwZXJzLCBhbmQgdG8gc2VlIG1vcmUgaW1wb3J0YW50IHRlcm1zLjwvcD5cIjtcblx0JCgnLmVnb0dyYXBoVmlzTGVnZW5kSGVhZGVyJykudG9vbHRpcHN0ZXIoe1xuXHRcdHRoZW1lOiAndG9vbHRpcHN0ZXItbm9pcicsXG5cdFx0bWF4V2lkdGg6IHdpbmRvd1dpZHRoICogLjUsXG5cdFx0YW5pbWF0aW9uOiBudWxsLFxuXHRcdGFuaW1hdGlvbmR1cmF0aW9uOiAwLFxuXHRcdGRlbGF5OiAwLFxuXHRcdHVwZGF0ZUFuaW1hdGlvbjogbnVsbCxcblx0XHRjb250ZW50OiBoZWFkZXJIdG1sLFxuXHRcdGNvbnRlbnRBc0hUTUw6IHRydWVcblx0fSk7XG5cblx0JCgnLmxlZ2VuZEl0ZW0nKS50b29sdGlwc3Rlcih7XG5cdFx0dGhlbWU6ICd0b29sdGlwc3Rlci1ub2lyJyxcblx0XHRtYXhXaWR0aDogd2luZG93V2lkdGggKiAuNSxcblx0XHRhbmltYXRpb246IG51bGwsXG5cdFx0YW5pbWF0aW9uZHVyYXRpb246IDAsXG5cdFx0ZGVsYXk6IDAsXG5cdFx0dXBkYXRlQW5pbWF0aW9uOiBudWxsLFxuXHRcdGNvbnRlbnQ6ICc8cD5Mb2FkaW5nLi4uPC9wPicsXG5cdFx0Y29udGVudEFzSFRNTDogdHJ1ZSxcblx0XHRmdW5jdGlvbkJlZm9yZTogZnVuY3Rpb24oaW5zdGFuY2UsIGhlbHBlcikge1xuXHRcdFx0dmFyIGxlZ2VuZEl0ZW0gPSBkMy5zZWxlY3QoaGVscGVyLm9yaWdpbik7XG5cdFx0XHRsZWdlbmRJdGVtLmVhY2goZnVuY3Rpb24oZCkge1xuXHRcdFx0XHR2YXIgaHRtbCA9IFwiPGgzPlRvcCB0ZXJtcyBpbiBjYXRlZ29yeSBcIiArIGQuRG9tYWluSUQgKyBcIjo8L2gzPlwiO1xuXHRcdFx0XHRodG1sID0gaHRtbCArIFwiPHVsPlwiXG5cdFx0XHRcdGZvciAodmFyIGkgPSAwLCBsZW4gPSBkLkRvbWFpbk5hbWUubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdFx0XHRodG1sID0gaHRtbCArIFwiPGxpPlwiICsgZC5Eb21haW5OYW1lW2ldICsgXCI8L2xpPlwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGh0bWwgPSBodG1sICsgXCI8L3VsPlwiXG5cdFx0XHRcdGluc3RhbmNlLmNvbnRlbnQoaHRtbCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH0pO1xuXHRcdH0sXG5cdH0pO1xufVxuLy8gaHR0cDovL2NvZGVyZXZpZXcuc3RhY2tleGNoYW5nZS5jb20vcXVlc3Rpb25zLzc3NjE0L2NhcGl0YWxpemUtdGhlLWZpcnN0LWNoYXJhY3Rlci1vZi1hbGwtd29yZHMtZXZlbi13aGVuLWZvbGxvd2luZy1hXG5TdHJpbmcucHJvdG90eXBlLmNhcGl0YWxpemUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoIC9cXGJcXHcvZywgZnVuY3Rpb24obSkge1xuICAgICAgICByZXR1cm4gbS50b1VwcGVyQ2FzZSgpO1xuICAgIH0pO1xufTtcblxuXG5mdW5jdGlvbiBlZ29HcmFwaFZpcyhkYXRhKSB7XG5cdHZhciBzZWxmID0gdGhpcztcblx0c2VsZi5kYXRhID0gZGF0YTtcblx0c2VsZi5ub3RFZ29Ob2RlcyA9IHNlbGYuZGF0YS5ub2Rlcy5zbGljZSgxKTtcblx0Y29uc29sZS5sb2coc2VsZi5kYXRhKTtcblxuXHQvLyBEZWZhdWx0c1xuXHQvLyBHcmFwaCBTVkcgRGltZW5zaW9uc1xuICAgIC8vIHNlbGYuZ3JhcGhEaW1lbnNpb25zID0ge1xuICAgIC8vICAgICB3aWR0aDogOTYwLFxuICAgIC8vICAgICBoZWlnaHQ6IDUwMFxuICAgIC8vIH07XG5cdHNlbGYuZ3JhcGhEaW1lbnNpb25zOyAgLy8gaW1wb3J0ZWQgaW4gc2VsZi5pbXBvcnREZWZhdWx0T3B0aW9ucyBiZWxvd1xuXHRcblx0c2VsZi5jb2xvclNjaGVtZTtcblxuICAgIC8vIE5vZGUgcGxhY2VtZW50IG9wdGlvbnM6XG4gICAgLy8gXCJmb3JjZTFcIjogbm9kZXMgcGxhY2VkIGJ5IHJ1bm5pbmcgdGhlIGZvcmNlIGxheW91dCBhbmQgdGhlbiBmcmVlemluZ1xuICAgIC8vIFwic3BpcmFsXCIgcGxhY2VzIHRoZSBub2RlcyBpbiBhIHNwaXJhbCBmb3JtYXRpb24gd2l0aCB0aGUgZWdvIG5vZGUgYXQgdGhlIGNlbnRlclxuXHQvLyBcInNwaXJhbDJcIjogYWx0ZXJuYXRlIHNwaXJhbCBhbGdvcml0aG1cbiAgICAvLyBBREQgTU9SRVxuICAgIHNlbGYubm9kZVBsYWNlbWVudE9wdGlvbnMgPSBbXCJmb3JjZTFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3BpcmFsXCIsXG5cdFx0XHRcdFx0XHRcdFx0IFwic3BpcmFsMlwiXTtcblx0c2VsZi5ub2RlUGxhY2VtZW50ID0gc2VsZi5ub2RlUGxhY2VtZW50T3B0aW9uc1sxXTtcblx0XG5cdHNlbGYuem9vbWFibGUgPSBmYWxzZTtcblxuXHRzZWxmLnN2ZztcbiAgICBzZWxmLmdyb3VwO1xuXHRzZWxmLm5vZGU7XG5cdHNlbGYubGluaztcblx0c2VsZi5lZ29Ob2RlO1xuXG5cdHNlbGYuZWlnZW5GYWN0b3JTY2FsZTtcblxuXHQvLyBzZWxmLmxvYWRpbmdUZXh0O1xuXG5cdHNlbGYuZG9tYWluc1RoaXNHcmFwaDtcbiAgICBzZWxmLmxlZ2VuZDtcblxuICAgIHNlbGYueWVhclRleHREaXNwbGF5O1xuXG4gICAgc2VsZi5hdXRob3JJbWFnZURpdjtcblxuICAgIHNlbGYudG9vbHRpcDtcblx0c2VsZi50aXA7XG5cblx0c2VsZi50aWNrO1xuXHRzZWxmLmZvcmNlO1xuXG4gICAgLy8gU2VlIGh0dHA6Ly9jb2xvcmJyZXdlcjIub3JnLz90eXBlPXF1YWxpdGF0aXZlJnNjaGVtZT1TZXQxJm49OFxuICAgIC8vIHNlbGYuY29sb3JTY2hlbWUgPSBbJ3JnYigyMjgsMjYsMjgpJywncmdiKDU1LDEyNiwxODQpJywncmdiKDc3LDE3NSw3NCknLFxuXHQvLyBcdCdyZ2IoMTUyLDc4LDE2MyknLCdyZ2IoMjU1LDEyNywwKScsJ3JnYigyNTUsMjU1LDUxKScsXG5cdC8vIFx0J3JnYigxNjYsODYsNDApJywncmdiKDI0NywxMjksMTkxKSddXG4gICAgLy8gLy8gSSBsaWtlZCB0aGUgYmx1ZSBiZXR0ZXIgZm9yIHRoZSBtYWluIGNvbG9yLCBzbyB0aGUgbmV4dCBsaW5lIGp1c3QgbW92ZXNcbiAgICAvLyAvLyB0aGUgYmx1ZSBjb2xvciAob3JpZ2luYWxseSBzZWxmLmNvbG9yU2NoZW1lWzFdKSB0byB0aGUgZnJvbnQgKHNlbGYuY29sb3JTY2hlbWVbMF0pXG4gICAgLy8gc2VsZi5jb2xvclNjaGVtZS5zcGxpY2UoMCwgMCwgc2VsZi5jb2xvclNjaGVtZS5zcGxpY2UoMSwgMSlbMF0pXG5cdHNlbGYuY29sb3JTY2hlbWU7ICAvLyBpbXBvcnRlZCBpbiBpbXBvcnREZWZhdWx0T3B0aW9ucyBiZWxvd1xuXG5cdC8vIGNvbnRpbnVvdXMgY29sb3Igc2NoZW1lIGJhc2VkIG9uIGplbnNlbi1zaGFubm9uIGRpdmVyZ2VuY2Vcblx0dmFyIHZpcmlkaXMgPSBbXCIjNDQwMTU0XCIsXCIjNDQwMjU2XCIsXCIjNDUwNDU3XCIsXCIjNDUwNTU5XCIsXCIjNDYwNzVhXCIsXCIjNDYwODVjXCIsXCIjNDYwYTVkXCIsXCIjNDYwYjVlXCIsXCIjNDcwZDYwXCIsXCIjNDcwZTYxXCIsXCIjNDcxMDYzXCIsXCIjNDcxMTY0XCIsXCIjNDcxMzY1XCIsXCIjNDgxNDY3XCIsXCIjNDgxNjY4XCIsXCIjNDgxNzY5XCIsXCIjNDgxODZhXCIsXCIjNDgxYTZjXCIsXCIjNDgxYjZkXCIsXCIjNDgxYzZlXCIsXCIjNDgxZDZmXCIsXCIjNDgxZjcwXCIsXCIjNDgyMDcxXCIsXCIjNDgyMTczXCIsXCIjNDgyMzc0XCIsXCIjNDgyNDc1XCIsXCIjNDgyNTc2XCIsXCIjNDgyNjc3XCIsXCIjNDgyODc4XCIsXCIjNDgyOTc5XCIsXCIjNDcyYTdhXCIsXCIjNDcyYzdhXCIsXCIjNDcyZDdiXCIsXCIjNDcyZTdjXCIsXCIjNDcyZjdkXCIsXCIjNDYzMDdlXCIsXCIjNDYzMjdlXCIsXCIjNDYzMzdmXCIsXCIjNDYzNDgwXCIsXCIjNDUzNTgxXCIsXCIjNDUzNzgxXCIsXCIjNDUzODgyXCIsXCIjNDQzOTgzXCIsXCIjNDQzYTgzXCIsXCIjNDQzYjg0XCIsXCIjNDMzZDg0XCIsXCIjNDMzZTg1XCIsXCIjNDIzZjg1XCIsXCIjNDI0MDg2XCIsXCIjNDI0MTg2XCIsXCIjNDE0Mjg3XCIsXCIjNDE0NDg3XCIsXCIjNDA0NTg4XCIsXCIjNDA0Njg4XCIsXCIjM2Y0Nzg4XCIsXCIjM2Y0ODg5XCIsXCIjM2U0OTg5XCIsXCIjM2U0YTg5XCIsXCIjM2U0YzhhXCIsXCIjM2Q0ZDhhXCIsXCIjM2Q0ZThhXCIsXCIjM2M0ZjhhXCIsXCIjM2M1MDhiXCIsXCIjM2I1MThiXCIsXCIjM2I1MjhiXCIsXCIjM2E1MzhiXCIsXCIjM2E1NDhjXCIsXCIjMzk1NThjXCIsXCIjMzk1NjhjXCIsXCIjMzg1ODhjXCIsXCIjMzg1OThjXCIsXCIjMzc1YThjXCIsXCIjMzc1YjhkXCIsXCIjMzY1YzhkXCIsXCIjMzY1ZDhkXCIsXCIjMzU1ZThkXCIsXCIjMzU1ZjhkXCIsXCIjMzQ2MDhkXCIsXCIjMzQ2MThkXCIsXCIjMzM2MjhkXCIsXCIjMzM2MzhkXCIsXCIjMzI2NDhlXCIsXCIjMzI2NThlXCIsXCIjMzE2NjhlXCIsXCIjMzE2NzhlXCIsXCIjMzE2ODhlXCIsXCIjMzA2OThlXCIsXCIjMzA2YThlXCIsXCIjMmY2YjhlXCIsXCIjMmY2YzhlXCIsXCIjMmU2ZDhlXCIsXCIjMmU2ZThlXCIsXCIjMmU2ZjhlXCIsXCIjMmQ3MDhlXCIsXCIjMmQ3MThlXCIsXCIjMmM3MThlXCIsXCIjMmM3MjhlXCIsXCIjMmM3MzhlXCIsXCIjMmI3NDhlXCIsXCIjMmI3NThlXCIsXCIjMmE3NjhlXCIsXCIjMmE3NzhlXCIsXCIjMmE3ODhlXCIsXCIjMjk3OThlXCIsXCIjMjk3YThlXCIsXCIjMjk3YjhlXCIsXCIjMjg3YzhlXCIsXCIjMjg3ZDhlXCIsXCIjMjc3ZThlXCIsXCIjMjc3ZjhlXCIsXCIjMjc4MDhlXCIsXCIjMjY4MThlXCIsXCIjMjY4MjhlXCIsXCIjMjY4MjhlXCIsXCIjMjU4MzhlXCIsXCIjMjU4NDhlXCIsXCIjMjU4NThlXCIsXCIjMjQ4NjhlXCIsXCIjMjQ4NzhlXCIsXCIjMjM4ODhlXCIsXCIjMjM4OThlXCIsXCIjMjM4YThkXCIsXCIjMjI4YjhkXCIsXCIjMjI4YzhkXCIsXCIjMjI4ZDhkXCIsXCIjMjE4ZThkXCIsXCIjMjE4ZjhkXCIsXCIjMjE5MDhkXCIsXCIjMjE5MThjXCIsXCIjMjA5MjhjXCIsXCIjMjA5MjhjXCIsXCIjMjA5MzhjXCIsXCIjMWY5NDhjXCIsXCIjMWY5NThiXCIsXCIjMWY5NjhiXCIsXCIjMWY5NzhiXCIsXCIjMWY5ODhiXCIsXCIjMWY5OThhXCIsXCIjMWY5YThhXCIsXCIjMWU5YjhhXCIsXCIjMWU5Yzg5XCIsXCIjMWU5ZDg5XCIsXCIjMWY5ZTg5XCIsXCIjMWY5Zjg4XCIsXCIjMWZhMDg4XCIsXCIjMWZhMTg4XCIsXCIjMWZhMTg3XCIsXCIjMWZhMjg3XCIsXCIjMjBhMzg2XCIsXCIjMjBhNDg2XCIsXCIjMjFhNTg1XCIsXCIjMjFhNjg1XCIsXCIjMjJhNzg1XCIsXCIjMjJhODg0XCIsXCIjMjNhOTgzXCIsXCIjMjRhYTgzXCIsXCIjMjVhYjgyXCIsXCIjMjVhYzgyXCIsXCIjMjZhZDgxXCIsXCIjMjdhZDgxXCIsXCIjMjhhZTgwXCIsXCIjMjlhZjdmXCIsXCIjMmFiMDdmXCIsXCIjMmNiMTdlXCIsXCIjMmRiMjdkXCIsXCIjMmViMzdjXCIsXCIjMmZiNDdjXCIsXCIjMzFiNTdiXCIsXCIjMzJiNjdhXCIsXCIjMzRiNjc5XCIsXCIjMzViNzc5XCIsXCIjMzdiODc4XCIsXCIjMzhiOTc3XCIsXCIjM2FiYTc2XCIsXCIjM2JiYjc1XCIsXCIjM2RiYzc0XCIsXCIjM2ZiYzczXCIsXCIjNDBiZDcyXCIsXCIjNDJiZTcxXCIsXCIjNDRiZjcwXCIsXCIjNDZjMDZmXCIsXCIjNDhjMTZlXCIsXCIjNGFjMTZkXCIsXCIjNGNjMjZjXCIsXCIjNGVjMzZiXCIsXCIjNTBjNDZhXCIsXCIjNTJjNTY5XCIsXCIjNTRjNTY4XCIsXCIjNTZjNjY3XCIsXCIjNThjNzY1XCIsXCIjNWFjODY0XCIsXCIjNWNjODYzXCIsXCIjNWVjOTYyXCIsXCIjNjBjYTYwXCIsXCIjNjNjYjVmXCIsXCIjNjVjYjVlXCIsXCIjNjdjYzVjXCIsXCIjNjljZDViXCIsXCIjNmNjZDVhXCIsXCIjNmVjZTU4XCIsXCIjNzBjZjU3XCIsXCIjNzNkMDU2XCIsXCIjNzVkMDU0XCIsXCIjNzdkMTUzXCIsXCIjN2FkMTUxXCIsXCIjN2NkMjUwXCIsXCIjN2ZkMzRlXCIsXCIjODFkMzRkXCIsXCIjODRkNDRiXCIsXCIjODZkNTQ5XCIsXCIjODlkNTQ4XCIsXCIjOGJkNjQ2XCIsXCIjOGVkNjQ1XCIsXCIjOTBkNzQzXCIsXCIjOTNkNzQxXCIsXCIjOTVkODQwXCIsXCIjOThkODNlXCIsXCIjOWJkOTNjXCIsXCIjOWRkOTNiXCIsXCIjYTBkYTM5XCIsXCIjYTJkYTM3XCIsXCIjYTVkYjM2XCIsXCIjYThkYjM0XCIsXCIjYWFkYzMyXCIsXCIjYWRkYzMwXCIsXCIjYjBkZDJmXCIsXCIjYjJkZDJkXCIsXCIjYjVkZTJiXCIsXCIjYjhkZTI5XCIsXCIjYmFkZTI4XCIsXCIjYmRkZjI2XCIsXCIjYzBkZjI1XCIsXCIjYzJkZjIzXCIsXCIjYzVlMDIxXCIsXCIjYzhlMDIwXCIsXCIjY2FlMTFmXCIsXCIjY2RlMTFkXCIsXCIjZDBlMTFjXCIsXCIjZDJlMjFiXCIsXCIjZDVlMjFhXCIsXCIjZDhlMjE5XCIsXCIjZGFlMzE5XCIsXCIjZGRlMzE4XCIsXCIjZGZlMzE4XCIsXCIjZTJlNDE4XCIsXCIjZTVlNDE5XCIsXCIjZTdlNDE5XCIsXCIjZWFlNTFhXCIsXCIjZWNlNTFiXCIsXCIjZWZlNTFjXCIsXCIjZjFlNTFkXCIsXCIjZjRlNjFlXCIsXCIjZjZlNjIwXCIsXCIjZjhlNjIxXCIsXCIjZmJlNzIzXCIsXCIjZmRlNzI1XCJdO1xuXHR2YXIgc3BlY3RyYWw4ID0gWycjZDUzZTRmJywgJyNmNDZkNDMnLCAnI2ZkYWU2MScsICcjZmVlMDhiJywgJyNlNmY1OTgnLCAnI2FiZGRhNCcsICcjNjZjMmE1JywgJyMzMjg4YmQnXTtcblx0dmFyIHJhaW5ib3cgPSBbXCIjMmM3YmI2XCIsIFwiIzAwYTZjYVwiLFwiIzAwY2NiY1wiLFwiIzkwZWI5ZFwiLFwiI2ZmZmY4Y1wiLCBcIiNmOWQwNTdcIixcIiNmMjllMmVcIixcIiNlNzY4MThcIixcIiNkNzE5MWNcIl1cblx0c2VsZi5KU0RDb2xvclNjYWxlID0gZDMuc2NhbGUubGluZWFyKClcblx0XHQuZG9tYWluKGQzLmV4dGVudChzZWxmLm5vdEVnb05vZGVzLCBmdW5jdGlvbihkKSB7cmV0dXJuIGQuanNfZGl2O30pKVxuXHRcdC5yYW5nZShbXCJyZWRcIiwgXCJibHVlXCJdKTtcblx0c2VsZi5DbHVzdGVyRGlzdGFuY2VDb2xvclNjYWxlID0gZDMuc2NhbGUubGluZWFyKClcblx0XHQuZG9tYWluKGQzLmV4dGVudChzZWxmLm5vdEVnb05vZGVzLCBmdW5jdGlvbihkKSB7cmV0dXJuIGQuYXZlcmFnZV9jbHVzdGVyX2Rpc3RhbmNlX3RvX2NlbnRlcjt9KSlcblx0XHQucmFuZ2Uoc3BlY3RyYWw4KTtcblxuICAgIC8vIE9wYWNpdHkgdmFsdWVzXG4gICAgc2VsZi5vcGFjaXR5VmFscyA9IHtcblx0XHRub2RlOiAxLCBcblx0XHRub2RlUHJldlllYXI6IC42LFxuXHRcdGxpbmtUb0VnbzogLjEyLFxuXHRcdGxpbmtOb3RUb0VnbzogLjEyLFxuXHRcdGxpbmtQcmV2WWVhcjogLjA0XG5cdH07XG5cblx0c2VsZi5kb0Fubm90YXRpb25zID0gZmFsc2U7XG5cbiAgICBzZWxmLmFuaW1hdGlvblN0YXRlOyAgLy8gXCJmb3J3YXJkXCIsIFwicmV3aW5kXCIsIFwic3RvcHBlZFwiXG5cdHNlbGYudHJhbnNpdGlvblRpbWVQZXJZZWFyOyAvLyBpbXBvcnRlZCBpbiBpbXBvcnREZWZhdWx0T3B0aW9ucyBiZWxvd1xuXHQvLyBzZWxmLnRyYW5zaXRpb25UaW1lUGVyTm9kZSA9IDEwMDsgIC8vIFRFU1Rcblx0c2VsZi50cmFuc2l0aW9uVGltZVBlck5vZGU7IC8vIGNhbGN1bGF0ZWQgaW4gY2FsY3VsYXRlVHJhbnNpdGlvblRpbWUoKVxuICAgIC8vIHNlbGYubm9kZUFwcGVhckR1cmF0aW9uID0gc2VsZi50cmFuc2l0aW9uVGltZVBlck5vZGUgKiA0O1xuXHQvLyBJIGhhdmVuJ3QgYWN0dWFsbHkgZ290dGVuIGl0IHRvIHdvcmsgaGF2aW5nIGRpZmZlcmVudCB0cmFuc2l0aW9uVGltZVBlck5vZGUgYW5kIG5vZGVBcHBlYXJEdXJhdGlvblxuXHRzZWxmLmxpbmtBcHBlYXJEdXJhdGlvbiA9IDUwMDtcbiAgICBzZWxmLmN1cnJOb2RlSW5kZXg7ICAvLyBJbmRleCBvZiBub2RlIGN1cnJlbnRseSBiZWluZyBhbm5vdGF0ZWRcbiAgICBzZWxmLmRlc3RpbmF0aW9uTm9kZUluZGV4OyAgLy8gSW5kZXggb2Ygbm9kZSB0byB3aGljaCB0aGUgYW5pbWF0aW9uIGlzIGN1cnJlbnRseSBtb3ZpbmdcbiAgICBzZWxmLmRlc3RpbmF0aW9uWWVhcjtcbiAgICBzZWxmLmN1cnJZZWFyO1xuXG5cdC8vIHNlbGYuZGVzdGluYXRpb25Ob2RlSW5kZXggPSAyMDA7ICAvLyBURVNUXG5cdHNlbGYuZGVzdGluYXRpb25Ob2RlSW5kZXggPSBzZWxmLmRhdGEubm9kZXMubGVuZ3RoLTE7ICAvLyBURVNUXG5cblx0Ly90ZXN0aW5nXG5cdHNlbGYuYyA9IDA7XG5cdHNlbGYudHQgPSAwO1xuXG5cdC8vIHNlbGYuaW5pdCgpO1xuXG5cdHJldHVybiBzZWxmO1xuXG59XG5cbmVnb0dyYXBoVmlzLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XG5cdHZhciBzZWxmID0gdGhpcztcblxuICAgIHNlbGYudGljayA9IHNlbGYubWFrZVRpY2soKTtcbiAgICBzZWxmLmZvcmNlID0gc2VsZi5tYWtlRm9yY2UoKTtcblx0aWYgKHNlbGYuem9vbWFibGUgPT09IHRydWUpIHtcblx0XHRzZWxmLnpvb20gPSBzZWxmLm1ha2Vab29tKCk7XG5cdH1cbiAgICAvLyBzZWxmLmRyYWcgPSBzZWxmLm1ha2VEcmFnKCk7XG5cdFxuXHRzZWxmLmFuaW1hdGlvblN0YXRlID0gJ2luaXQnO1xuXG5cdHNlbGYuZ2V0RG9tYWluc1RoaXNHcmFwaCgpO1xuXG5cdHNlbGYuc3ZnID0gZDMuc2VsZWN0KCcjZ3JhcGhEaXYnKS5hcHBlbmQoJ3N2ZycpXG5cdFx0LmF0dHIoJ2lkJywgJ2dyYXBoU3ZnJylcblx0XHQuYXR0cignd2lkdGgnLCBzZWxmLmdyYXBoRGltZW5zaW9ucy53aWR0aClcblx0XHQuYXR0cignaGVpZ2h0Jywgc2VsZi5ncmFwaERpbWVuc2lvbnMuaGVpZ2h0KTtcblxuXHQvLyBzZWxmLnRpcCA9IGQzLnRpcCgpXG5cdC8vIFx0LmF0dHIoJ2NsYXNzJywgJ2QzLXRpcCcpXG5cdC8vIFx0LnN0eWxlKCdjdXJzb3InLCAnZGVmYXVsdCcpXG5cdC8vIFx0LnN0eWxlKCdib3JkZXItc3R5bGUnLCAnc29saWQnKVxuXHQvLyBcdC8vIC5zdHlsZSgnYm9yZGVyLWNvbG9yJywgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5jb2xvcjsgfSlcblx0Ly8gXHQuc3R5bGUoJ3BvaW50ZXItZXZlbnRzJywgJ25vbmUnKTtcblx0Ly8gc2VsZi5zdmcuY2FsbChzZWxmLnRpcCk7XG5cbiAgICBzZWxmLmdyb3VwID0gc2VsZi5zdmcuYXBwZW5kKCdnJylcblx0XHQgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnZ3JhcGhDb250YWluZXInKVxuICAgIHNlbGYubGluayA9IHNlbGYuZ3JvdXAuYXBwZW5kKCdzdmc6ZycpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdsaW5rcycpXG4gICAgICAgICAgICAgICAgICAgIC5zZWxlY3RBbGwoJy5saW5rJyk7XG4gICAgc2VsZi5ub2RlID0gc2VsZi5ncm91cC5hcHBlbmQoJ3N2ZzpnJylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ25vZGVzJylcbiAgICAgICAgICAgICAgICAgICAgLnNlbGVjdEFsbCgnLm5vZGUnKTtcblx0XG4gICAgLy8gSW5pdGlhbGl6ZSB0b29sdGlwIGZvciBub2RlcyAod2hpY2ggd2lsbCBiZSB2aXNpYmxlIG9uIG1vdXNlb3ZlciBvZiBub2RlcylcbiAgICBzZWxmLnRvb2x0aXAgPSBkMy5zZWxlY3QoJ2JvZHknKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCdkaXYnKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnbm9kZVRvb2x0aXAnKVxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ3Bvc2l0aW9uJywgJ2Fic29sdXRlJylcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCd3aWR0aCcsIHNlbGYuZ3JhcGhEaW1lbnNpb25zLndpZHRoIC8gNCArICdweCcpXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnei1pbmRleCcsICcxMCcpXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgndmlzaWJpbGl0eScsICdoaWRkZW4nKTtcblxuXHQvLyBBZGQgc3BlY2lhbCBwcm9wZXJ0aWVzIHRvIHRoZSBlZ28gbm9kZTpcblx0c2VsZi5kYXRhLm5vZGVzWzBdLmZpeGVkID0gdHJ1ZTtcblx0Ly8gcG9zaXRpb24gaW4gY2VudGVyXG5cdHNlbGYuZGF0YS5ub2Rlc1swXS54ID0gc2VsZi5ncmFwaERpbWVuc2lvbnMud2lkdGgvMjtcblx0c2VsZi5kYXRhLm5vZGVzWzBdLnkgPSBzZWxmLmdyYXBoRGltZW5zaW9ucy5oZWlnaHQvMjtcblx0Ly8gc2VsZi5kYXRhLm5vZGVzWzBdLmNvbG9yID0gc2VsZi5jb2xvclNjaGVtZVswXTtcblx0c2VsZi5kYXRhLm5vZGVzWzBdLmNvbG9yID0gc2VsZi5KU0RDb2xvclNjYWxlKDApO1xuXHRzZWxmLmVnb05vZGUgPSBzZWxmLmRhdGEubm9kZXNbMF07XG5cdFxuXHQvLyBTZXQgdXAgYSBzY2FsZSBmb3IgRWlnZW5mYWN0b3IgaW4gb3JkZXIgdG8gZW5jb2RlIHNpemUgb2Ygbm9kZXMgYnkgRWlnZW5mYWN0b3IgKGluZmx1ZW5jZSlcblx0dmFyIGVpZ2VuRmFjdG9yTWF4ID0gZDMubWF4KHNlbGYuZGF0YS5ub2RlcywgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5FRjsgfSk7XG5cdHNlbGYuZWlnZW5GYWN0b3JTY2FsZSA9IGQzLnNjYWxlLmxpbmVhcigpXG5cdFx0LmRvbWFpbihbMCwgZWlnZW5GYWN0b3JNYXhdKVxuXHRcdC5yYW5nZShbMCwgMV0pO1xuXHRzZWxmLmRhdGEubm9kZXMuZm9yRWFjaChmdW5jdGlvbihkKSB7XG5cdFx0aWYgKGQubm9kZVR5cGUgPT09ICdwYXBlcicpIHtcblx0XHRcdGQucmFkaXVzID0gNC41ICsgKHNlbGYuZWlnZW5GYWN0b3JTY2FsZShkLkVGKSAqIDEwKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZC5yYWRpdXMgPSAxMDtcblx0XHR9XG5cdH0pO1xuXG4gICAgLy8gYWRkIGdyYXBoIHByb3BlcnRpZXNcblx0c2VsZi5mb3JjZS5ub2RlcyhzZWxmLmRhdGEubm9kZXMpO1xuXHRcbiAgICAvLyB1cGRhdGUgbm9kZSBlbGVtZW50c1xuICAgIHNlbGYubm9kZSA9IHNlbGYubm9kZS5kYXRhKHNlbGYuZGF0YS5ub2Rlcyk7XG4gICAgLy9zZWxmLm5vZGUuZXhpdCgpLnJlbW92ZSgpO1xuICAgIHZhciBuZXdOb2RlID0gc2VsZi5ub2RlLmVudGVyKCk7XG5cbiAgICBuZXdOb2RlID0gbmV3Tm9kZS5hcHBlbmQoJ3N2ZzpjaXJjbGUnKVxuXHRcdC8vdGVzdFxuXHRcdC5hdHRyKCdjbGFzcycsICdub2RlJylcblx0XHQvLyBhZGQgY2xhc3MgZm9yIHRoZSBjZW50ZXIgbm9kZVxuXHRcdC5jbGFzc2VkKCdjZW50ZXJOb2RlJywgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5pZCA9PT0gc2VsZi5lZ29Ob2RlLmlkOyB9KVxuXHRcdC5hdHRyKCdyJywgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5yYWRpdXM7IH0pXG4gICAgICAgIC8vIC5hdHRyKCdjbGFzcycsICdub2RlIGhpZGRlbicpXG4gICAgICAgIC8vIFwiVFwiIGF0dHJpYnV0ZSB3aWxsIGtlZXAgdHJhY2sgb2YgdGhlIHRyYW5zaXRpb24gdGltZSBlbGFwc2VkXG4gICAgICAgIC5hdHRyKCdUJywgMClcbiAgICAgICAgLy8gU3RhcnQgd2l0aCB0aGUgbm9kZSBpbnZpc2libGVcbiAgICAgICAgLmF0dHIoJ3InLDFlLTkpXG5cdFx0LmVhY2goZnVuY3Rpb24oZCkge1xuXHRcdFx0ZC5Eb21haW5OYW1lID0gc2VsZi5kYXRhLmdyYXBoLkRvbWFpbnNbZC5Eb21haW5JRF07XG5cdFx0XHQvLyBmb3IgKHZhciBpPTA7IGk8c2VsZi5kb21haW5zVGhpc0dyYXBoLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHQvLyBcdHZhciB0aGlzRG9tYWluID0gc2VsZi5kb21haW5zVGhpc0dyYXBoW2ldLmtleVxuXHRcdFx0Ly8gXHRpZiAodGhpc0RvbWFpbj09ZC5Eb21haW5JRCkge1xuXHRcdFx0Ly8gXHRcdC8vIHZhciB0aGlzQ29sb3IgPSBzZWxmLmNvbG9yU2NoZW1lW2ldO1xuXHRcdFx0Ly8gXHRcdHZhciB0aGlzQ29sb3IgPSBzZWxmLmRvbWFpbnNUaGlzR3JhcGhbaV0uY29sb3I7XG5cdFx0XHQvLyBcdFx0ZC5jb2xvciA9IHRoaXNDb2xvcjtcblx0XHRcdC8vIFx0fVxuXHRcdFx0Ly8gfVxuXHRcdFx0Ly8gZC5jb2xvciA9IHNlbGYuSlNEQ29sb3JTY2FsZShkLmpzX2Rpdik7XG5cdFx0XHQvLyBkLmNvbG9yID0gc2VsZi5DbHVzdGVyRGlzdGFuY2VDb2xvclNjYWxlKGQuYXZlcmFnZV9jbHVzdGVyX2Rpc3RhbmNlX3RvX2NlbnRlcik7XG5cblx0XHRcdC8vIGQuY29sb3IgPSBzZWxmLmNvbG9yU2NoZW1lW2QuZm9zX2ttZWFuc19jYXRlZ29yeV07XG5cdFx0XHRkLmNvbG9yID0gc2VsZi5jb2xvclNjaGVtZVtkLnRmaWRmX2ttZWFuc19jYXRlZ29yeV07XG5cdFx0fSlcbiAgICAgICAgLy8gQ29sb3IgYnkgZGlmZmVyZW50IGNhdGVnb3JpZXMgb2YgaG93IHNpbWlsYXIgdGhlIG5vZGUncyBjbHVzdGVyIGlzIHRvIHRoZSBlZ28gbm9kZVxuICAgICAgICAuYXR0cignZmlsbCcsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgIC8vIGNvbG9yIHRoZSBub2RlcyBiYXNlZCBvbiBEb21haW5JRFxuXHRcdFx0cmV0dXJuIGQuY29sb3JcbiAgICAgICAgfSlcbiAgICAgICAgLnN0eWxlKCdvcGFjaXR5Jywgc2VsZi5vcGFjaXR5VmFscy5ub2RlKTtcblxuICAgIG5ld05vZGUuY2FsbChzZWxmLmZvcmNlLmRyYWcpO1xuXG5cdC8vIHNlbGYuZWdvTm9kZSA9IHNlbGYubm9kZS5maWx0ZXIoZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5pZHggPT09IDA7IH0pO1xuXHRcbiAgICAvLyB1cGRhdGUgbGluayBlbGVtZW50c1xuXHRzZWxmLmZvcmNlLmxpbmtzKHNlbGYuZGF0YS5saW5rcyk7XG5cbiAgICBzZWxmLmxpbmsgPSBzZWxmLmxpbmsuZGF0YShzZWxmLmRhdGEubGlua3MpO1xuICAgIC8vc2VsZi5saW5rLmV4aXQoKS5yZW1vdmUoKTtcblx0dmFyIG5ld0xpbmsgPSBzZWxmLmxpbmtcblx0XHQuZW50ZXIoKVxuXHRcdC5hcHBlbmQoJ3N2ZzpsaW5lJylcblx0XHQuYXR0cignY2xhc3MnLCBmdW5jdGlvbihkKSB7XG5cdFx0XHQvLyBpZiAoZC50YXJnZXQgPT09IDApIHsgcmV0dXJuICdsaW5rIHRvRWdvIGxpbmtUb0Vnbyc7IH1cblx0XHRcdC8vIGVsc2UgeyByZXR1cm4gJ2xpbmsgbm90VG9FZ28gbGlua05vdFRvRWdvJzsgfVxuXHRcdFx0aWYgKGQudGFyZ2V0ID09PSAwKSB7IHJldHVybiAnbGluayBoaWRkZW4gdG9FZ28gbGlua1RvRWdvJzsgfVxuXHRcdFx0ZWxzZSB7IHJldHVybiAnbGluayBoaWRkZW4gbm90VG9FZ28gbGlua05vdFRvRWdvJzsgfVxuXHRcdH0pXG5cdFx0Ly8gXCJUXCIgYXR0cmlidXRlIHdpbGwga2VlcCB0cmFjayBvZiB0aGUgdHJhbnNpdGlvbiB0aW1lIGVsYXBzZWRcblx0XHQuYXR0cignVCcsIDApXG5cdFx0Ly8gTGlua3MgdG8gdGhlIGVnbyBub2RlIGFyZSBkYXJrZXIgdGhhbiBsaW5rcyBiZXR3ZWVuIHRoZSBvdGhlcnNcblx0XHQuc3R5bGUoJ29wYWNpdHknLCBmdW5jdGlvbihkKSB7XG5cdFx0XHR2YXIgb3BWYWxzID0gc2VsZi5vcGFjaXR5VmFscztcblx0XHRcdGlmIChkLmxpbmtUb0Vnbykge1xuXHRcdFx0XHRyZXR1cm4gb3BWYWxzLmxpbmtUb0Vnbztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBvcFZhbHMubGlua05vdFRvRWdvO1xuXHRcdFx0fVxuXHRcdFx0Ly8gcmV0dXJuIC41O1xuXHRcdFx0Ly8gaWYgKGQudGFyZ2V0ID09PSAwKSB7IHJldHVybiBzZWxmLmdyYXBoUGFyYW1zLm9wYWNpdHlWYWxzLnZhbHVlLmxpbmtUb0VnbzsgfVxuXHRcdFx0Ly8gZWxzZSB7IHJldHVybiBzZWxmLmdyYXBoUGFyYW1zLm9wYWNpdHlWYWxzLnZhbHVlLmxpbmtOb3RUb0VnbzsgfVxuXHRcdH0pO1xuXG5cdGZ1bmN0aW9uIHBsYWNlTm9kZXMoKSB7XG5cdFx0Ly8gVGhpcyBmdW5jdGlvbiB3aWxsIGRldGVybWluZSB0aGUgZmluYWwgc3BhdGlhbCBwbGFjZW1lbnQgb2YgYWxsIG9mIHRoZSBub2Rlcy5cblxuXHRcdHN3aXRjaCAoc2VsZi5ub2RlUGxhY2VtZW50KSB7XG5cdFx0XHRjYXNlIHNlbGYubm9kZVBsYWNlbWVudE9wdGlvbnNbMF06XG5cdFx0XHRcdC8vIFBsYWNlIHRoZSBub2RlcyB1c2luZyB0aGUgZm9yY2UgbGF5b3V0LlxuXHRcdFx0XHQvLyBVc2VzIHRoZSBmb3JjZSBsYXlvdXQgcGFyYW1ldGVycyBpbiBzZWxmLm1ha2VGb3JjZVxuXHRcdFx0XHRzZWxmLmZvcmNlLnN0YXJ0KCk7XG5cdFx0XHRcdC8vIEV4ZWN1dGUgZm9yY2UgYSBiaXQsIHRoZW4gc3RvcFxuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaTwxMDAwMDA7ICsraSkgc2VsZi5mb3JjZS50aWNrKCk7XG5cdFx0XHRcdHNlbGYuZm9yY2Uuc3RvcCgpO1xuXHRcdFx0XHRuZXdOb2RlLmVhY2goZnVuY3Rpb24oZCkgeyBkLmZpeGVkID0gdHJ1ZTsgfSk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIHNlbGYubm9kZVBsYWNlbWVudE9wdGlvbnNbMV06XG5cdFx0XHRcdC8vIFBsYWNlIHRoZSBub2RlcyBpbiBzcGlyYWwgZm9ybWF0aW9uLlxuXHRcdFx0XHR2YXIgY3ggPSBzZWxmLmVnb05vZGUueCxcblx0XHRcdCAgICAgICAgY3kgPSBzZWxmLmVnb05vZGUueSxcblx0XHRcdCAgICAgICAgLy8gaW5pdGlhbFJhZCA9IDYwO1xuXHRcdFx0ICAgICAgICBpbml0aWFsUmFkID0gMjA7XG5cdFx0XHRcdHZhciBudW1Ob2RlcyA9IHNlbGYuZGF0YS5ub2Rlcy5sZW5ndGg7XG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKG51bU5vZGVzKTtcblx0XHRcdFx0bmV3Tm9kZS5lYWNoKGZ1bmN0aW9uKGQsIGkpIHtcblx0XHRcdFx0XHRpZiAoZC5pZHggIT0gMCkge1xuXHRcdFx0XHRcdFx0ZC5maXhlZCA9IHRydWU7XG5cdFx0XHRcdFx0XHQvLyB2YXIgdGhpc1JhZCA9IGkgKiAyICsgaW5pdGlhbFJhZDtcblx0XHRcdFx0XHRcdC8vIHZhciB0aGlzU3BhY2luZyA9IGkgKiAoTWF0aC5QSS8oOC41Ky4xKmkpKTtcblxuXHRcdFx0XHRcdFx0dmFyIHRoaXNSYWQgPSBNYXRoLnBvdyhpLCAxKSAqIC45NSArIGluaXRpYWxSYWQ7XG5cdFx0XHRcdFx0XHR2YXIgdGhpc1NwYWNpbmcgPSBpICogKE1hdGguUEkvKDguNSsuMDUqaSkpO1xuXHRcdFx0XHRcdFx0ZC54ID0gY3ggKyAodGhpc1JhZCAqIE1hdGguY29zKHRoaXNTcGFjaW5nKSk7XG5cdFx0XHRcdFx0XHRkLnkgPSBjeSArICh0aGlzUmFkICogTWF0aC5zaW4odGhpc1NwYWNpbmcpKTtcblx0XHRcdFx0XHRcdC8vIHZhciBhbmdsZSA9IDAuMSAqIGk7XG5cdFx0XHRcdFx0XHQvLyBkLnggPSBjeCArIHRoaXNSYWQgKiBNYXRoLmNvcyhhbmdsZSk7XG5cdFx0XHRcdFx0XHQvLyBkLnkgPSBjeSArIHRoaXNSYWQgKiBNYXRoLnNpbihhbmdsZSk7XG5cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRzZWxmLmZvcmNlLnN0YXJ0KCk7XG5cdFx0XHRcdHNlbGYuZm9yY2UudGljaygpO1xuXHRcdFx0XHRzZWxmLmZvcmNlLnN0b3AoKTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2Ugc2VsZi5ub2RlUGxhY2VtZW50T3B0aW9uc1syXTpcblx0XHRcdFx0Ly8gQWx0ZXJuYXRlIHNwaXJhbCBhbGdvcml0aG1cblx0XHRcdFx0Ly9cblx0XHRcdFx0Ly8gaHR0cDovL2dhbWVkZXYuc3RhY2tleGNoYW5nZS5jb20vcXVlc3Rpb25zLzE2NzQ1L21vdmluZy1hLXBhcnRpY2xlLWFyb3VuZC1hbi1hcmNoaW1lZGVhbi1zcGlyYWwtYXQtYS1jb25zdGFudC1zcGVlZFxuXHRcdFx0XHRmdW5jdGlvbiBjb21wdXRlQW5nbGUoYWxwaGEsIGFyY0xlbmd0aCwgZXBzaWxvbikge1xuXHRcdFx0XHRcdC8vIGFscGhhOiBkaXN0YW5jZSBiZXR3ZWVuIHN1Y2Nlc3NpdmUgdHVybmluZ3Ncblx0XHRcdFx0XHQvLyBhcmNMZW5ndGg6IGRlc2lyZWQgYXJjTGVuZ3RoXG5cdFx0XHRcdFx0Ly8gZXBzaWxvbjogKHZhbHVlID4wKSBpbmRpY2F0ZXMgdGhlIHByZWNpc2lvbiBvZiB0aGUgYXBwcm94aW1hdGlvblxuXHRcdFx0XHRcdC8vIHJldHVybnM6IGFuZ2xlIGF0IHdoaWNoIHRoZSBkZXNpcmVkIGFyY0xlbmd0aCBpcyBhY2hpZXZlZFxuXHRcdFx0XHRcdHZhciBhbmdsZVJhZCA9IE1hdGguUEkgKyBNYXRoLlBJO1xuXHRcdFx0XHRcdHdoaWxlICh0cnVlKSB7XG5cdFx0XHRcdFx0XHR2YXIgZCA9IGNvbXB1dGVBcmNMZW5ndGgoYWxwaGEsIGFuZ2xlUmFkKSAtIGFyY0xlbmd0aDtcblx0XHRcdFx0XHRcdGlmIChNYXRoLmFicyhkKSA8PSBlcHNpbG9uKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBhbmdsZVJhZDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHZhciBkYSA9IGFscGhhICogTWF0aC5zcXJ0KGFuZ2xlUmFkICogYW5nbGVSYWQgKyAxKTtcblx0XHRcdFx0XHRcdGFuZ2xlUmFkID0gYW5nbGVSYWQgLSAoZCAvIGRhKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0ZnVuY3Rpb24gY29tcHV0ZUFyY0xlbmd0aChhbHBoYSwgYW5nbGVSYWQpIHtcblx0XHRcdFx0XHR2YXIgdSA9IE1hdGguc3FydCgxICsgYW5nbGVSYWQgKiBhbmdsZVJhZCk7XG5cdFx0XHRcdFx0dmFyIHYgPSBNYXRoLmxvZyhhbmdsZVJhZCArIHUpO1xuXHRcdFx0XHRcdHJldHVybiAwLjUgKiBhbHBoYSAqIChhbmdsZVJhZCAqIHUgKyB2KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRmdW5jdGlvbiBjb21wdXRlUG9pbnQoYWxwaGEsIGFuZ2xlUmFkKSB7XG5cdFx0XHRcdFx0dmFyIGRpc3RhbmNlID0gYW5nbGVSYWQgKiBhbHBoYTtcblx0XHRcdFx0XHR2YXIgeCA9IE1hdGguc2luKGFuZ2xlUmFkKSAqIGRpc3RhbmNlO1xuXHRcdFx0XHRcdHZhciB5ID0gTWF0aC5jb3MoYW5nbGVSYWQpICogZGlzdGFuY2U7XG5cdFx0XHRcdFx0cmV0dXJuIFt4LCB5XTtcblx0XHRcdFx0fVxuXHRcdFx0XHRmdW5jdGlvbiBnZXRBbmdsZXMobnVtTm9kZXMsIGFscGhhKSB7XG5cdFx0XHRcdFx0dmFyIHBvaW50QXJjRGlzdGFuY2UgPSA1O1xuXHRcdFx0XHRcdHZhciBlcHNpbG9uID0gLjAwMDA1O1xuXHRcdFx0XHRcdHZhciB0b3RhbEFyY0xlbmd0aCA9IDAuMDtcblx0XHRcdFx0XHR2YXIgcHJldmlvdXNBbmdsZVJhZCA9IDAuMDtcblx0XHRcdFx0XHR2YXIgYW5nbGVzID0gW107XG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IG51bU5vZGVzOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdFx0XHRcdHZhciBhbmdsZVJhZCA9IGNvbXB1dGVBbmdsZShhbHBoYSwgdG90YWxBcmNMZW5ndGgsIGVwc2lsb24pO1xuXHRcdFx0XHRcdFx0YW5nbGVzLnB1c2goYW5nbGVSYWQpO1xuXHRcdFx0XHRcdFx0dG90YWxBcmNMZW5ndGggPSB0b3RhbEFyY0xlbmd0aCArIHBvaW50QXJjRGlzdGFuY2U7XG5cdFx0XHRcdFx0XHRwcmV2aW91c0FuZ2xlUmFkID0gYW5nbGVSYWQ7XG5cdFx0XHRcdFx0XHRpZiAoaT4xMCkgeyBwb2ludEFyY0Rpc3RhbmNlID0gMTA7fVxuXHRcdFx0XHRcdFx0aWYgKGk+NTApIHsgcG9pbnRBcmNEaXN0YW5jZSA9IDE1O31cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIGFuZ2xlcztcblx0XHRcdFx0fVxuXHRcdFx0XHR2YXIgbnVtTm9kZXMgPSBzZWxmLmRhdGEubm9kZXMubGVuZ3RoO1xuXHRcdFx0XHR2YXIgYW5nbGVzID0gZ2V0QW5nbGVzKG51bU5vZGVzLCA3KTtcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coYW5nbGVzKTtcblx0XHRcdFx0dmFyIGN4ID0gc2VsZi5lZ29Ob2RlLngsXG5cdFx0XHQgICAgICAgIGN5ID0gc2VsZi5lZ29Ob2RlLnksXG5cdFx0XHQgICAgICAgIC8vIGluaXRpYWxSYWQgPSA2MDtcblx0XHRcdCAgICAgICAgaW5pdGlhbFJhZCA9IDIwO1xuXHRcdFx0XHR2YXIgbnVtTm9kZXMgPSBzZWxmLmRhdGEubm9kZXMubGVuZ3RoO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhudW1Ob2Rlcyk7XG5cdFx0XHRcdG5ld05vZGUuZWFjaChmdW5jdGlvbihkLCBpKSB7XG5cdFx0XHRcdFx0aWYgKGQuaWR4ICE9IDApIHtcblx0XHRcdFx0XHRcdGQuZml4ZWQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0dmFyIHRoaXNSYWQgPSBpICogMiArIGluaXRpYWxSYWQ7XG5cdFx0XHRcdFx0XHR2YXIgdGhpc1NwYWNpbmcgPSBpICogKE1hdGguUEkvKDguNSsuMSppKSk7XG5cblx0XHRcdFx0XHRcdC8vIHZhciB0aGlzUmFkID0gTWF0aC5wb3coaSwgMSkgKiAuOTUgKyBpbml0aWFsUmFkO1xuXHRcdFx0XHRcdFx0Ly8gdmFyIHRoaXNTcGFjaW5nID0gaSAqIChNYXRoLlBJLyg4LjUrLjA1KmkpKTtcblx0XHRcdFx0XHRcdC8vIGQueCA9IGN4ICsgKHRoaXNSYWQgKiBNYXRoLmNvcyh0aGlzU3BhY2luZykpO1xuXHRcdFx0XHRcdFx0Ly8gZC55ID0gY3kgKyAodGhpc1JhZCAqIE1hdGguc2luKHRoaXNTcGFjaW5nKSk7XG5cdFx0XHRcdFx0XHQvLyB2YXIgYW5nbGUgPSAwLjEgKiBpO1xuXHRcdFx0XHRcdFx0Ly8gZC54ID0gY3ggKyB0aGlzUmFkICogTWF0aC5jb3MoYW5nbGUpO1xuXHRcdFx0XHRcdFx0Ly8gZC55ID0gY3kgKyB0aGlzUmFkICogTWF0aC5zaW4oYW5nbGUpO1xuXHRcdFx0XHRcdFx0dmFyIHBvd1NjYWxlID0gZDMuc2NhbGUucG93KCkuZXhwb25lbnQoLjcpLmRvbWFpbihbMSxudW1Ob2Rlc10pLnJhbmdlKFswLDYwXSk7XG5cdFx0XHRcdFx0XHR2YXIgcG93U2NhbGUgPSBkMy5zY2FsZS5saW5lYXIoKS5kb21haW4oWzEsTWF0aC5wb3cobnVtTm9kZXMsIC4zKV0pLnJhbmdlKFswLDYwXSk7XG5cdFx0XHRcdFx0XHR2YXIgcG93U2NhbGUgPSBkMy5zY2FsZS5sb2coKS5kb21haW4oWzEwMCwgbnVtTm9kZXMrMTAwXSkucmFuZ2UoWzAsNjBdKTtcblx0XHRcdFx0XHRcdC8vIHZhciB0aGlzUG9zID0gTWF0aC5wb3coaSsxLCAuNykgKiAxO1xuXHRcdFx0XHRcdFx0Ly8gY29uc29sZS5sb2codGhpc1Bvcyk7XG5cdFx0XHRcdFx0XHR2YXIgbmV3aSA9IE1hdGgucG93KGkrMSwgLjMpO1xuXHRcdFx0XHRcdFx0dmFyIG5ld2kgPSAoaSkrMTAwO1xuXHRcdFx0XHRcdFx0dmFyIHRoaXNQb3MgPSBwb3dTY2FsZShuZXdpKTtcblx0XHRcdFx0XHRcdC8vIGNvbnNvbGUubG9nKHRoaXNQb3MpXG5cdFx0XHRcdFx0XHR2YXIgYiA9IDc7XG5cdFx0XHRcdFx0XHR2YXIgdGhpc1BvcyA9IGFuZ2xlc1tpXTtcblx0XHRcdFx0XHRcdGQueCA9IGN4ICsgKGluaXRpYWxSYWQgKyBiICogdGhpc1BvcykgKiBNYXRoLmNvcyh0aGlzUG9zKTtcblx0XHRcdFx0XHRcdGQueSA9IGN5ICsgKGluaXRpYWxSYWQgKyBiICogdGhpc1BvcykgKiBNYXRoLnNpbih0aGlzUG9zKTtcblxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHRcdHNlbGYuZm9yY2Uuc3RhcnQoKTtcblx0XHRcdFx0c2VsZi5mb3JjZS50aWNrKCk7XG5cdFx0XHRcdHNlbGYuZm9yY2Uuc3RvcCgpO1xuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cdH1cbiAgICBwbGFjZU5vZGVzKCk7XG5cblx0c2VsZi5sZWdlbmRJbml0KCk7XG5cdHNlbGYuYWRkQXV0aG9ySW1hZ2UoKTtcblx0c2VsZi5hZGRFdmVudExpc3RlbmVycygpO1xuXG4gICAgc2VsZi55ZWFyVGV4dERpc3BsYXkgPSBzZWxmLnN2Zy5hcHBlbmQoJ3N2Zzp0ZXh0JylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gnLCBzZWxmLmdyYXBoRGltZW5zaW9ucy53aWR0aCAqIDgvOSlcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3knLCBzZWxmLmdyYXBoRGltZW5zaW9ucy5oZWlnaHQgKiAxMi8xMylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2R5JywgJy0uM2VtJylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsICcxMGVtJylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3RleHQtYW5jaG9yJywgJ2VuZCcpXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgncG9pbnRlci1ldmVudHMnLCAnbm9uZScpXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDFlLTkpXG5cdFx0XHRcdFx0LmF0dHIoJ2lkJywgJ2Vnb0dyYXBoVmlzX3llYXJJbmRpY2F0b3InKVxuXHRcdFx0XHRcdC50ZXh0KHNlbGYuZGF0YS5ncmFwaC55ZWFyUmFuZ2VbMF0pO1xuXG5cdHNlbGYucmV2ZWFsRWdvTm9kZSgpO1xuXG59O1xuXG5lZ29HcmFwaFZpcy5wcm90b3R5cGUubWFrZVpvb20gPSBmdW5jdGlvbiAoKSB7XG5cdHZhciBzZWxmID0gdGhpcztcblx0cmV0dXJuIGQzLmJlaGF2aW9yLnpvb20oKVxuXHRcdC5jZW50ZXIoW3NlbGYuZ3JhcGhEaW1lbnNpb25zLndpZHRoLzIsIHNlbGYuZ3JhcGhEaW1lbnNpb25zLmhlaWdodC8yXSlcblx0XHQuc2NhbGVFeHRlbnQoWzAuMiwgMTBdKVxuXHRcdC5vbignem9vbScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0c2VsZi5ncm91cC5hdHRyKFxuXHRcdFx0XHQndHJhbnNmb3JtJyxcblx0XHRcdFx0J3RyYW5zbGF0ZSgnICsgZDMuZXZlbnQudHJhbnNsYXRlICsgJyknICtcblx0XHRcdFx0XHQnc2NhbGUoJyArIGQzLmV2ZW50LnNjYWxlICsgJyknXG5cdFx0XHQpO1xuXHRcdH0pO1xufTtcblxuZWdvR3JhcGhWaXMucHJvdG90eXBlLm1ha2VUaWNrID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAvLyBjYWNoZSBmdW5jdGlvbiBjcmVhdGlvbiBmb3IgdGlueSBvcHRpbWl6YXRpb25cbiAgICBmdW5jdGlvbiB4MShkKSB7IHJldHVybiBkLnNvdXJjZS54OyB9XG4gICAgZnVuY3Rpb24geTEoZCkgeyByZXR1cm4gZC5zb3VyY2UueTsgfVxuICAgIGZ1bmN0aW9uIHgyKGQpIHsgcmV0dXJuIGQudGFyZ2V0Lng7IH1cbiAgICBmdW5jdGlvbiB5MihkKSB7IHJldHVybiBkLnRhcmdldC55OyB9XG4gICAgLy8gZnVuY3Rpb24gdHJhbnNmb3JtKGQpIHtcbiAgICAvLyAgICAgZC54ID0gTWF0aC5tYXgoNC41LCBNYXRoLm1pbihzZWxmLmdyYXBoRGltZW5zaW9ucy53aWR0aCAtIDQuNSwgZC54KSk7XG4gICAgLy8gICAgIGQueSA9IE1hdGgubWF4KDQuNSwgTWF0aC5taW4oc2VsZi5ncmFwaERpbWVuc2lvbnMuaGVpZ2h0IC0gNC41LCBkLnkpKTtcbiAgICAvLyAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArIGQueCArICcsJyArIGQueSArICcpJztcbiAgICAvLyB9XG4gICAgZnVuY3Rpb24gdHJhbnNmb3JtKGQpIHtcblx0XHQvLyBUaGUgYmVsb3cgbGluZXMgY29uc3RyYWluIHRoZSBub2RlcyB0byBzdGF5IHdpdGhpbiB0aGUgYm91bmRzIG9mIHRoZSBvcmlnaW5hbCBkaXNwbGF5LlxuXHRcdGlmIChzZWxmLnpvb21hYmxlID09PSBmYWxzZSkge1xuXHRcdFx0ZC54ID0gTWF0aC5tYXgoNC41LCBNYXRoLm1pbihzZWxmLmdyYXBoRGltZW5zaW9ucy53aWR0aCAtIDQuNSwgZC54KSk7XG5cdFx0XHRkLnkgPSBNYXRoLm1heCg0LjUsIE1hdGgubWluKHNlbGYuZ3JhcGhEaW1lbnNpb25zLmhlaWdodCAtIDQuNSwgZC55KSk7XG5cdFx0fVxuICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgnICsgZC54ICsgJywnICsgZC55ICsgJyknO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBzZWxmLmxpbmtcbiAgICAgICAgICAgIC5hdHRyKCd4MScsIHgxKVxuICAgICAgICAgICAgLmF0dHIoJ3kxJywgeTEpXG4gICAgICAgICAgICAuYXR0cigneDInLCB4MilcbiAgICAgICAgICAgIC5hdHRyKCd5MicsIHkyKTtcbiAgICAgICAgc2VsZi5ub2RlXG4gICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgdHJhbnNmb3JtKTtcbiAgICB9O1xufTtcblxuZWdvR3JhcGhWaXMucHJvdG90eXBlLm1ha2VGb3JjZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIGQzLmxheW91dC5mb3JjZSgpXG4gICAgICAgIC5zaXplKFtzZWxmLmdyYXBoRGltZW5zaW9ucy53aWR0aCwgc2VsZi5ncmFwaERpbWVuc2lvbnMuaGVpZ2h0XSlcbiAgICAgICAgLmxpbmtEaXN0YW5jZSgyMjUpXG4gICAgICAgIC8vLmxpbmtEaXN0YW5jZShmdW5jdGlvbihkKSB7IGNvbnNvbGUubG9nKHNlbGYubGRTY2woZC5zb3VyY2UuWWVhcikpOyByZXR1cm4gc2VsZi5sZFNjbChkLnNvdXJjZS5ZZWFyKSA/IDc1ICsgc2VsZi5sZFNjbChkLnNvdXJjZS5ZZWFyKSA6IDA7fSlcbiAgICAgICAgLy8ubGlua1N0cmVuZ3RoKGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHNlbGYubHNTY2woZC5zb3VyY2UuWWVhcikgPyBzZWxmLmxzU2NsKGQuc291cmNlLlllYXIpIDogMDt9KVxuICAgICAgICAvLyAuY2hhcmdlKC0xNSlcbiAgICAgICAgLy8gLmdyYXZpdHkoMC4wMylcbiAgICAgICAgLy8gLmZyaWN0aW9uKDAuOClcbiAgICAgICAgLy8gLnRoZXRhKDAuOSlcbiAgICAgICAgLy8gLmFscGhhKDAuMSlcbiAgICAgICAgLm9uKCd0aWNrJywgdGhpcy50aWNrKTtcbn07XG5cbmVnb0dyYXBoVmlzLnByb3RvdHlwZS5pbXBvcnREZWZhdWx0T3B0aW9ucyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdHNlbGYuY29sb3JTY2hlbWUgPSBvcHRpb25zLmNvbG9yU2NoZW1lO1xuXG5cdHNlbGYuZ3JhcGhEaW1lbnNpb25zID0gb3B0aW9ucy5kaW1lbnNpb25zO1xuXG5cdHNlbGYudHJhbnNpdGlvblRpbWVQZXJZZWFyID0gb3B0aW9ucy50cmFuc2l0aW9uVGltZVBlclllYXI7XG5cblx0Y29uc29sZS5sb2cob3B0aW9ucyk7XG5cbn07XG5cbi8vIFRoaXMgdmVyc2lvbiBvZiBnZXREb21haW5zVGhpc0dyYXBoIGNvdW50cyB1cCB0aGUgb2NjdXJyZW5jZXMgb2YgdGhlIGRvbWFpbnNcbi8vIHRvIGFsbG93IGZvciBhbiBcIm90aGVyXCIgY2F0ZWdvcnkuXG4vLyBJZiB3ZSdyZSB1c2luZyBwcmVkZXRlcm1pbmVkIGstbWVhbnMtYmFzZWQgY2F0ZWdvcmllcywgd2UgZG9uJ3QgbmVlZCB0aGlzLlxuLy8gU28gdXNlIHRoZSBiZWxvdyB2ZXJzaW9uIG9mIGdldERvbWFpbnNUaGlzR3JhcGggaW5zdGVhZC5cbi8vXG4vLyBlZ29HcmFwaFZpcy5wcm90b3R5cGUuZ2V0RG9tYWluc1RoaXNHcmFwaCA9IGZ1bmN0aW9uKCkge1xuLy8gXHR2YXIgc2VsZiA9IHRoaXM7XG4vL1xuLy8gXHQvLyB2YXIgZG9tYWlucyA9IHNlbGYuZGF0YS5ncmFwaC5Eb21haW5zO1xuLy8gXHQvLyB2YXIgZG9tYWlucyA9IHNlbGYuZGF0YS5ncmFwaC5mb3Nfa21lYW5zX2NhdGVnb3JpZXM7XG4vLyBcdHZhciBkb21haW5zID0gc2VsZi5kYXRhLmdyYXBoLnRpdGxlc19rbWVhbnNfY2F0ZWdvcmllcztcbi8vIFx0Y29uc29sZS5sb2coZG9tYWlucyk7XG4vL1xuLy8gXHR2YXIgbWF4RG9tYWlucyA9IHNlbGYuY29sb3JTY2hlbWUubGVuZ3RoO1xuLy8gXHRcbi8vIFx0Ly8gc2VsZi5kb21haW5zVGhpc0dyYXBoIHdpbGwgYmUgYW4gYXJyYXkgb2Yge2tleTogXCJEb21haW5JRFwiLCB2YWx1ZXM6IGNvdW50fVxuLy8gXHRzZWxmLmRvbWFpbnNUaGlzR3JhcGggPSBkMy5uZXN0KClcbi8vIFx0XHQvLyAua2V5KGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQuRG9tYWluSUQ7IH0pXG4vLyBcdFx0Ly8gLmtleShmdW5jdGlvbihkKSB7IHJldHVybiBkLmZvc19rbWVhbnNfY2F0ZWdvcnk7IH0pXG4vLyBcdFx0LmtleShmdW5jdGlvbihkKSB7IHJldHVybiBkLnRpdGxlX2ttZWFuc19jYXRlZ29yeTsgfSlcbi8vIFx0XHQucm9sbHVwKGZ1bmN0aW9uKGxlYXZlcykgeyByZXR1cm4gbGVhdmVzLmxlbmd0aDsgfSlcbi8vIFx0XHQuZW50cmllcyhzZWxmLm5vdEVnb05vZGVzKTtcbi8vIFx0Ly8gc2VsZi5kb21haW5zVGhpc0dyYXBoLnNvcnQoZnVuY3Rpb24oYSxiKSB7IHJldHVybiBkMy5kZXNjZW5kaW5nKGEudmFsdWVzLCBiLnZhbHVlcyk7IH0pO1xuLy8gXHQvLyBBZGQgYSBmZXcgbW9yZSB2YXJpYWJsZXMgdG8gdGhlIGRvbWFpbnNUaGlzR3JhcGggZGF0YTpcbi8vIFx0Zm9yICh2YXIgaT0wOyBpPHNlbGYuZG9tYWluc1RoaXNHcmFwaC5sZW5ndGg7IGkrKykge1xuLy8gXHRcdC8vIHZhciBrZXkgPSArc2VsZi5kb21haW5zVGhpc0dyYXBoW2ldLmtleTtcbi8vIFx0XHR2YXIga2V5ID0gc2VsZi5kb21haW5zVGhpc0dyYXBoW2ldLmtleTtcbi8vIFx0XHRzZWxmLmRvbWFpbnNUaGlzR3JhcGhbaV0uRG9tYWluSUQgPSBrZXk7XG4vLyBcdFx0Ly8gaWYgKGk8bWF4RG9tYWlucy0xKSB7XG4vLyBcdFx0Ly8gXHRzZWxmLmRvbWFpbnNUaGlzR3JhcGhbaV0uRG9tYWluTmFtZSA9IGRvbWFpbnNba2V5XTtcbi8vIFx0XHQvLyBcdHNlbGYuZG9tYWluc1RoaXNHcmFwaFtpXS5jb2xvciA9IHNlbGYuY29sb3JTY2hlbWVbaV07XG4vLyBcdFx0Ly8gfSBlbHNlIHtcbi8vIFx0XHQvLyBcdHNlbGYuZG9tYWluc1RoaXNHcmFwaFtpXS5Eb21haW5OYW1lID0gXCJPdGhlclwiO1xuLy8gXHRcdC8vIFx0c2VsZi5kb21haW5zVGhpc0dyYXBoW2ldLmNvbG9yID0gc2VsZi5jb2xvclNjaGVtZVttYXhEb21haW5zLTFdO1xuLy8gXHRcdC8vIH1cbi8vIFx0XHRzZWxmLmRvbWFpbnNUaGlzR3JhcGhbaV0uRG9tYWluTmFtZSA9IGRvbWFpbnNba2V5XTtcbi8vIFx0XHRzZWxmLmRvbWFpbnNUaGlzR3JhcGhbaV0uY29sb3IgPSBzZWxmLmNvbG9yU2NoZW1lW2ldO1xuLy8gXHR9XG4vLyBcdGNvbnNvbGUubG9nKHNlbGYuZG9tYWluc1RoaXNHcmFwaCk7XG4vLyB9O1xuXG5lZ29HcmFwaFZpcy5wcm90b3R5cGUuZ2V0RG9tYWluc1RoaXNHcmFwaCA9IGZ1bmN0aW9uKCkge1xuXHQvLyBVc2UgdGhpcyB2ZXJzaW9uIG9mIGdldERvbWFpbnNUaGlzR3JhcGggaWYgdGhlIGNhdGVnb3JpZXMgYXJlIHByZWRldGVybWluZWQgYW5kIGRvbid0IG5lZWQgdG8gYmUgY291bnRlZC5cblx0Ly8gKFdlIGRvbid0IG5lZWQgYW4gXCJvdGhlclwiIChtaXNjZWxsYW5lb3VzKSBjYXRlZ29yeVxuXHRcblx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdHZhciBtYXhEb21haW5zID0gc2VsZi5jb2xvclNjaGVtZS5sZW5ndGg7XG5cdFxuXHR2YXIgZG9tYWlucyA9IHNlbGYuZGF0YS5ncmFwaC50ZmlkZl9rbWVhbnNfY2F0ZWdvcmllcztcblx0c2VsZi5kb21haW5zVGhpc0dyYXBoID0gW107XG5cdC8vIEFkZCBhIGZldyBtb3JlIHZhcmlhYmxlcyB0byB0aGUgZG9tYWluc1RoaXNHcmFwaCBkYXRhOlxuXHRmb3IgKHZhciBpPTA7IGk8bWF4RG9tYWluczsgaSsrKSB7XG5cdFx0c2VsZi5kb21haW5zVGhpc0dyYXBoLnB1c2goe30pO1xuXHRcdHNlbGYuZG9tYWluc1RoaXNHcmFwaFtpXS5Eb21haW5JRCA9IGk7XG5cdFx0c2VsZi5kb21haW5zVGhpc0dyYXBoW2ldLkRvbWFpbk5hbWUgPSBkb21haW5zW2ldO1xuXHRcdHNlbGYuZG9tYWluc1RoaXNHcmFwaFtpXS5jb2xvciA9IHNlbGYuY29sb3JTY2hlbWVbaV07XG5cdH1cblx0Y29uc29sZS5sb2coc2VsZi5kb21haW5zVGhpc0dyYXBoKTtcbn07XG5cbmVnb0dyYXBoVmlzLnByb3RvdHlwZS5sZWdlbmRJbml0ID0gZnVuY3Rpb24oKSB7XG5cdHZhciBzZWxmID0gdGhpcztcblxuXHR2YXIgbWlzaW5mb0xlZ2VuZEl0ZW1zVGV4dCA9IFtcblx0XHQnY29tcHV0ZXIgc2NpZW5jZSwgZGF0YSBtaW5pbmcsIC4uLicsXG5cdFx0J3NvY2lvbG9neSwgc29jaWFsIHNjaWVuY2UsIC4uLicsXG5cdFx0J21lZGljaW5lLCBoZWFsdGgsIC4uLicsXG5cdFx0J2Vjb25vbWljcywgYnVzaW5lc3MsIC4uLicsXG5cdFx0J3BzeWNob2xvZ3ksIGNvZ25pdGlvbiwgLi4uJyxcblx0XHQncG9saXRpY2FsIHNjaWVuY2UsIC4uLicsXG5cdFx0J2Jpb2xvZ3ksIGVjb2xvZ3ksIC4uLicsXG5cdFx0J2NsaW1hdGUgY2hhbmdlLCAuLi4nLFxuXHRdO1xuXG5cdHZhciBzcXVhcmVTaXplID0gc2VsZi5ncmFwaERpbWVuc2lvbnMud2lkdGggLyA3MDtcbiAgICB2YXIgcGFkZGluZyA9IHNxdWFyZVNpemUgLyAzO1xuICAgIHZhciBzcXJQbHVzUGFkZGluZyA9IHNxdWFyZVNpemUgKyBwYWRkaW5nO1xuXG4gICAgc2VsZi5sZWdlbmQgPSBzZWxmLnN2Zy5hcHBlbmQoJ2cnKVxuICAgICAgICAuYXR0cignY2xhc3MnLCAnbGVnZW5kJylcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJytwYWRkaW5nKycsJytwYWRkaW5nKycpJyk7XG4gICAgICAgIC8vIC5zdHlsZSgnb3BhY2l0eScsIDFlLTkpO1xuXHR2YXIgbGVnZW5kSGVhZGVyU2l6ZSA9IHNxdWFyZVNpemU7XG5cdHNlbGYubGVnZW5kLmFwcGVuZCgnc3ZnOnRleHQnKVxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgwLCAnICsgbGVnZW5kSGVhZGVyU2l6ZSArICcpJylcblx0XHQuYXR0cignY2xhc3MnLCAnZWdvR3JhcGhWaXNMZWdlbmRIZWFkZXInKVxuXHRcdC50ZXh0KCdDYXRlZ29yaWVzIOKTmCcpO1xuXG4gICAgdmFyIGxlZ2VuZEl0ZW0gPSBzZWxmLmxlZ2VuZC5zZWxlY3RBbGwoJ2cnKVxuICAgICAgICAuZGF0YShzZWxmLmRvbWFpbnNUaGlzR3JhcGgpXG4gICAgICAgIC5lbnRlcigpXG4gICAgICAgIC5hcHBlbmQoJ2cnKVxuICAgICAgICAuYXR0cignY2xhc3MnLCAnbGVnZW5kSXRlbScpXG5cdFx0Ly8gLy8gYWRkIFwib3RoZXJcIiBjbGFzcyB0byBsYXN0IGxlZ2VuZCBpdGVtXG5cdFx0Ly8gLmNsYXNzZWQoJ290aGVyJywgZnVuY3Rpb24oZCkgeyBcblx0XHQvLyBcdHJldHVybiAoZC5Eb21haW5JRCAhPSAwICYmIGQuRG9tYWluTmFtZS50b0xvd2VyQ2FzZSgpPT1cIm90aGVyXCIpID8gdHJ1ZSA6IGZhbHNlO1xuXHRcdC8vIH0pXG4gICAgICAgIC5hdHRyKCdpZCcsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgIC8vIHJldHVybiAnbGVnZW5kQ2x1c3RlcicgKyBkLmNsdXN0ZXI7IH0pXG4gICAgICAgICAgICAvLyBVc2UgRG9tYWluIGluc3RlYWQgb2YgY2x1c3RlclxuICAgICAgICAgICAgLy8gcmV0dXJuICdsZWdlbmREb21haW4nICsgZC5Eb21haW5JRC5yZXBsYWNlKFwiIFwiLCBcIlwiKTsgfSlcbiAgICAgICAgICAgIHJldHVybiAnbGVnZW5kRG9tYWluJyArIGQuRG9tYWluSUQ7IH0pXG5cdFx0Lm9uKFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uKGQpIHtcblx0XHRcdGQzLnNlbGVjdEFsbChcIi5ub2RlXCIpXG5cdFx0XHRcdC5maWx0ZXIoZnVuY3Rpb24oZGQpIHtcblx0XHRcdFx0XHRyZXR1cm4gZC5jb2xvcj09ZGQuY29sb3I7XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5jbGFzc2VkKFwibGVnZW5kSG92ZXJcIiwgdHJ1ZSk7XG5cblx0XHR9KVxuXHRcdC5vbihcIm1vdXNlb3V0XCIsIGZ1bmN0aW9uKGQpIHtcblx0XHRcdGQzLnNlbGVjdEFsbChcIi5ub2RlXCIpLmNsYXNzZWQoXCJsZWdlbmRIb3ZlclwiLCBmYWxzZSk7XG5cdFx0fSlcblx0XHQuYXR0cihcImRpc3BsYXlcIiwgZnVuY3Rpb24oZCwgaSkge1xuXHRcdFx0XHQvLyBoaWRlIGFsbCBcIm90aGVyXCIgZG9tYWluIG9iamVjdHMgZXhjZXB0IHRoZSBmaXJzdCBvbmVcblx0XHRcdFx0aWYgKGk8c2VsZi5jb2xvclNjaGVtZS5sZW5ndGgpIHtcblx0XHRcdFx0XHRyZXR1cm4gXCJcIjtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXR1cm4gXCJub25lXCI7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuICAgICAgICAvLyAvLyBzdGFydCBvZmYgaGlkZGVuIGlmIG5vdCB0aGUgc2FtZSBkb21haW4gYXMgdGhlIGVnbyBub2RlXG4gICAgICAgIC8vIC5zdHlsZSgnb3BhY2l0eScsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgLy8gICAgIC8vIHZhciB0aGlzVG9wQ2x1c3RlciA9IGQuY2x1c3Rlci5zcGxpdCgnOicpWzBdO1xuICAgICAgICAvLyAgICAgLy8gaWYgKHRoaXNUb3BDbHVzdGVyID09PSBlZ29Ob2RlVG9wQ2x1c3RlcikgcmV0dXJuIDE7IGVsc2UgcmV0dXJuIDA7XG4gICAgICAgIC8vICAgICBpZiAoZC5Eb21haW5JRD09PXNlbGYuZWdvTm9kZS5Eb21haW5JRCkgcmV0dXJuIDE7IGVsc2UgcmV0dXJuIDA7XG4gICAgICAgIC8vIH0pO1xuICAgIC8vIC8vIERvbid0IGhpZGUgdGhlIGxlZ2VuZCBpZiBhbm5vdGF0aW9ucyBhcmUgdHVybmVkIG9mZlxuICAgIC8vIC8vIG1heWJlIHRyeSBhIGRpZmZlcmVudCBhcHByb2FjaCBsYXRlclxuICAgIC8vIGlmICggIXNlbGYuZ3JhcGhQYXJhbXMuZG9Bbm5vdGF0aW9ucy52YWx1ZSApIGxlZ2VuZEl0ZW0uc3R5bGUoJ29wYWNpdHknLCAxKTtcblxuICAgIGxlZ2VuZEl0ZW0uYXBwZW5kKCdzdmc6cmVjdCcpXG4gICAgICAgIC5hdHRyKCd3aWR0aCcsIHNxdWFyZVNpemUpXG4gICAgICAgIC5hdHRyKCdoZWlnaHQnLCBzcXVhcmVTaXplKVxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24oZCwgaSkge1xuICAgICAgICAgICAgLy8gcmV0dXJuICd0cmFuc2xhdGUoMCwnICsgKHNxclBsdXNQYWRkaW5nICogaSkgKyAnKSc7XG4gICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgwLCcgKyAobGVnZW5kSGVhZGVyU2l6ZSArIHBhZGRpbmcgKyBzcXJQbHVzUGFkZGluZyAqIGkpICsgJyknO1xuICAgICAgICB9KVxuICAgICAgICAuYXR0cignZmlsbCcsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgIHJldHVybiBkLmNvbG9yOyB9KTtcbiAgICBzZWxmLmxlZ2VuZFRleHQgPSBsZWdlbmRJdGVtLmFwcGVuZCgnc3ZnOnRleHQnKVxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24oZCwgaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAndHJhbnNsYXRlKCcgKyAoc3FyUGx1c1BhZGRpbmcpICsgJywnICsgKGxlZ2VuZEhlYWRlclNpemUgKyBwYWRkaW5nICsgc3FyUGx1c1BhZGRpbmcgKiBpKSArICcpJztcbiAgICAgICAgfSlcbiAgICAgICAgLmF0dHIoJ2R5JywgJzFlbScpXG4gICAgICAgIC50ZXh0KGZ1bmN0aW9uKGQsIGkpIHtcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gJ1BhcGVycyBpbiBjYXRlZ29yeSBcIicgKyBkLkRvbWFpbk5hbWUgKyAnXCIgKGRvbWFpbiAnICsgZC5Eb21haW5JRCArICcpJztcbiAgICAgICAgICAgICAgICAvL1xuXHRcdFx0XHQvLyBpZiAoZC5Eb21haW5JRCAhPSAwICYmIGQuRG9tYWluTmFtZS50b0xvd2VyQ2FzZSgpPT1cIm90aGVyXCIpIHtcblx0XHRcdFx0Ly8gXHRyZXR1cm4gXCJQYXBlcnMgaW4gb3RoZXIgY2F0ZWdvcmllc1wiO1xuXHRcdFx0XHQvLyB9IGVsc2Uge1xuXHRcdFx0XHQvLyBcdHJldHVybiAnUGFwZXJzIGluIGNhdGVnb3J5IFwiJyArIGQuRG9tYWluTmFtZSArICdcIic7XG5cdFx0XHRcdC8vIH1cbiAgICAgICAgICAgICAgICAvL1xuXHRcdFx0XHQvLyByZXR1cm4gZC5Eb21haW5OYW1lO1xuICAgICAgICAgICAgICAgIC8vXG5cdFx0XHRcdC8vIHJldHVybiBcIkNhdGVnb3J5IFwiICsgZC5Eb21haW5JRDtcblxuXHRcdFx0XHRyZXR1cm4gJ0MnICsgaSArICcgKCcgKyBtaXNpbmZvTGVnZW5kSXRlbXNUZXh0W2ldICsgJyknO1xuICAgICAgICB9KVxuXHRcdC5zdHlsZSgnZm9udC1zaXplJywgJy45ZW0nKTtcblxuXG59O1xuXG5lZ29HcmFwaFZpcy5wcm90b3R5cGUuYWRkQXV0aG9ySW1hZ2UgPSBmdW5jdGlvbigpIHtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXHRpZiAoc2VsZi5lZ29Ob2RlLmhhc093blByb3BlcnR5KCduYW1lJykpIHtcblx0XHRzZWxmLmVnb05vZGUuQXV0aG9yTmFtZSA9IHNlbGYuZWdvTm9kZS5uYW1lO1xuXHR9XG5cdGlmIChzZWxmLmVnb05vZGUuaGFzT3duUHJvcGVydHkoJ0F1dGhvck5hbWUnKSkge1xuXHRcdFxuXHRcdHNlbGYuYXV0aG9ySW1hZ2VEaXYgPSBzZWxmLnN2Zy5hcHBlbmQoJ2ZvcmVpZ25PYmplY3QnKS5hdHRyKCdjbGFzcycsICdleHRlcm5hbE9iamVjdCcpXG5cdFx0XHQuYXR0cigneCcsIDApXG5cdFx0XHQuYXR0cigneScsIHNlbGYuZ3JhcGhEaW1lbnNpb25zLmhlaWdodC8yIC0gNTApXG5cdFx0XHQvLyAuYXR0cignaGVpZ2h0Jywgc2VsZi5ncmFwaERpbWVuc2lvbnMuaGVpZ2h0LzUpXG5cdFx0XHQuYXR0cignaGVpZ2h0JywgJzEwMCUnKVxuXHRcdFx0LmF0dHIoJ3dpZHRoJywgc2VsZi5ncmFwaERpbWVuc2lvbnMuaGVpZ2h0LzUpXG5cdFx0XHQuYXBwZW5kKCd4aHRtbDpkaXYnKVxuXHRcdFx0LmF0dHIoJ2lkJywgJ2F1dGhvckltYWdlRGl2Jyk7XG5cdFx0c2VsZi5hdXRob3JJbWFnZURpdlxuXHRcdFx0LmFwcGVuZCgneGh0bWw6cCcpXG5cdFx0XHQuaHRtbCgnPHA+JyArIHNlbGYuZGF0YS5ub2Rlc1swXS5BdXRob3JOYW1lLmNhcGl0YWxpemUoKSArICc8L3A+Jyk7XG5cblx0XHR2YXIgYXV0aG9ySW1hZ2VDb250YWluZXIgPSBzZWxmLmF1dGhvckltYWdlRGl2XG5cdFx0XHQuYXBwZW5kKCd4aHRtbCcpXG5cdFx0XHQuYXR0cignaWQnLCAnYXV0aG9ySW1hZ2VDb250YWluZXInKTtcblxuXHRcdC8vIEFkZCBjb250ZW50IGZvciBIUkEgYXV0aG9yc1xuXHRcdHZhciBhdXRob3JPcmcgPSBzZWxmLmRhdGEubm9kZXNbMF0ub3JnYW5pemF0aW9uO1xuXHRcdGNvbnNvbGUubG9nKGF1dGhvck9yZyk7XG5cdFx0aWYgKHR5cGVvZiBhdXRob3JPcmcgIT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdGQzLnRzdihcInN0YXRpYy9oZWFsdGhyYS9vcmdzX3dpdGhfbGlua3MudHN2XCIsIGZ1bmN0aW9uKGVycm9yLCBvcmdfZGF0YSkge1xuXHRcdFx0XHRpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuXHRcdFx0XHR2YXIgcHN0eWxlID0gJ3N0eWxlPVwibWFyZ2luOiAwOyBwYWRkaW5nOiAwOyBmb250LXNpemU6IC44NWVtXCInXG5cdFx0XHRcdGNvbnNvbGUubG9nKG9yZ19kYXRhKTtcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IG9yZ19kYXRhLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRcdFx0aWYgKG9yZ19kYXRhW2ldWydvcmdfbmFtZSddID09IGF1dGhvck9yZykge1xuXHRcdFx0XHRcdFx0dmFyIG5hbWVGcm9tVFNWID0gb3JnX2RhdGFbaV1bJ21hdGNoX25hbWUnXTtcblx0XHRcdFx0XHRcdGlmICggKHR5cGVvZiBuYW1lRnJvbVRTViAhPSAndW5kZWZpbmVkJykgJiYgKG5hbWVGcm9tVFNWICE9ICcnKSApIHtcblx0XHRcdFx0XHRcdFx0dmFyIG9yZ0xpbmsgPSBvcmdfZGF0YVtpXVsnbGluayddO1xuXHRcdFx0XHRcdFx0XHR2YXIgb3JnSW1nVXJsID0gb3JnX2RhdGFbaV1bJ2ltZ191cmwnXTtcblx0XHRcdFx0XHRcdFx0c2VsZi5hdXRob3JJbWFnZURpdlxuXHRcdFx0XHRcdFx0XHRcdC5hcHBlbmQoJ3hodG1sOnAnKVxuXHRcdFx0XHRcdFx0XHRcdC5odG1sKCc8YSBocmVmPVwiJyArIG9yZ0xpbmsgKyAnXCIgdGFyZ2V0PVwiX2JsYW5rXCI+PHAgJyArIHBzdHlsZSArICc+JyArIG5hbWVGcm9tVFNWICsgJzwvcD4nKTtcblx0XHRcdFx0XHRcdFx0dmFyIGF1dGhvckltYWdlID0gYWRkSW1hZ2Uob3JnSW1nVXJsKTtcblx0XHRcdFx0XHRcdFx0YXV0aG9ySW1hZ2Uuc3R5bGUoJ2N1cnNvcicsICdwb2ludGVyJyk7XG5cdFx0XHRcdFx0XHRcdGF1dGhvckltYWdlLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZyhvcmdMaW5rKTsgd2luZG93Lm9wZW4ob3JnTGluaywgJ19ibGFuaycpfSk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRzZWxmLmF1dGhvckltYWdlRGl2XG5cdFx0XHRcdFx0XHRcdFx0LmFwcGVuZCgneGh0bWw6cCcpXG5cdFx0XHRcdFx0XHRcdFx0Lmh0bWwoJzxwIHN0eWxlPVwibWFyZ2luOiAwOyBwYWRkaW5nOiAwOyBmb250LXNpemU6IC44NWVtXCI+JyArIGF1dGhvck9yZyArICc8L3A+Jyk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gYWRkSW1hZ2UoYXV0aG9ySW1hZ2VTcmMpIHtcblx0XHR2YXIgYXV0aG9ySW1hZ2UgPSBhdXRob3JJbWFnZUNvbnRhaW5lclxuXHRcdFx0LmFwcGVuZCgneGh0bWw6aW1nJylcblx0XHRcdC5hdHRyKCdzcmMnLCBhdXRob3JJbWFnZVNyYylcblx0XHRcdC5hdHRyKCdpZCcsICdhdXRob3JJbWFnZScpXG5cdFx0XHQuYXR0cignd2lkdGgnLCAnODVweCcpO1xuXHRcdHJldHVybiBhdXRob3JJbWFnZTtcblx0fVxuXG5cdC8vIElmIGFuIGltYWdlIFVSTCBpcyBpbmNsdWRlZCBpbiB0aGUgZGF0YTpcblx0dmFyIEF1dGhvckltZ1VybCA9IHNlbGYuZGF0YS5ub2Rlc1swXS5BdXRob3JJbWdVcmwgfHwgc2VsZi5kYXRhLm5vZGVzWzBdLkltZ1VSTDtcblx0Y29uc29sZS5sb2coQXV0aG9ySW1nVXJsKTtcblx0aWYgKHR5cGVvZiBBdXRob3JJbWdVcmwgIT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRhZGRJbWFnZShBdXRob3JJbWdVcmwpO1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIFBldyBtZXRob2Qgb2YgZ2V0dGluZyBhdXRob3IgaW1hZ2U6XG5cdC8vIFRyeSBzb21lIGZpbGVuYW1lIGV4dGVuc2lvbnMgYW5kIGF0dGVtcHQgdG8gaW5zZXJ0IHRoZSBpbWFnZVxuXHR2YXIgcGV3aWRfc3RyID0gc2VsZi5kYXRhLm5vZGVzWzBdLlBld1NjaG9sYXJJRDtcblx0aWYgKHR5cGVvZiBwZXdpZF9zdHIgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cdHZhciBwZXdpZF9zdHIgPSBwZXdpZF9zdHIudG9TdHJpbmcoKTtcblx0Ly8gemVyby1wYWQgdGhlIHBldyBpZFxuXHRwZXdpZF9zdHIgPSAoJzAwMCcgKyBwZXdpZF9zdHIpO1xuXHRwZXdpZF9zdHIgPSBwZXdpZF9zdHIuc3Vic3RyKHBld2lkX3N0ci5sZW5ndGgtMyk7XG5cdHZhciBmbmFtZV9yb290ID0gXCJzdGF0aWMvaW1nL3Bld19waG90b3MvXCIgKyBwZXdpZF9zdHI7XG5cdHZhciBwb3NzaWJsZUV4dGVuc2lvbnMgPSBbJy5wbmcnLCAnLmpwZycsICcuanBlZycsICcuSlBHJywgJy5KUEVHJywgJy5QTkcnXTtcblx0XG5cdC8vIHJlY3Vyc2l2ZSBmdW5jdGlvbiB0aGF0IGxvb3BzIHRocm91Z2ggdGhlIGRpZmZlcmVudCBwb3NzaWJsZSBmaWxlIGV4dGVuc2lvbnMgYWJvdmVcblx0ZnVuY3Rpb24gdHJ5SW1hZ2VGaWxlbmFtZXMoZm5hbWVfcm9vdCwgcG9zc2libGVFeHRlbnNpb25zLCBpdGVyKSB7XG5cdFx0dmFyIGF1dGhvckltYWdlRmlsZW5hbWUgPSBmbmFtZV9yb290ICsgcG9zc2libGVFeHRlbnNpb25zW2l0ZXJdO1xuXHRcdGlmIChpdGVyID49IHBvc3NpYmxlRXh0ZW5zaW9ucy5sZW5ndGgpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0JC5nZXQoYXV0aG9ySW1hZ2VGaWxlbmFtZSlcblx0XHRcdC5kb25lKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRhZGRJbWFnZShhdXRob3JJbWFnZUZpbGVuYW1lKTtcblx0XHRcdH0pLmZhaWwoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdC8vIHJlY3Vyc2Vcblx0XHRcdFx0dmFyIGMgPSBpdGVyICsgMTtcblx0XHRcdFx0dHJ5SW1hZ2VGaWxlbmFtZXMoZm5hbWVfcm9vdCwgcG9zc2libGVFeHRlbnNpb25zLCBjKTtcblx0XHRcdH0pO1xuXHR9XG5cdHRyeUltYWdlRmlsZW5hbWVzKGZuYW1lX3Jvb3QsIHBvc3NpYmxlRXh0ZW5zaW9ucywgMCk7XG5cblxuXHR2YXIgcGV3Q2xhc3MgPSBzZWxmLmRhdGEubm9kZXNbMF0ucGV3X0NsYXNzO1xuXHRpZiAodHlwZW9mIHBld0NsYXNzICE9ICd1bmRlZmluZWQnKSB7XG5cdFx0c2VsZi5hdXRob3JJbWFnZURpdlxuXHRcdFx0LmFwcGVuZCgneGh0bWw6cCcpXG5cdFx0XHQuaHRtbCgnPHAgc3R5bGU9XCJtYXJnaW46IDA7IHBhZGRpbmc6IDA7IGZvbnQtc2l6ZTogLjg1ZW1cIj5QZXcgU2Nob2xhciAnICsgcGV3Q2xhc3MgKyAnPC9wPicpO1xuXHR9XG5cblxufTtcblxuZWdvR3JhcGhWaXMucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXJzID0gZnVuY3Rpb24oKSB7XG5cdC8vIE9ubHkgYWRkIGV2ZW50IGxpc3RlbmVycyBoZXJlIHRoYXQgZG9uJ3QgYWN0IGFjcm9zcyBkaWZmZXJlbnQgdmlzIG9iamVjdHNcblx0Ly8gT3RoZXJ3aXNlIHRoZXkgbmVlZCB0byBiZSBhZGRlZCB0byAoZS5nLikgY2l0YXRpb25WaXNfTWFpbi5qc1xuXHRcblx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdGlmIChzZWxmLnpvb21hYmxlID09PSB0cnVlKSB7XG5cdFx0c2VsZi5ncm91cC5jYWxsKHNlbGYuem9vbSk7XG5cdH1cblxuICAgIC8vIEFkZCBldmVudCBsaXN0ZW5lciB0byBub2RlcyBmb3IgdG9vbHRpcDpcbiAgICBkMy5zZWxlY3RBbGwoJy5ub2RlJylcblx0XHQuZWFjaChmdW5jdGlvbihkKSB7IFxuXHRcdFx0ZC51cGRhdGVkUHJvcHMgPSBmYWxzZTtcblx0ICAgICAgICBkLnRvb2x0aXBIdG1sID0gJzxwPkxvYWRpbmcuLi48L3A+J1x0fSk7XG5cdC8vIHNlbGYudGlwLmh0bWwoZnVuY3Rpb24oZCkgeyByZXR1cm4gZC50b29sdGlwSHRtbDsgfSk7XG5cdGQzLnNlbGVjdEFsbCgnLm5vZGUnKVxuICAgICAgICAub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKGQpIHtcblx0XHRcdGQuaG92ZXJlZCA9IHRydWU7XG5cdFx0XHR2YXIgaG92ZXJlZEl0ZW0gPSBkMy5zZWxlY3QodGhpcyk7XG5cdFx0XHQvLyAkKFwiI2Rldm91dHB1dFwiKS5odG1sKFwiPGgzPlwiICsgZC5qc19kaXYgKyBcIjwvaDM+XCIpLmNzcyhcImNvbG9yXCIsIGQuY29sb3IpO1xuXG5cdFx0XHQvLyBzZWxmLnRvb2x0aXAgPSBzZWxmLnRvb2x0aXBcblx0XHRcdC8vIFx0Lmh0bWwoZC50b29sdGlwSHRtbClcblx0XHRcdC8vIFx0LnN0eWxlKCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKVxuXHRcdFx0Ly8gXHQuc3R5bGUoJ2JvcmRlci1zdHlsZScsICdzb2xpZCcpXG5cdFx0XHQvLyBcdC5zdHlsZSgnYm9yZGVyLWNvbG9yJywgZC5jb2xvcik7XG5cdFx0XHQvLyB0aGUgZmlyc3QgdGltZSBhIG5vZGUgaXMgbW91c2VkIG92ZXIsIHJldHJpZXZlIGFkZGl0aW9uYWwgcHJvcGVydGllcyBpZiBpdCBpcyBhIHBhcGVyIG5vZGVcblx0XHRcdC8vIGlmICggKGQubm9kZVR5cGUgPT09ICdwYXBlcicpICYmICghZC51cGRhdGVkUHJvcHMpICkge1xuXHRcdFx0Ly8gXHQkLmFqYXgoe1xuXHRcdFx0Ly8gXHRcdGRhdGFUeXBlOiAnanNvbicsXG5cdFx0XHQvLyBcdFx0dXJsOiAkU0NSSVBUX1JPT1QgKyAnL192aXNfZ2V0X21vcmVfcGFwZXJpbmZvJyxcblx0XHRcdC8vIFx0XHRkYXRhOiB7cGFwZXJpZDogZC5pZH0sXG5cdFx0XHQvLyBcdFx0c3VjY2VzczogZnVuY3Rpb24ocmVzdWx0KSB7XG5cdFx0XHQvLyBcdFx0XHRkLlRpdGxlID0gcmVzdWx0Wyd0aXRsZSddO1xuXHRcdFx0Ly8gXHRcdFx0ZC5kb2kgPSByZXN1bHRbJ2RvaSddO1xuXHRcdFx0Ly8gXHRcdFx0ZC5jaXRhdGlvbiA9IHJlc3VsdFsnY2l0YXRpb24nXTtcblx0XHRcdC8vIFx0XHRcdGQudXBkYXRlZFByb3BzID0gdHJ1ZTtcblx0XHRcdC8vIFx0XHRcdC8vIGQudG9vbHRpcEh0bWwgPSAnPHA+JyArIGQuY2l0YXRpb24gKyAnPC9wPic7XG5cdFx0XHQvLyBcdFx0XHQvLyBkLnRvb2x0aXBIdG1sID0gZC50b29sdGlwSHRtbCArICc8YnI+Jztcblx0XHRcdC8vIFx0XHRcdC8vIGQudG9vbHRpcEh0bWwgPSBkLnRvb2x0aXBIdG1sICsgJzxwPkNhdGVnb3J5OiAnICsgZC5Eb21haW5OYW1lICsgJzwvcD4nO1xuXHRcdFx0Ly8gXHRcdFx0Ly8gaWYgKGQuaG92ZXJlZCkge1xuXHRcdFx0Ly8gXHRcdFx0Ly8gXHRzZWxmLnRpcC5zaG93KGQsIGhvdmVyZWRJdGVtLm5vZGUoKSk7XG5cdFx0XHQvLyBcdFx0XHQvLyBcdC8vIHNlbGYudGlwLnNob3coZCk7XG5cdFx0XHQvLyBcdFx0XHQvLyB9XG4gICAgICAgICAgICAvL1xuXHRcdFx0Ly8gXHRcdH1cblx0XHRcdC8vIFx0fSk7XG5cdFx0XHQvLyB9IGVsc2UgaWYgKCBkLmlkeCA9PSAwICkge1xuXHRcdFx0Ly8gXHRkLnRvb2x0aXBIdG1sID0gJzxwPic7XG5cdFx0XHQvLyBcdGlmIChkLm5vZGVUeXBlKSB7XG5cdFx0XHQvLyBcdFx0ZC50b29sdGlwSHRtbCA9IGQudG9vbHRpcEh0bWwgKyBkLm5vZGVUeXBlLmNhcGl0YWxpemUoKSArICc6ICc7XG5cdFx0XHQvLyBcdH1cblx0XHRcdC8vIFx0ZC50b29sdGlwSHRtbCA9IGQudG9vbHRpcEh0bWwgKyBkLm5hbWU7XG5cdFx0XHQvLyBcdGQudG9vbHRpcEh0bWwgPSBkLnRvb2x0aXBIdG1sICsgJzwvcD4nO1xuXHRcdFx0Ly8gXHR2YXIgbnVtYmVyT2ZQdWJzID0gZC5wYXBlcnMubGVuZ3RoO1xuXHRcdFx0Ly8gXHRkLnRvb2x0aXBIdG1sID0gZC50b29sdGlwSHRtbCArICc8cD5OdW1iZXIgb2YgUHVibGljYXRpb25zOiAnICsgbnVtYmVyT2ZQdWJzICsgJzwvcD4nO1xuXHRcdFx0Ly8gXHRcblx0XHRcdC8vIH1cblx0XHRcdC8vIHNlbGYudGlwLnN0eWxlKCdib3JkZXItY29sb3InLCBkLmNvbG9yKVxuXHRcdFx0Ly8gXHQuc2hvdyhkLCBob3ZlcmVkSXRlbS5ub2RlKCkpO1xuXHRcdFx0XHQvLyAuc2hvdyhkKTtcblx0XHRcdC8vIHNlbGYubWFrZVRvb2x0aXAoZCwgZnVuY3Rpb24odG9vbHRpcEh0bWwpIHtcblx0XHRcdC8vIFx0c2VsZi50b29sdGlwID0gc2VsZi50b29sdGlwXG5cdFx0XHQvLyBcdFx0Lmh0bWwodG9vbHRpcEh0bWwpXG5cdFx0XHQvLyBcdFx0LnN0eWxlKCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKVxuXHRcdFx0Ly8gXHRcdC5zdHlsZSgnYm9yZGVyLXN0eWxlJywgJ3NvbGlkJylcblx0XHRcdC8vIFx0XHQuc3R5bGUoJ2JvcmRlci1jb2xvcicsIGQuY29sb3IpO1xuXHRcdFx0Ly8gfSk7XG5cdFx0XHQvLyBnb2luZyB0byB0cnkgdG8gdXNlIHRoZSBtZXRob2Qgb2YgZ2V0dGluZyB0aGUgY2l0YXRpb24gdGV4dC4gYnV0IG5vdCB3b3JraW5nIHlldFxuXHRcdFx0Ly8gZ2V0Q2l0YXRpb24oZC5QYXBlcklELCB0aGlzKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbihkKSB7XG5cdFx0XHQvLyBzZWxmLnRpcC5zaG93KGQpO1xuICAgICAgICAgICAgLy8gc2VsZi50b29sdGlwID0gc2VsZi50b29sdGlwXG5cdFx0XHQvLyBcdC5odG1sKGQudG9vbHRpcEh0bWwpXG4gICAgICAgICAgICAvLyAgICAgLnN0eWxlKCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKVxuICAgICAgICAgICAgLy8gICAgIC5zdHlsZSgndG9wJywgKGQzLmV2ZW50LnBhZ2VZLTEwKSsncHgnKVxuICAgICAgICAgICAgLy8gICAgIC5zdHlsZSgnbGVmdCcsIChkMy5ldmVudC5wYWdlWCsxMCkrJ3B4Jyk7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbignbW91c2VvdXQnLCBmdW5jdGlvbihkKSB7XG5cdFx0XHRkLmhvdmVyZWQgPSBmYWxzZTtcblx0XHRcdC8vIHNlbGYudGlwLmhpZGUoZCk7XG4gICAgICAgICAgICBzZWxmLnRvb2x0aXAgPSBzZWxmLnRvb2x0aXAuc3R5bGUoJ3Zpc2liaWxpdHknLCAnaGlkZGVuJyk7IH0pXG5cdFx0Lm9uKCdjbGljaycsIGZ1bmN0aW9uKGQpIHtcblx0XHRcdC8vIHZhciBkb2kgPSBnZXRET0koZC5QYXBlcklELCB0aGlzKTtcblx0XHRcdGlmICggKGQubm9kZVR5cGUgPT09ICdwYXBlcicpICkge1xuXHRcdFx0XHRpZiAoIChkLmhhc093blByb3BlcnR5KCdkb2knKSkgJiYgKGQuZG9pICE9PSAnJykgKSB7XG5cdFx0XHRcdFx0dmFyIHVybCA9ICdodHRwczovL2RvaS5vcmcvJyArIGQuZG9pO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHZhciB1cmwgPSAnaHR0cHM6Ly9wcmV2aWV3LmFjYWRlbWljLm1pY3Jvc29mdC5jb20vcGFwZXIvJyArIGQuaWQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0d2luZG93Lm9wZW4odXJsLCAnX2JsYW5rJyk7XG5cdFx0XHRcdFxuXHRcdFx0fVxuXHRcdH0pXG5cblx0ZnVuY3Rpb24gZ2V0RE9JKHBhcGVyaWQsIG5vZGVPYmopIHtcblx0XHR2YXIgdGhpc05vZGUgPSBkMy5zZWxlY3Qobm9kZU9iaik7XG5cdFx0JC5hamF4KHtcblx0XHRcdGRhdGFUeXBlOiAnanNvbicsXG5cdFx0XHR1cmw6ICRTQ1JJUFRfUk9PVCArICcvX3Zpc19nZXRfZG9pJyxcblx0XHRcdGRhdGE6IHtwYXBlcmlkOiBwYXBlcmlkfSxcblx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3VsdCkge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhyZXN1bHRbJ2RvaSddKTtcblx0XHRcdFx0dmFyIGRvaSA9IHJlc3VsdFsnZG9pJ107XG5cdFx0XHRcdGlmIChkb2kpIHtcblx0XHRcdFx0XHR2YXIgdXJsID0gJ2h0dHBzOi8vZG9pLm9yZy8nICsgZG9pO1xuXHRcdFx0XHRcdHdpbmRvdy5vcGVuKHVybCwgJ19ibGFuaycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdH1cblx0XHR9KTtcblx0XHRcblx0fVxuXHRmdW5jdGlvbiBnZXRDaXRhdGlvbihwYXBlcmlkLCBub2RlT2JqKSB7XG5cdFx0Ly9cblx0XHR2YXIgdGhpc05vZGUgPSBkMy5zZWxlY3Qobm9kZU9iaik7XG5cdFx0JC5hamF4KHtcblx0XHRcdGRhdGFUeXBlOiAnanNvbicsXG5cdFx0XHR1cmw6ICRTQ1JJUFRfUk9PVCArICcvX3Zpc19nZXRfY2l0YXRpb24nLFxuXHRcdFx0ZGF0YToge3BhcGVyaWQ6IHBhcGVyaWR9LFxuXHRcdFx0c3VjY2VzczogZnVuY3Rpb24ocmVzdWx0KSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKHJlc3VsdFsnY2l0YXRpb24nXSk7XG5cdFx0XHRcdHRoaXNOb2RlLmF0dHIoJ3RpdGxlJywgcmVzdWx0WydjaXRhdGlvbiddKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG59O1xuXG5lZ29HcmFwaFZpcy5wcm90b3R5cGUubWFrZVRvb2x0aXAgPSBmdW5jdGlvbihkLCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuXHQvLyBBY2NvdW50IGZvciBhdXRob3Igbm9kZTpcblx0aWYgKGQubm9kZVR5cGUgPT09ICdhdXRob3InIHx8IGQubm9kZVR5cGUgPT09ICcnIHx8IGQubm9kZVR5cGUgPT09ICd2ZW51ZScpIHtcblx0XHR2YXIgdG9vbHRpcEh0bWwgPSAnPHAgY2xhc3M9XCJhdXRob3JOYW1lXCI+QXV0aG9yOiAnICsgZC5BdXRob3JOYW1lICsgJzwvcD4nO1xuXHRcdGlmIChkLnBld19DbGFzcykge1xuXHRcdFx0dG9vbHRpcEh0bWwgPSB0b29sdGlwSHRtbCArICc8cCBjbGFzcz1cInBld0NsYXNzXCI+UGV3IENsYXNzOiAnICsgZC5wZXdfQ2xhc3MgKyAnPC9wPic7XG5cdFx0fVxuXHRcdHZhciBudW1iZXJPZlB1YnMgPSBkLnBhcGVycy5sZW5ndGg7XG5cdFx0dG9vbHRpcEh0bWwgPSB0b29sdGlwSHRtbCArICc8cCBjbGFzcz1cIm51bWJlck9mUHVic1wiPk51bWJlciBvZiBQdWJsaWNhdGlvbnM6ICcgKyBudW1iZXJPZlB1YnMgKyAnPC9wPic7XG5cdFx0Ly8gcmV0dXJuIHRvb2x0aXBIdG1sO1xuXHRcdGNhbGxiYWNrKHRvb2x0aXBIdG1sKTtcblx0fVxuXG5cdC8vIE90aGVyd2lzZTogbWFrZSBhIHRvb2x0aXAgZm9yIGEgcGFwZXIgbm9kZVxuXHRmdW5jdGlvbiBnZXRBdXRob3JMaXN0KGF1dGhvcnMpIHtcblx0XHR2YXIgYXV0aG9yTGlzdCA9IFtdO1xuXHRcdGF1dGhvcnMuZm9yRWFjaChmdW5jdGlvbihhKSB7XG5cdFx0XHR2YXIgdGhpc0F1dGhvclN0ckxpc3QgPSBhWzFdLnNwbGl0KCcgJyk7XG5cdFx0XHQvLyB0aGlzQXV0aG9yU3RyTGlzdCA9IHRoaXNBdXRob3JTdHJMaXN0Lm1hcChmdW5jdGlvbih4KSB7IHJldHVybiB4LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgeC5zbGljZSgxKS50b0xvd2VyQ2FzZSgpOyB9KTtcblx0XHRcdC8vIHRoaXNBdXRob3JTdHJMaXN0ID0gdGhpc0F1dGhvclN0ckxpc3QubWFwKGZ1bmN0aW9uKHgpIHsgaWYgKHggPT09IHgudG9VcHBlckNhc2UoKSkgcmV0dXJuIHguY2FwaXRhbGl6ZSgpOyBlbHNlIHJldHVybiB4O30pO1xuXHRcdFx0dGhpc0F1dGhvclN0ckxpc3QgPSB0aGlzQXV0aG9yU3RyTGlzdC5tYXAoZnVuY3Rpb24oeCkgeyBpZiAoeCAhPSB4LnRvVXBwZXJDYXNlKCkpIHJldHVybiB4LmNhcGl0YWxpemUoKTsgZWxzZSByZXR1cm4geDt9KTtcblx0XHRcdC8vIHZhciB0aGlzQXV0aG9yID0gYS5OYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgYS5OYW1lLnNsaWNlKDEpLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHR2YXIgdGhpc0F1dGhvciA9IHRoaXNBdXRob3JTdHJMaXN0LmpvaW4oJyAnKTtcblx0XHRcdGF1dGhvckxpc3QucHVzaCh0aGlzQXV0aG9yKTtcblx0XHR9KTtcblx0XHRyZXR1cm4gYXV0aG9yTGlzdDtcblx0fVxuXHRmdW5jdGlvbiBnZXRUaXRsZShwYXBlcmlkLCBjYWxsYmFjaykge1xuXHRcdC8vXG5cdFx0JC5hamF4KHtcblx0XHRcdGRhdGFUeXBlOiAnanNvbicsXG5cdFx0XHR1cmw6ICRTQ1JJUFRfUk9PVCArICcvX3Zpc19nZXRfdGl0bGUnLFxuXHRcdFx0ZGF0YToge3BhcGVyaWQ6IHBhcGVyaWR9LFxuXHRcdFx0c3VjY2VzczogZnVuY3Rpb24ocmVzdWx0KSB7XG5cdFx0XHRcdGNhbGxiYWNrKHJlc3VsdFsndGl0bGUnXSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblx0ZnVuY3Rpb24gbWFrZUh0bWwoKSB7XG5cdFx0Ly8gdmFyIHRvb2x0aXBIdG1sID0gJzxwIGNsYXNzPVwicGFwZXJJRFwiPnBJRDogJyArIGQuaWQgKyAnPC9wPic7XG5cdFx0dmFyIHRvb2x0aXBIdG1sID0gJyc7XG5cdFx0dG9vbHRpcEh0bWwgPSB0b29sdGlwSHRtbCArICc8cCBjbGFzcz1cInBhcGVyVGl0bGVcIj4nO1xuXHRcdHRvb2x0aXBIdG1sID0gdG9vbHRpcEh0bWwgKyBkLlRpdGxlO1xuXHRcdHRvb2x0aXBIdG1sID0gdG9vbHRpcEh0bWwgKyAnPC9wPic7XG5cdFx0dG9vbHRpcEh0bWwgPSB0b29sdGlwSHRtbCArICc8cCBjbGFzcz1cInBhcGVyWWVhclwiPicgKyBkLlllYXIgKyAnPC9wPic7XG5cdFx0dmFyIGF1dGhvclN0ckxpc3QgPSBbXTtcblx0XHRkLmF1dGhvckxpc3QuZm9yRWFjaChmdW5jdGlvbihhKSB7XG5cdFx0XHRhdXRob3JTdHJMaXN0LnB1c2goYSlcblx0XHR9KTtcblx0XHR2YXIgYXV0aG9yTGlzdCA9IGF1dGhvclN0ckxpc3Quam9pbignLCAnKTtcblx0XHR0b29sdGlwSHRtbCA9IHRvb2x0aXBIdG1sICsgJzxwIGNsYXNzPVwicGFwZXJBdXRob3JcIj5BdXRob3JzOiAnICsgYXV0aG9yTGlzdCArICc8L3A+Jztcblx0XHRyZXR1cm4gdG9vbHRpcEh0bWw7XG5cdH1cblx0aWYgKCBkLmhhc093blByb3BlcnR5KCdhdXRob3JzJykgKSB7XG5cdFx0dmFyIGF1dGhvckxpc3QgPSBnZXRBdXRob3JMaXN0KGQuYXV0aG9ycyk7XG5cdFx0ZC5hdXRob3JMaXN0ID0gYXV0aG9yTGlzdDtcblx0XHRpZiAoIGQuaGFzT3duUHJvcGVydHkoJ1RpdGxlJykgKXtcblx0XHRcdHZhciB0b29sdGlwSHRtbCA9IG1ha2VIdG1sKCk7XG5cdFx0XHRjYWxsYmFjayh0b29sdGlwSHRtbCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGdldFRpdGxlKGQuaWQsIGZ1bmN0aW9uKHRpdGxlKSB7XG5cdFx0XHRcdGQuVGl0bGUgPSB0aXRsZTtcblx0XHRcdFx0dmFyIHRvb2x0aXBIdG1sID0gbWFrZUh0bWwoKTtcblx0XHRcdFx0Y2FsbGJhY2sodG9vbHRpcEh0bWwpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdCQuYWpheCh7XG5cdFx0XHRkYXRhVHlwZTogJ2pzb24nLFxuXHRcdFx0dXJsOiAkU0NSSVBUX1JPT1QgKyAnL192aXNfZ2V0X2F1dGhvcmluZm8nLFxuXHRcdFx0ZGF0YToge2F1dGhvcmlkczogSlNPTi5zdHJpbmdpZnkoZC5BdXRob3JJRExpc3QpfSxcblx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3VsdCkge1xuXHRcdFx0XHRkLmF1dGhvcnMgPSByZXN1bHRbJ2F1dGhvcnMnXTtcblx0XHRcdFx0dmFyIGF1dGhvckxpc3QgPSBnZXRBdXRob3JMaXN0KGQuYXV0aG9ycylcblx0XHRcdFx0ZC5hdXRob3JMaXN0ID0gYXV0aG9yTGlzdDtcblx0XHRcdFx0aWYgKCBkLmhhc093blByb3BlcnR5KCdUaXRsZScpICl7XG5cdFx0XHRcdFx0dmFyIHRvb2x0aXBIdG1sID0gbWFrZUh0bWwoKTtcblx0XHRcdFx0XHRjYWxsYmFjayh0b29sdGlwSHRtbCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Z2V0VGl0bGUoZC5pZCwgZnVuY3Rpb24odGl0bGUpIHtcblx0XHRcdFx0XHRcdGQuVGl0bGUgPSB0aXRsZTtcblx0XHRcdFx0XHRcdHZhciB0b29sdGlwSHRtbCA9IG1ha2VIdG1sKCk7XG5cdFx0XHRcdFx0XHRjYWxsYmFjayh0b29sdGlwSHRtbCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblxuXHR9XG4gICAgXG59O1xuXG5lZ29HcmFwaFZpcy5wcm90b3R5cGUucmV2ZWFsRWdvTm9kZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHNlbGYuY3Vyck5vZGVJbmRleCA9IDA7ICAvLyBJbmRleCBvZiBjdXJyZW50IG5vZGUgKGVnbyBub2RlKVxuXHRzZWxmLmN1cnJZZWFyID0gc2VsZi5kYXRhLmdyYXBoLnllYXJSYW5nZVswXTtcblxuICAgIC8vIFJldmVhbCBlZ28gbm9kZVxuXHRkMy5zZWxlY3RBbGwoJy5ub2RlJykuZmlsdGVyKGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQuaWQgPT09IHNlbGYuZWdvTm9kZS5pZDsgfSlcbiAgICAgICAgLmNsYXNzZWQoJ2hpZGRlbicsIGZhbHNlKVxuICAgICAgICAuY2xhc3NlZCgndmlzaWJsZScsIHRydWUpXG4gICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgLy8gLmRlbGF5KHNlbGYuZ3JhcGhQYXJhbXMudHJhbnNpdGlvblRpbWVQZXJZZWFyLnZhbHVlLzQpXG4gICAgICAgIC5kdXJhdGlvbigyMDAwKVxuICAgICAgICAuYXR0cigncicsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgICAvL3JldHVybiA0LjUgKyAoc2VsZi5laWdlbkZhY3RvclNjYWxlKGQuRUYpICogMTApO1xuICAgICAgICAgICAgICAgIHJldHVybiBkLnJhZGl1cztcbiAgICAgICAgfSlcbiAgICAgICAgLmF0dHIoJ1QnLCAxKVxuXHRcdC5lYWNoKCdzdGFydCcsIGZ1bmN0aW9uKCkge1xuXHRcdFx0c2VsZi55ZWFyVGV4dERpc3BsYXkudHJhbnNpdGlvbigpXG5cdFx0XHQgICAgLmRlbGF5KDEwMDApXG5cdFx0XHQgICAgLmR1cmF0aW9uKDEwMDApXG5cdFx0XHQgICAgLnN0eWxlKCdvcGFjaXR5JywgLjE1KTtcblx0XHR9KVxuICAgICAgICAuZWFjaCgnZW5kJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyByZXZlYWwgbGVnZW5kXG4gICAgICAgICAgICAvLyBzZWxmLmxlZ2VuZC50cmFuc2l0aW9uKClcbiAgICAgICAgICAgIC8vICAgICAuZGVsYXkoNDAwMClcbiAgICAgICAgICAgIC8vICAgICAuZHVyYXRpb24oMTAwMClcbiAgICAgICAgICAgIC8vICAgICAuc3R5bGUoJ29wYWNpdHknLCAxKTtcblxuICAgICAgICAgICAgLy8gcmV2ZWFsIHRoZSBkaXNwbGF5IG9mIGN1cnJlbnQgeWVhclxuICAgICAgICAgICAgLy8gc2VsZi55ZWFyVGV4dERpc3BsYXkudHJhbnNpdGlvbigpXG4gICAgICAgICAgICAvLyAgICAgLmR1cmF0aW9uKDEwMDApXG4gICAgICAgICAgICAvLyAgICAgLnN0eWxlKCdvcGFjaXR5JywgLjE1KTtcblxuXHRcdFx0Ly8gbm90aWZ5IGV2ZXJ5b25lIChpLmUuIHRoZSBNYWluLmpzIGFuZCB0aGUgbGluZSBjaGFydHMpXG5cdFx0XHQkLmV2ZW50LnRyaWdnZXIoe1xuXHRcdFx0XHR0eXBlOiBcInllYXJDaGFuZ2VcIixcblx0XHRcdH0pO1xuICAgICAgICAgICAgc2VsZi5hbmltYXRlVG9EZXN0aW5hdGlvbk5vZGUoKTtcbiAgICAgICAgfSk7XG59O1xuXG5lZ29HcmFwaFZpcy5wcm90b3R5cGUuYW5pbWF0ZVRvRGVzdGluYXRpb25Ob2RlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cblxuICAgIC8vIENoZWNrIGlmIHdlJ3JlIG1vdmluZyBmb3J3YXJkIG9yIGJhY2t3YXJkXG4gICAgICAgIC8vIGlmIGN1cnJOb2RlSW5kZXggPCBkZXN0aW5hdGlvbk5vZGVJbmRleDpcbiAgICAgICAgLy8gICAgIGN1cnJOb2RlSW5kZXgrKztcbiAgICAgICAgLy8gICAgIGNoZWNrIGZvciB5ZWFyXG4gICAgICAgIC8vICAgICBkcmF3Tm9kZSgpO1xuICAgIGlmIChzZWxmLmN1cnJOb2RlSW5kZXggPT09IHNlbGYuZGVzdGluYXRpb25Ob2RlSW5kZXgpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2dvdG8gZmluaXNoJyk7XG4gICAgICAgIHNlbGYuZmluaXNoQW5pbWF0aW9uKCk7XG4gICAgfSBlbHNlIGlmIChzZWxmLmN1cnJOb2RlSW5kZXggPCBzZWxmLmRlc3RpbmF0aW9uTm9kZUluZGV4KSB7XG5cdFx0c2VsZi5hbmltYXRpb25TdGF0ZSA9ICdmb3J3YXJkJztcbiAgICAgICAgc2VsZi5jdXJyTm9kZUluZGV4Kys7XG4gICAgICAgIHNlbGYuY2hlY2tZZWFyKCk7XG4gICAgICAgIC8vIHNlbGYuZHJhd05vZGUoKTtcbiAgICB9IGVsc2UgaWYgKHNlbGYuY3Vyck5vZGVJbmRleCA+IHNlbGYuZGVzdGluYXRpb25Ob2RlSW5kZXgpIHtcblx0XHRzZWxmLmFuaW1hdGlvblN0YXRlID0gJ3Jld2luZCc7XG4gICAgICAgIHNlbGYuY3Vyck5vZGVJbmRleC0tO1xuICAgICAgICBzZWxmLmNoZWNrWWVhcigpO1xuICAgICAgICAvLyBzZWxmLnJlbW92ZU5vZGUoKTtcbiAgICB9XG59O1xuXG5lZ29HcmFwaFZpcy5wcm90b3R5cGUuY29udGludWUgPSBmdW5jdGlvbigpIHtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gaWYgKHNlbGYuY3Vyck5vZGVJbmRleCA9PT0gc2VsZi5kZXN0aW5hdGlvbk5vZGVJbmRleCkge1xuICAgIC8vICAgICBjb25zb2xlLmxvZygnZ290byBmaW5pc2gnKTtcbiAgICAvLyAgICAgc2VsZi5maW5pc2hBbmltYXRpb24oKTtcbiAgICAvLyBpZiAoc2VsZi5jdXJyTm9kZUluZGV4IDwgc2VsZi5kZXN0aW5hdGlvbk5vZGVJbmRleCkge1xuICAgIC8vICAgICBzZWxmLmRyYXdOb2RlKCk7XG4gICAgLy8gfSBlbHNlIGlmIChzZWxmLmN1cnJOb2RlSW5kZXggPiBzZWxmLmRlc3RpbmF0aW9uTm9kZUluZGV4KSB7XG4gICAgLy8gICAgIHNlbGYucmVtb3ZlTm9kZSgpO1xuICAgIC8vIH1cblxuXHQvLyBpZiB0aGUgeWVhciBvZiB0aGUgZmlyc3Qgbm9uRWdvIG5vZGUgaXMgdGhlIHNhbWUgYXMgdGhlIHllYXIgb2YgdGhlIGNlbnRlclxuXHQvLyBub2RlJ3MgZmlyc3QgcHVibGljYXRpb24sIHRyYW5zaXRpb25UaW1lUGVyTm9kZSB3aWxsIGJlIHVuZGVmaW5lZCBhbmQgdGhlcmVcblx0Ly8gd2lsbCBiZSBlcnJvcnMuXG5cdC8vIFNvIGxldCdzIGNhbGN1bGF0ZSBpdDpcblx0aWYgKHR5cGVvZiBzZWxmLnRyYW5zaXRpb25UaW1lUGVyTm9kZSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRzZWxmLmNhbGN1bGF0ZVRyYW5zaXRpb25UaW1lKCk7XG5cdH1cblx0aWYgKHNlbGYuYW5pbWF0aW9uU3RhdGUgPT09ICdmb3J3YXJkJykge1xuXHRcdHNlbGYuZHJhd05vZGUoKTtcblx0fSBlbHNlIGlmIChzZWxmLmFuaW1hdGlvblN0YXRlID09PSAncmV3aW5kJykge1xuXHRcdHNlbGYucmVtb3ZlTm9kZSgpO1xuXHR9XG59O1xuXG5lZ29HcmFwaFZpcy5wcm90b3R5cGUuY2hlY2tZZWFyID0gZnVuY3Rpb24oKSB7XG5cdHZhciBzZWxmID0gdGhpcztcblx0XG5cdC8vIGlmIHdlIGFyZSBvbiB0aGUgbGFzdCBub2RlLCBqdXN0IG1heCBvdXQgdGhlIHllYXIuXG5cdGlmIChzZWxmLmN1cnJOb2RlSW5kZXggPT0gc2VsZi5kYXRhLm5vZGVzLmxlbmd0aC0xKSB7XG5cdFx0c2VsZi5jdXJyWWVhciA9IHNlbGYuZGF0YS5ncmFwaC55ZWFyUmFuZ2VbMV07XG5cdFx0Ly8gLy8gY3V0b2ZmIGF0IDIwMTVcblx0XHQvLyBzZWxmLmN1cnJZZWFyID0gTWF0aC5taW4oc2VsZi5jdXJyWWVhciwgMjAxNSk7XG5cblx0XHRzZWxmLnllYXJUZXh0RGlzcGxheS50ZXh0KHNlbGYuY3VyclllYXIpO1xuXG5cdFx0Ly8galF1ZXJ5IGN1c3RvbSBldmVudCwgc28gdGhhdCBNYWluLmpzIGNhbiBsaXN0ZW4gZm9yIGl0IGFuZCBhZHZhbmNlIHRoZSB5ZWFyIG9uIHRoZSBsaW5lIGNoYXJ0c1xuXHRcdCQuZXZlbnQudHJpZ2dlcih7XG5cdFx0XHR0eXBlOiBcInllYXJDaGFuZ2VcIixcblx0XHR9KTtcblx0XHRzZWxmLmNvbnRpbnVlKCk7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0dmFyIGN1cnJOb2RlID0gc2VsZi5kYXRhLm5vZGVzLmZpbHRlcihmdW5jdGlvbihkKSB7IHJldHVybiBkLmlkeCA9PT0gc2VsZi5jdXJyTm9kZUluZGV4OyB9KTtcblx0dmFyIG9sZFllYXIgPSBzZWxmLmN1cnJZZWFyO1xuXHR2YXIgbmV3WWVhciA9IGN1cnJOb2RlWzBdLlllYXI7XG5cdC8vIGlmIHRoZSB5ZWFyIGlzIHRoZSBzYW1lIGFzIGl0IHdhcywgZG8gbm90aGluZ1xuXHRpZiAobmV3WWVhciA9PSBvbGRZZWFyKSB7XG5cdFx0c2VsZi5jb250aW51ZSgpO1xuXHR9IGVsc2UgaWYgKG5ld1llYXIgPiBvbGRZZWFyKSB7XG5cdFx0Ly8gdHJ5aW5nIHRvIGRlYnVnIHRpbWluZyBpc3N1ZXNcblx0XHQvLyBsb29rcyBsaWtlIHRpbWluZyBpcyBqdXN0IGluaGVyZW50bHkgaW5jb25zaXN0ZW50LiB0aGVyZSBzZWVtcyB0byBiZSBhIGRlbGF5IHdpdGggdGhpcyBtZXRob2QgKGNhbGxpbmcgdGhlIG5leHQgbm9kZSBkcmF3aW5nIGluIHRyYW5zaXRpb24uZWFjaCgnZW5kJykgKVxuXHRcdC8vIGNvbnNvbGUubG9nKHNlbGYuY3VyclllYXIpO1xuXHRcdC8vIGNvbnNvbGUubG9nKCdjICcrc2VsZi5jKTtcblx0XHQvLyBjb25zb2xlLmxvZygndHQgJytzZWxmLnR0KTtcblx0XHQvLyBjb25zb2xlLmxvZygndHQgb3ZlciBjICcrc2VsZi50dC9zZWxmLmMpO1xuXHRcdC8vIGNvbnNvbGUubG9nKCd0cmFuc2l0aW9uVGltZVBlck5vZGUgJytzZWxmLnRyYW5zaXRpb25UaW1lUGVyTm9kZSk7XG5cdFx0Ly8gY29uc29sZS5sb2coJ2Vycm9yICcrKHNlbGYudHJhbnNpdGlvblRpbWVQZXJOb2RlKS8oc2VsZi50dC9zZWxmLmMpKTtcblx0XHRzZWxmLmM9MDtcblx0XHRzZWxmLnR0PTA7XG5cdFx0c2VsZi5jdXJyWWVhcisrO1xuXHRcdHNlbGYuYmVnaW5OZXdZZWFyKCk7XG5cdH0gZWxzZSBpZiAobmV3WWVhciA8IG9sZFllYXIpIHtcblx0XHRzZWxmLmN1cnJZZWFyLS07XG5cdFx0c2VsZi5iZWdpbk5ld1llYXIoKTtcblx0fVxuXHQvLyBzZWxmLmN1cnJZZWFyID0gY3Vyck5vZGVbMF0uWWVhcjtcblxuXHQvLyBUT0RPOiBjb21lIGJhY2sgdG8gdGhpc1xuXHQvL1xuICAgIC8vIC8vIENoZWNrIHRoZSB5ZWFyIG9mIHRoZSBjdXJyZW50IG5vZGUsIGFuZCBpZiBpdCBpcyBkaWZmZXJlbnQgdGhhbiBjdXJyWWVhcjpcbiAgICAvLyAvLyAgICAgdXBkYXRlIGN1cnJZZWFyO1xuICAgIC8vIC8vICAgICB1cGRhdGUgeWVhclRleHREaXNwbGF5O1xuICAgIC8vIC8vICAgICBmYWRlIG5vZGVzIGFuZCBsaW5rcyBmcm9tIHByZXZpb3VzIHllYXI7XG4gICAgLy8gLy8gICAgIHJlY2FsY3VsYXRlIHRyYW5zaXRpb24gdGltZXM7XG4gICAgLy9cbiAgICAvLyB2YXIgc2VsZiA9IHRoaXM7XG4gICAgLy9cbiAgICAvLyB2YXIgeWVhck9mQ3Vyck5vZGUgPSBzZWxmLmFsbE5vZGVzW3NlbGYuY3Vyck5vZGVJbmRleF0uWWVhclxuICAgIC8vIGlmICggeWVhck9mQ3Vyck5vZGUgIT0gc2VsZi5jdXJyWWVhciApIHtcbiAgICAvLyAgICAgc2VsZi5jdXJyWWVhciA9IHllYXJPZkN1cnJOb2RlO1xuICAgIC8vXG4gICAgLy8gICAgIHNlbGYudXBkYXRlTGluZUNoYXJ0KCk7XG4gICAgLy9cbiAgICAvLyAgICAgLy8gVXBkYXRlIHRoZSB5ZWFyIGRpc3BsYXlcbiAgICAvLyAgICAgc2VsZi55ZWFyVGV4dERpc3BsYXkudGV4dChzZWxmLmN1cnJZZWFyKTtcbiAgICAvLyAgICAgLy8gSSBtYXkgbmVlZCB0byBkbyBzb21ldGhpbmcgYWJvdXQgdGhpcyAodGhhdCB0aGUgeWVhciB0ZXh0IGRpc3BsYXkgc3RhcnRzIG9mZiBoaWRkZW4pOlxuICAgIC8vICAgICAvLyBpZiAoc2VsZi5jdXJyWWVhciA9PSBzZWxmLmVnb05vZGUuWWVhcikgXG4gICAgLy8gICAgIC8vICAgICAgICAge3NlbGYueWVhclRleHREaXNwbGF5LnRyYW5zaXRpb24oKVxuICAgIC8vICAgICAvLyAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKDEwMDApXG4gICAgLy8gICAgIC8vICAgICAgICAgICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAuMTUpO1xuICAgIC8vXG4gICAgLy8gICAgIC8vIE9ubHkgZmFkZSBwcmV2aW91cyB5ZWFyIGlmIGdvaW5nIGZvcndhcmQgaW4gdGltZVxuICAgIC8vICAgICBpZiAoc2VsZi5jdXJyTm9kZUluZGV4IDwgc2VsZi5kZXN0aW5hdGlvbk5vZGVJbmRleCkgc2VsZi5mYWRlTm9kZXNBbmRMaW5rc1ByZXZZZWFyKCk7XG4gICAgLy9cbiAgICAvLyAgICAgc2VsZi5jYWxjdWxhdGVUcmFuc2l0aW9uVGltZSgpO1xuICAgIC8vIH1cblx0cmV0dXJuIHNlbGYuY3VyclllYXI7XG59O1xuXG5lZ29HcmFwaFZpcy5wcm90b3R5cGUuYmVnaW5OZXdZZWFyID0gZnVuY3Rpb24oKSB7XG5cdHZhciBzZWxmID0gdGhpcztcblxuXHRcblx0c2VsZi55ZWFyVGV4dERpc3BsYXkudGV4dChzZWxmLmN1cnJZZWFyKTtcblxuXHQvLyBqUXVlcnkgY3VzdG9tIGV2ZW50LCBzbyB0aGF0IE1haW4uanMgY2FuIGxpc3RlbiBmb3IgaXQgYW5kIGFkdmFuY2UgdGhlIHllYXIgb24gdGhlIGxpbmUgY2hhcnRzXG5cdCQuZXZlbnQudHJpZ2dlcih7XG5cdFx0dHlwZTogXCJ5ZWFyQ2hhbmdlXCIsXG5cdH0pO1xuXG5cdHNlbGYuY2FsY3VsYXRlVHJhbnNpdGlvblRpbWUoKTtcblx0dmFyIG5vZGVzVGhpc1llYXIgPSBzZWxmLm5vdEVnb05vZGVzLmZpbHRlcihmdW5jdGlvbihkKSB7IHJldHVybiBkLlllYXIgPT0gc2VsZi5jdXJyWWVhcjsgfSk7XG5cblx0Ly8gSWYgdGhpcyB5ZWFyIGhhcyBubyBub2RlcywgZGVsYXksIHRoZW4gY29udGludWVcblx0aWYgKCBub2Rlc1RoaXNZZWFyLmxlbmd0aCA9PT0gMCApIHtcblx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0c2VsZi5jaGVja1llYXIoKTtcblx0XHR9LCBzZWxmLnRyYW5zaXRpb25UaW1lUGVyWWVhcltzZWxmLmN1cnJZZWFyXSlcblx0fSBlbHNlIHtcblx0XHRzZWxmLmNvbnRpbnVlKCk7XG5cdH1cblxuXG59O1xuXG5lZ29HcmFwaFZpcy5wcm90b3R5cGUuZHJhd05vZGUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBzZWxmLmFuaW1hdGlvblN0YXRlID0gJ2ZvcndhcmQnO1xuXG4gICAgLy8gc2VsZi5mYWRlTm9kZXNBbmRMaW5rc1ByZXZZZWFyKCk7XG5cbiAgICB2YXIgY3Vyck5vZGUgPSBkMy5zZWxlY3RBbGwoJy5ub2RlJykuZmlsdGVyKGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQuaWR4ID09PSBzZWxmLmN1cnJOb2RlSW5kZXg7IH0pO1xuXG4gICAgZnVuY3Rpb24gZHJhd0xpbmtzKG5vZGVPYmopIHtcbiAgICAgICAgLy8gVGhpcyBmdW5jdGlvbiB3aWxsIGRyYXcgdGhlIGxpbmsgb3V0IGZyb20gdGhlIHNvdXJjZSB0byB0aGUgdGFyZ2V0LlxuICAgICAgICAvLyBXZSdsbCBjYWxsIGl0IGFmdGVyIGVhY2ggbm9kZSBhcHBlYXJzLlxuICAgICAgICBub2RlT2JqLmxpbmtzVGhpc05vZGVJc1NvdXJjZSA9IGQzLnNlbGVjdEFsbCgnLmxpbmsnKS5maWx0ZXIoZnVuY3Rpb24obCkgeyByZXR1cm4gbC5zb3VyY2UgPT09IG5vZGVPYmo7IH0pO1xuICAgICAgICBub2RlT2JqLmxpbmtzVGhpc05vZGVJc1NvdXJjZS5jbGFzc2VkKCdoaWRkZW4nLCBmYWxzZSlcbiAgICAgICAgICAgIC5jbGFzc2VkKCd2aXNpYmxlJywgdHJ1ZSlcbiAgICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uKGQpIHsgZC5pblRyYW5zaXRpb24gPSB0cnVlOyB9KVxuICAgICAgICAgICAgLmF0dHIoJ3gyJywgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5zb3VyY2UueDsgfSlcbiAgICAgICAgICAgIC5hdHRyKCd5MicsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQuc291cmNlLnk7IH0pXG4gICAgICAgICAgICAuc3R5bGUoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpXG4gICAgICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgICAgICAuZWFzZSgnbGluZWFyJylcbiAgICAgICAgICAgIC5kZWxheSgwKVxuICAgICAgICAgICAgLmR1cmF0aW9uKHNlbGYubGlua0FwcGVhckR1cmF0aW9uKVxuICAgICAgICAgICAgLmF0dHIoJ3gyJywgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC50YXJnZXQueDsgfSlcbiAgICAgICAgICAgIC5hdHRyKCd5MicsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQudGFyZ2V0Lnk7IH0pXG4gICAgICAgICAgICAvLyAuYXR0cigneDInLCAwKVxuICAgICAgICAgICAgLy8gLmF0dHIoJ3kyJywgMClcbiAgICAgICAgICAgIC5hdHRyKCdUJywgMSlcbiAgICAgICAgICAgIC5lYWNoKCdlbmQnLCBmdW5jdGlvbihkKSB7IGQuaW5UcmFuc2l0aW9uID0gZmFsc2U7IH0pO1xuICAgIH1cbiAgICAvLyBNYWtlIHRoZSBub2RlcyBhcHBlYXI6XG5cdC8vIHZhciB0MCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIGN1cnJOb2RlLmNsYXNzZWQoJ2hpZGRlbicsIGZhbHNlKVxuICAgICAgICAuY2xhc3NlZCgndmlzaWJsZScsIHRydWUpXG4gICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgLmVhc2UoJ2xpbmVhcicpXG4gICAgICAgIC8vLmRlbGF5KGZ1bmN0aW9uKGQsIGkpIHsgcmV0dXJuIChpLWN1cnJJbmRleCkgKiB0aW1lUGVyTm9kZTsgfSlcbiAgICAgICAgLy8gLmRlbGF5KGZ1bmN0aW9uKGQsIGkpIHsgcmV0dXJuIGkgKiBzZWxmLnRyYW5zaXRpb25UaW1lUGVyTm9kZTsgfSlcbiAgICAgICAgLmR1cmF0aW9uKHNlbGYudHJhbnNpdGlvblRpbWVQZXJOb2RlKVxuICAgICAgICAuYXR0cigncicsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgIC8vcmV0dXJuIDQuNSArIChzZWxmLmVpZ2VuRmFjdG9yU2NhbGUoZC5FRikgKiAxMCk7XG4gICAgICAgICAgICByZXR1cm4gZC5yYWRpdXM7XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKCdUJywgMSlcblx0XHQuZWFjaCgnZW5kJywgZnVuY3Rpb24oZCkge1xuXHRcdFx0Ly8gdmFyIHQxID0gcGVyZm9ybWFuY2Uubm93KCk7XG5cdFx0XHQvLyBzZWxmLnR0ID0gc2VsZi50dCArICh0MS10MCk7XG5cdFx0XHRzZWxmLmMrKztcblx0XHRcdGlmIChzZWxmLnpvb21hYmxlID09PSB0cnVlKSB7XG5cdFx0XHRcdHNlbGYuY2hlY2tab29tKGQpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gY29uc29sZS5sb2codDEtdDAgKyBcIm1pbGxpc2Vjb25kc1wiKTtcblx0XHRcdHNlbGYuYW5pbWF0ZVRvRGVzdGluYXRpb25Ob2RlKCk7XG5cdFx0XHRkcmF3TGlua3MoZCk7XG5cbiAgICAgICAgfSk7XG59O1xuXG5lZ29HcmFwaFZpcy5wcm90b3R5cGUucmVtb3ZlTm9kZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHNlbGYuYW5pbWF0aW9uU3RhdGUgPSAncmV3aW5kJztcblxuICAgIC8vIHNlbGYuY2FsY3VsYXRlVHJhbnNpdGlvblRpbWUoKTtcblxuICAgIHZhciBjdXJyTm9kZSA9IGQzLnNlbGVjdEFsbCgnLm5vZGUnKS5maWx0ZXIoZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5pbmRleCA9PT0gc2VsZi5jdXJyTm9kZUluZGV4OyB9KTtcbiAgICB2YXIgY3VyckxpbmtzID0gZDMuc2VsZWN0QWxsKCcubGluaycpLmZpbHRlcihmdW5jdGlvbihkKSB7IHJldHVybiBkLnNvdXJjZS5pbmRleCA9PT0gc2VsZi5jdXJyTm9kZUluZGV4OyB9KTtcblxuICAgIC8vIHZhciByZXRyYWN0RHVyYXRpb24gPSBzZWxmLmxpbmtBcHBlYXJEdXJhdGlvbjtcbiAgICB2YXIgcmV0cmFjdER1cmF0aW9uID0gc2VsZi50cmFuc2l0aW9uVGltZVBlck5vZGU7XG4gICAgY3VyckxpbmtzLnRyYW5zaXRpb24oKVxuICAgICAgICAuZWFjaCgnc3RhcnQnLCBmdW5jdGlvbihkKSB7IGQuaW5UcmFuc2l0aW9uPXRydWU7IH0pXG4gICAgICAgIC5kdXJhdGlvbihyZXRyYWN0RHVyYXRpb24pXG4gICAgICAgIC5lYXNlKCdxdWFkJylcbiAgICAgICAgLmF0dHIoJ3gyJywgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5zb3VyY2UueDsgfSlcbiAgICAgICAgLmF0dHIoJ3kyJywgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5zb3VyY2UueTsgfSlcbiAgICAgICAgLmNhbGwoZnVuY3Rpb24oZCkge1xuXHRcdC8vIC5lYWNoKCdlbmQnLCBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICBkLmluVHJhbnNpdGlvbj1mYWxzZTtcbiAgICAgICAgICAgIHZhciBjdXJyTm9kZSA9IGQzLnNlbGVjdEFsbCgnLm5vZGUnKS5maWx0ZXIoZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5pZHggPT09IHNlbGYuY3Vyck5vZGVJbmRleDsgfSk7XG4gICAgICAgICAgICBjdXJyTm9kZS50cmFuc2l0aW9uKClcbiAgICAgICAgICAgICAgICAuZHVyYXRpb24oc2VsZi50cmFuc2l0aW9uVGltZVBlck5vZGUpXG4gICAgICAgICAgICAgICAgLmVhc2UoJ3F1YWQnKVxuICAgICAgICAgICAgICAgIC5hdHRyKCdyJywwKVxuICAgICAgICAgICAgICAgIC5hdHRyKCdUJywxKVxuICAgICAgICAgICAgICAgIC5lYWNoKCdlbmQnLCBmdW5jdGlvbihkZCkge1xuICAgICAgICAgICAgICAgICAgICBkMy5zZWxlY3QodGhpcykuY2xhc3NlZCgnaGlkZGVuJywgdHJ1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCd2aXNpYmxlJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmFuaW1hdGVUb0Rlc3RpbmF0aW9uTm9kZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbn07XG5cbmVnb0dyYXBoVmlzLnByb3RvdHlwZS5maW5pc2hBbmltYXRpb24gPSBmdW5jdGlvbigpIHtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdHNlbGYuYW5pbWF0aW9uU3RhdGUgPSAnc3RvcHBlZCc7XG5cdCQuZXZlbnQudHJpZ2dlcih7XG5cdFx0dHlwZTogXCJhbmltYXRpb25GaW5pc2hlZFwiLFxuXHR9KTtcblx0Y29uc29sZS5sb2coJ2ZpbmlzaGVkJyk7XG5cdGNvbnNvbGUubG9nKHNlbGYuY3Vyck5vZGVJbmRleCk7XG59O1xuXG5lZ29HcmFwaFZpcy5wcm90b3R5cGUubmV3RGVzdGluYXRpb25Ob2RlID0gZnVuY3Rpb24oZGVzdGluYXRpb25ZZWFyKSB7XG5cdHZhciBzZWxmID0gdGhpcztcblxuXHRzZWxmLmRlc3RpbmF0aW9uWWVhciA9IGRlc3RpbmF0aW9uWWVhcjtcblx0Y29uc29sZS5sb2coc2VsZi5kZXN0aW5hdGlvblllYXIpO1xuXHRzZWxmLmdldERlc3RpbmF0aW9uTm9kZSgpO1xuXHRcblx0Ly8gbWFrZSBzdXJlIHRoZSBjdXJyZW50IG5vZGUgaXMgaW5jbHVkZWQ6XG5cdGlmICggIShzZWxmLmN1cnJOb2RlSW5kZXggPT09IHNlbGYuZGVzdGluYXRpb25Ob2RlSW5kZXgpICkgeyAgLy8gZG9uJ3QgZG8gYW55dGhpbmcgaWYgdGhpcyBpcyB0cnVlXG5cdFx0aWYgKHNlbGYuY3Vyck5vZGVJbmRleCA8IHNlbGYuZGVzdGluYXRpb25Ob2RlSW5kZXgpIHtcblx0XHRcdHNlbGYuYW5pbWF0aW9uU3RhdGUgPSAnZm9yd2FyZCc7XG5cdFx0XHRzZWxmLmRyYXdOb2RlKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNlbGYuYW5pbWF0aW9uU3RhdGUgPSAncmV3aW5kJztcblx0XHRcdHNlbGYucmVtb3ZlTm9kZSgpO1xuXHRcdH1cblx0fVxufTtcblxuZWdvR3JhcGhWaXMucHJvdG90eXBlLmdldERlc3RpbmF0aW9uTm9kZSA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0Ly8gR2V0IHRoZSBkZXN0aW5hdGlvbiBub2RlIGluZGV4IGZyb20gdGhlIGRlc3RpbmF0aW9uIHllYXJcblx0dmFyIG1heFllYXIgPSBzZWxmLmRhdGEuZ3JhcGgueWVhclJhbmdlWzFdO1xuXHRmdW5jdGlvbiBnZXROb2Rlc1RoaXNZZWFyKCkge1xuXHRcdHZhciBub2Rlc1RoaXNZZWFyID0gc2VsZi5ub3RFZ29Ob2Rlcy5maWx0ZXIoZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5ZZWFyID09IHNlbGYuZGVzdGluYXRpb25ZZWFyOyB9KTtcblx0XHRyZXR1cm4gbm9kZXNUaGlzWWVhcjtcblx0fVxuXHR2YXIgbm9kZXNUaGlzWWVhciA9IGdldE5vZGVzVGhpc1llYXIoKTtcblx0aWYgKG5vZGVzVGhpc1llYXIubGVuZ3RoID4gMCkge1xuXHRcdHZhciBsYXN0Tm9kZVRoaXNZZWFyID0gbm9kZXNUaGlzWWVhcltub2Rlc1RoaXNZZWFyLmxlbmd0aC0xXTtcblx0XHRzZWxmLmRlc3RpbmF0aW9uTm9kZUluZGV4ID0gbGFzdE5vZGVUaGlzWWVhci5pZHg7XG5cdH0gZWxzZSB7XG5cdFx0aWYgKHNlbGYuZGVzdGluYXRpb25ZZWFyID09IG1heFllYXIpIHtcblx0XHRcdHJld2luZFNlYXJjaCgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzZWxmLmRlc3RpbmF0aW9uWWVhcisrO1xuXHRcdFx0c2VsZi5nZXREZXN0aW5hdGlvbk5vZGUoKTsgIC8vIHJlY3Vyc2Vcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiByZXdpbmRTZWFyY2goKSB7XG5cdFx0c2VsZi5kZXN0aW5hdGlvblllYXItLTtcblx0XHR2YXIgbm9kZXNUaGlzWWVhciA9IGdldE5vZGVzVGhpc1llYXIoKTtcblx0XHRpZiAobm9kZXNUaGlzWWVhci5sZW5ndGggPiAwKSB7XG5cdFx0XHRzZWxmLmdldERlc3RpbmF0aW9uTm9kZSgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXdpbmRTZWFyY2goKTsgIC8vIHJlY3Vyc2Vcblx0XHR9XG5cdH1cblxufTtcblxuZWdvR3JhcGhWaXMucHJvdG90eXBlLmNhbGN1bGF0ZVRyYW5zaXRpb25UaW1lID0gZnVuY3Rpb24oKSB7XG5cdC8vIE1ldGhvZCB0byBjYWxjdWxhdGUgdGhlIHRyYW5zaXRpb24gdGltZSBmb3IgZWFjaCBub2RlIGJhc2VkIG9uIHRoZSBudW1iZXIgb2Ygbm9kZXMgaW4gdGhlIGN1cnJlbnQgeWVhclxuXHRcblx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdC8vIFNQRUVEIFVQIEZPUiBURVNUSU5HIFBVUlBPU0VTXG5cdC8vIEtFRVAgVEhJUyBDT01NRU5URUQgT1VUXG5cdC8vIHNlbGYudHJhbnNpdGlvblRpbWVQZXJZZWFyW3NlbGYuY3VyclllYXJdID0gMTAwO1xuXG5cdHZhciBjb3VudFRoaXNZZWFyID0gc2VsZi5kYXRhLmdyYXBoLm5vZGVDb3VudHNQZXJZZWFyW3NlbGYuY3VyclllYXJdO1xuXHRzZWxmLnRyYW5zaXRpb25UaW1lUGVyTm9kZSA9IGNvdW50VGhpc1llYXIgPyBzZWxmLnRyYW5zaXRpb25UaW1lUGVyWWVhcltzZWxmLmN1cnJZZWFyXSAvIGNvdW50VGhpc1llYXIgOiAwO1xuXHRzZWxmLnRyYW5zaXRpb25UaW1lUGVyTm9kZSA9IHNlbGYudHJhbnNpdGlvblRpbWVQZXJOb2RlIC0gMTA7XG5cblxufTtcblxuZWdvR3JhcGhWaXMucHJvdG90eXBlLnJldmVhbEZpbmFsU3RhdGUgPSBmdW5jdGlvbigpIHtcblx0Ly8gY2FuY2VsIGFsbCB0cmFuc2l0aW9ucyBhbmQgcmV2ZWFsIHRoZSBmaW5hbCBzdGF0ZSBvZiB0aGUgdmlzXG5cblx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0ZDMuc2VsZWN0QWxsKCcubm9kZSwgLmxpbmsnKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oMCk7XG5cblx0c2VsZi5ub2RlXG5cdFx0LmNsYXNzZWQoJ2hpZGRlbicsIGZhbHNlKVxuXHRcdC5hdHRyKCdyJywgZnVuY3Rpb24oZCkge1xuXHRcdFx0cmV0dXJuIGQucmFkaXVzO1xuXHRcdH0pXG5cdFx0LmVhY2goZnVuY3Rpb24oZCkge1xuXHRcdFx0aWYgKHNlbGYuem9vbWFibGUgPT09IHRydWUpIHtcblx0XHRcdFx0c2VsZi5jaGVja1pvb20oZClcblx0XHRcdH1cblx0XHR9KTtcblxuXHRzZWxmLmxpbmtcblx0XHQuY2xhc3NlZCgnaGlkZGVuJywgZmFsc2UpXG5cdFx0LmNsYXNzZWQoJ3Zpc2libGUnLCB0cnVlKVxuXHRcdC5zdHlsZSgndmlzaWJpbGl0eScsICd2aXNpYmxlJylcblx0XHQuYXR0cigneDInLCBmdW5jdGlvbihkKSB7IHJldHVybiBkLnRhcmdldC54OyB9KVxuXHRcdC5hdHRyKCd5MicsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQudGFyZ2V0Lnk7IH0pXG5cdFx0LmVhY2goZnVuY3Rpb24oZCkgeyBkLmluVHJhbnNpdGlvbiA9IGZhbHNlOyB9KTtcblxuXHRzZWxmLmN1cnJOb2RlSW5kZXggPSBzZWxmLmRhdGEubm9kZXMubGVuZ3RoLTE7XG5cdHNlbGYuY3VyclllYXIgPSBzZWxmLmRhdGEuZ3JhcGgueWVhclJhbmdlWzFdO1xuXHRzZWxmLnllYXJUZXh0RGlzcGxheS50ZXh0KHNlbGYuY3VyclllYXIpO1xuXHQkLmV2ZW50LnRyaWdnZXIoe1xuXHRcdHR5cGU6IFwieWVhckNoYW5nZVwiLFxuXHR9KVxuXG5cdHNlbGYuZmluaXNoQW5pbWF0aW9uKCk7XG5cblx0cmV0dXJuXG59XG5cblx0XHRcblxuXG5cbnZhciBjaXRhdGlvblZpcyA9IGNpdGF0aW9uVmlzIHx8IHt9O1xuXG5jaXRhdGlvblZpcy5lZ29HcmFwaERhdGEgPSAoZnVuY3Rpb24obWF4Tm9kZXMpIHtcblx0ZnVuY3Rpb24gcHJlcGFyZV9lZ29HcmFwaERhdGEoZ3JhcGgpIHtcblx0XHRmb3IgKGk9MDsgaTxncmFwaC5ub2Rlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Z3JhcGgubm9kZXNbaV0ub2xkSWR4ID0gaTtcblx0XHR9XG5cdFx0dmFyIG5ld0dyYXBoID0ge307XG5cdFx0Ly8gQ29weSBwcm9wZXJ0aWVzIHRvIG5ld0dyYXBoIHRoYXQgd29uJ3QgY2hhbmdlOlxuXHRcdHZhciBwcm9wc1RvQ29weSA9IFsnZ3JhcGgnLCAnZGlyZWN0ZWQnLCAnbXVsdGlncmFwaCddO1xuXHRcdGZvciAoaT0wOyBpPHByb3BzVG9Db3B5Lmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgcHJvcCA9IHByb3BzVG9Db3B5W2ldO1xuXHRcdFx0aWYgKGdyYXBoLmhhc093blByb3BlcnR5KHByb3ApKSB7IG5ld0dyYXBoW3Byb3BdID0gZ3JhcGhbcHJvcF07IH1cblx0XHR9XG5cblx0XHRuZXdHcmFwaC5ub2RlcyA9IFtdO1xuXHRcdG5ld0dyYXBoLm5vZGVzLnB1c2goZ3JhcGgubm9kZXNbMF0pO1xuXHRcdG5ld0dyYXBoLm5vZGVzWzBdLmlkeCA9IDA7XG5cdFx0Ly8gLy8gdGhpcyBpcyBhIHRlc3Q6XG5cdFx0Ly8gZm9yIChpPTEwOyBpPDIwOyBpKyspIHtcblx0XHQvLyBcdHZhciBuZXdOb2RlID0gZ3JhcGgubm9kZXNbaV07XG5cdFx0Ly8gXHRuZXdOb2RlLmlkeCA9IG5ld0dyYXBoLm5vZGVzLmxlbmd0aDtcblx0XHQvLyBcdG5ld0dyYXBoLm5vZGVzLnB1c2gobmV3Tm9kZSk7XG5cdFx0Ly8gfVxuXHRcdHZhciBub3RFZ29Ob2RlcyA9IFtdO1xuXHRcdC8vIEZpbHRlciBvdXQgbm9kZXMgdGhhdCBoYXZlIHllYXIgb2YgMFxuXHRcdGZvciAodmFyIGk9MTsgaTxncmFwaC5ub2Rlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Ly8gaWYgKCAoZ3JhcGgubm9kZXNbaV0uRUYgPiAwKSAmJiAoZ3JhcGgubm9kZXNbaV0uWWVhcj4wKSApIHtcblx0XHRcdGlmIChncmFwaC5ub2Rlc1tpXS5ZZWFyPjAgJiYgZ3JhcGgubm9kZXNbaV0uVGl0bGUgIT0gXCJcIikge1xuXHRcdFx0XHRub3RFZ29Ob2Rlcy5wdXNoKGdyYXBoLm5vZGVzW2ldKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Ly8gU3RhcnQgYnkgcmFuZG9taXppbmcgdGhlIG9yZGVyIG9mIGFsbCB0aGUgbm9kZXNcblx0XHRkMy5zaHVmZmxlKG5vdEVnb05vZGVzKTtcblx0XHQvLyBvcmRlciBkZXNjZW5kaW5nIGJ5IEVpZ2VuZmFjdG9yXG5cdFx0Ly8gbm90RWdvTm9kZXMuc29ydChmdW5jdGlvbihhLGIpIHsgcmV0dXJuIGIuRUYgLSBhLkVGOyB9KTtcblx0XHRub3RFZ29Ob2Rlcy5zb3J0KGZ1bmN0aW9uKGEsYikgeyByZXR1cm4gZDMuZGVzY2VuZGluZyhhLkVGLCBiLkVGKTsgfSk7XG5cdFx0Ly8gLy8gSSBkb24ndCB3YW50IHRvIHJlbW92ZSBhbnkgbm9kZXMgdGhhdCBoYXZlIGEgZGlmZmVyZW50IERvbWFpbklEIHRoYW4gdGhlIGVnbyxcblx0XHQvLyAvLyBzbyBJJ2xsIG1vdmUgdGhvc2UgdG8gdGhlIGZyb250IHRvIHByb3RlY3QgdGhlbS5cblx0XHQvLyAvLyBBQ1RVQUxMWSB0aGVyZSBhcmUgdG9vIG1hbnkgdG8gZG8gdGhpc1xuXHRcdC8vIHZhciBlZ29Eb21haW4gPSBncmFwaC5ub2Rlc1swXS5Eb21haW5Db3VudHNbMF0ua2V5OyAgLy8gVGhpcyBpcyB0aGUgbW9zdCBjb21tb24gZG9tYWluIGlkIGZvciB0aGUgZWdvIGF1dGhvcidzIHBhcGVyc1xuXHRcdC8vIHZhciBjID0gW107XG5cdFx0Ly8gZm9yICh2YXIgaT0wOyBpPG5vdEVnb05vZGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0Ly8gXHRpZiAoIG5vdEVnb05vZGVzW2ldLkRvbWFpbklEICE9IGVnb0RvbWFpbiApIHtcblx0XHQvLyBcdFx0Yy5wdXNoKG5vdEVnb05vZGVzW2ldLkRvbWFpbklEKTtcblx0XHQvLyBcdFx0bm90RWdvTm9kZXMuc3BsaWNlKDAsIDAsIG5vdEVnb05vZGVzLnNwbGljZShpLCAxKVswXSk7XG5cdFx0Ly8gXHR9XG5cdFx0Ly8gfVxuXHRcdC8vIE1vdmUgcGFwZXJzIHRoYXQgaGF2ZSBhIERvbWFpbklEIHRvIHRoZSBmcm9udFxuXHRcdGZ1bmN0aW9uIERvbWFpbklEVG9Gcm9udChhcnIpIHtcblx0XHRcdHZhciBoYXNEb21haW5JRCA9IFtdO1xuXHRcdFx0dmFyIG5vRG9tYWluSUQgPSBbXTtcblx0XHRcdGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnIubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdFx0aWYgKCBhcnJbaV0uRG9tYWluSUQgIT0gMCApIHtcblx0XHRcdFx0XHRoYXNEb21haW5JRC5wdXNoKGFycltpXSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bm9Eb21haW5JRC5wdXNoKGFycltpXSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGNvbnNvbGUubG9nKGFycik7XG5cdFx0XHR2YXIgbmV3QXJyID0gaGFzRG9tYWluSUQuY29uY2F0KG5vRG9tYWluSUQpO1xuXHRcdFx0Y29uc29sZS5sb2cobmV3QXJyKTtcblx0XHRcdHJldHVybiBuZXdBcnI7XG5cdFx0fVxuXHRcdG5vdEVnb05vZGVzID0gRG9tYWluSURUb0Zyb250KG5vdEVnb05vZGVzKTtcblx0XHQvLyBmb3IgKHZhciBpID0gbm90RWdvTm9kZXMubGVuZ3RoLTE7IGk+PTA7IGktLSkge1xuXHRcdC8vIFx0aWYgKCBub3RFZ29Ob2Rlc1tpXS5Eb21haW5JRCAhPSAwICkge1xuXHRcdC8vIFx0XHRub3RFZ29Ob2Rlcy5zcGxpY2UoMCwgMCwgbm90RWdvTm9kZXMuc3BsaWNlKGksIDEpWzBdKTtcblx0XHQvLyBcdH1cblx0XHQvLyB9XG5cdFx0Ly8gY29uc29sZS5sb2coYyk7XG5cdFx0Ly8gVGFrZSB0aGUgZmlyc3QgbiBpdGVtcywgd2hlcmUgbiA9IG1heE5vZGVzXG5cdFx0Ly8gY29uc29sZS5sb2cobWF4Tm9kZXMpO1xuXHRcdGlmICh0eXBlb2YgbWF4Tm9kZXMgPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdHZhciBtYXhOb2RlcyA9IDI3NDsgIC8vIFRPRE86IGltcGxlbWVudCB0aGlzIGJldHRlciAoc28gaXQncyBub3QgaGFyZCBjb2RlZCBoZXJlKVxuXHRcdH1cblx0XHQvLyB2YXIgbWF4Tm9kZXMgPSA1MDAwOyAgLy8gVE9ETzogaW1wbGVtZW50IHRoaXMgYmV0dGVyIChzbyBpdCdzIG5vdCBoYXJkIGNvZGVkIGhlcmUpXG5cdFx0aWYgKG5vdEVnb05vZGVzLmxlbmd0aCA+IG1heE5vZGVzKSB7XG5cdFx0XHQvLyBzZWxmLmFsbE5vZGVzID0gc2VsZi5hbGxOb2Rlcy5zbGljZSgwLCBzZWxmLmdyYXBoUGFyYW1zLm1heE5vZGVzLnZhbHVlKTtcblx0XHRcdG5vdEVnb05vZGVzID0gbm90RWdvTm9kZXMuc2xpY2UoMCwgbWF4Tm9kZXMpO1xuXHRcdH1cbiAgICAgICAgLy8gc29ydCBieSBZZWFyXG4gICAgICAgIC8vIHRoZW4gc29ydCBieSBFRiAoc2l6ZSkgc28gdGhhdCBsYXJnZXIgbm9kZXMgdGVuZCB0byBhcHBlYXIgZmlyc3QuXG4gICAgICAgIC8vICh0aGlzIHNvbWV3aGF0IHJlZHVjZXMgdGhlIHByb2JsZW0gb2Ygc2VuZGluZyBvdXQgXG4gICAgICAgIC8vIGxpbmtzIHRvIG5vZGVzIHRoYXQgaGF2ZW4ndCBhcHBlYXJlZCB5ZXQuXG4gICAgICAgIC8vIG1heWJlIHRyeSBhIGJldHRlciBzb2x1dGlvbiBsYXRlci4pXG5cdFx0bm90RWdvTm9kZXMuc29ydChmdW5jdGlvbihhLGIpIHtcblx0XHRcdHJldHVybiBkMy5hc2NlbmRpbmcoYS5ZZWFyLCBiLlllYXIpIHx8IGQzLmRlc2NlbmRpbmcoYS5FRiwgYi5FRik7XG5cdFx0fSk7XG5cblx0XHQvLyBBcHBlbmQgdGhlc2UgdG8gbmV3R3JhcGgubm9kZXNcblx0XHRmb3IgKGk9MDsgaTxub3RFZ29Ob2Rlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIG5ld05vZGUgPSBub3RFZ29Ob2Rlc1tpXTtcblx0XHRcdG5ld05vZGUuaWR4ID0gbmV3R3JhcGgubm9kZXMubGVuZ3RoO1xuXHRcdFx0bmV3R3JhcGgubm9kZXMucHVzaChuZXdOb2RlKTtcblx0XHR9XG5cblx0XHRuZXdHcmFwaC5saW5rcyA9IHJlY2FsY3VsYXRlTGlua3MobmV3R3JhcGgubm9kZXMsIGdyYXBoLmxpbmtzKTtcblxuXHRcdGZ1bmN0aW9uIHJlY2FsY3VsYXRlTGlua3Mobm9kZXMsIGxpbmtzKSB7XG5cdFx0XHR2YXIgbmV3TGlua3MgPSBbXTtcblx0XHRcdGZvciAoaT0wOyBpPGxpbmtzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdC8vIHZhciB0aGlzU291cmNlID0gbm9kZXMuZmlsdGVyKGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQub2xkSWR4ID09PSBsaW5rc1tpXS5zb3VyY2U7IH0pO1xuXHRcdFx0XHQvLyB2YXIgdGhpc1RhcmdldCA9IG5vZGVzLmZpbHRlcihmdW5jdGlvbihkKSB7IHJldHVybiBkLm9sZElkeCA9PT0gbGlua3NbaV0udGFyZ2V0OyB9KTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vIG5vdyAoMjAxOCkgdGhlIG5vZGUgaWQgKGkuZS4sIFBhcGVyX0lEKSBpcyB3b3JraW5nIHRvIGlkZW50aWZ5IGxpbmtzLCBpbnN0ZWFkIG9mIHRoZSBub2RlIGluZGV4XG5cdFx0XHRcdC8vIG1heWJlIHRoaXMgaXMgYmVjYXVzZSBvZiBhIG5ldyB2ZXJzaW9uIG9mIG5ldHdvcmt4P1xuXHRcdFx0XHR2YXIgdGhpc1NvdXJjZSA9IG5vZGVzLmZpbHRlcihmdW5jdGlvbihkKSB7IHJldHVybiBkLmlkID09PSBsaW5rc1tpXS5zb3VyY2U7IH0pO1xuXHRcdFx0XHR2YXIgdGhpc1RhcmdldCA9IG5vZGVzLmZpbHRlcihmdW5jdGlvbihkKSB7IHJldHVybiBkLmlkID09PSBsaW5rc1tpXS50YXJnZXQ7IH0pO1xuXHRcdFx0XHRpZiAoIHRoaXNTb3VyY2UubGVuZ3RoPjAgJiYgdGhpc1RhcmdldC5sZW5ndGg+MCApIHtcblx0XHRcdFx0XHRpZiAoICh0aGlzVGFyZ2V0WzBdLm5vZGVUeXBlID09PSAncGFwZXInKSAmJiAodGhpc1NvdXJjZVswXS5ZZWFyIDwgdGhpc1RhcmdldFswXS5ZZWFyKSApIHtcblx0XHRcdFx0XHRcdC8vIGV4Y2x1ZGUgdGhlIGxpbmsgaW4gdGhpcyBjYXNlIChpLmUuIGlmIHRoZSBzb3VyY2UgeWVhciBpcyBsZXNzIHRoYW4gdGhlIHRhcmdldCB5ZWFyXG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHZhciBuZXdMaW5rID0gbGlua3NbaV07XG5cdFx0XHRcdFx0XHRuZXdMaW5rLnNvdXJjZSA9IHRoaXNTb3VyY2VbMF0uaWR4O1xuXHRcdFx0XHRcdFx0bmV3TGluay50YXJnZXQgPSB0aGlzVGFyZ2V0WzBdLmlkeDtcblx0XHRcdFx0XHRcdG5ld0xpbmtzLnB1c2gobGlua3NbaV0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0bmV3TGlua3MuZm9yRWFjaChmdW5jdGlvbihkKSB7XG5cdFx0XHRcdGlmICggdHlwZW9mIGQudGFyZ2V0ICE9ICdudW1iZXInICkgY29uc29sZS5sb2coZCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0cmV0dXJuIG5ld0xpbmtzO1xuXHRcdH1cblxuXHRcdHZhciB5ZWFyUmFuZ2UgPSBuZXdHcmFwaC5ncmFwaC55ZWFyUmFuZ2U7XG5cdFx0ZnVuY3Rpb24gZ2V0Tm9kZUNvdW50c1BlclllYXIobm9kZXMsIHllYXJSYW5nZSkge1xuXHRcdFx0dmFyIHllYXJzTmVzdCA9IGQzLm5lc3QoKVxuXHRcdFx0XHQua2V5KGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQuWWVhcjsgfSkuc29ydEtleXMoZDMuYXNjZW5kaW5nKVxuXHRcdFx0XHQucm9sbHVwKGZ1bmN0aW9uKGxlYXZlcykgeyByZXR1cm4gbGVhdmVzLmxlbmd0aDsgfSlcblx0XHRcdFx0Ly8gLmVudHJpZXMobm9kZXMuc2xpY2UoMSkpOyAgLy8gYWxsIGV4Y2VwdCBlZ28gbm9kZSAobm9kZVswXSlcblx0XHRcdFx0Lm1hcChub2Rlcy5zbGljZSgxKSk7XG5cblx0XHRcdHZhciBub2RlQ291bnRzUGVyWWVhciA9IHt9O1xuXHRcdFx0Zm9yICh2YXIgaT15ZWFyUmFuZ2VbMF07IGk8PXllYXJSYW5nZVsxXTsgaSsrKSB7XG5cdFx0XHRcdHZhciBjb3VudFRoaXNZZWFyID0geWVhcnNOZXN0W2ldO1xuXHRcdFx0XHRpZiAodHlwZW9mIGNvdW50VGhpc1llYXIgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdFx0bm9kZUNvdW50c1BlclllYXJbaV0gPSAwO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG5vZGVDb3VudHNQZXJZZWFyW2ldID0gY291bnRUaGlzWWVhcjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG5vZGVDb3VudHNQZXJZZWFyO1xuXHRcdH1cblx0XHRuZXdHcmFwaC5ncmFwaC5ub2RlQ291bnRzUGVyWWVhciA9IGdldE5vZGVDb3VudHNQZXJZZWFyKG5ld0dyYXBoLm5vZGVzLCB5ZWFyUmFuZ2UpO1xuXG5cblx0XHRyZXR1cm4gbmV3R3JhcGg7XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdHByZXBhcmVfZWdvR3JhcGhEYXRhOiBwcmVwYXJlX2Vnb0dyYXBoRGF0YVxuXHR9O1xufSgpKTtcblxudmFyIGNpdGF0aW9uVmlzID0gY2l0YXRpb25WaXMgfHwge307XG5cbmNpdGF0aW9uVmlzLmV2ZW50TGlzdGVuZXJzID0gKGZ1bmN0aW9uKCkge1xuXHQvLyBFdmVudCBsaXN0ZW5lcnMgdGhhdCBhY3QgYWNyb3NzIGRpZmZlcmVudCB2aXN1YWxpemF0aW9uIG9iamVjdHMgZ28gaGVyZVxuXHRcblx0Ly8gZnVuY3Rpb24gdG9vbHRpcExpc3RlbmVyKCkge1xuXHQvLyBcdC8vIEFkZCBldmVudCBsaXN0ZW5lciB0byBub2RlcyBmb3IgdG9vbHRpcDpcblx0Ly8gXHRkMy5zZWxlY3RBbGwoJy5ub2RlJylcblx0Ly8gXHRcdC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24oZCkge1xuXHQvLyBcdFx0XHR2YXIgdG9vbHRpcEh0bWwgPSBzZWxmLm1ha2VUb29sdGlwKGQpO1xuXHQvLyBcdFx0XHRzZWxmLnRvb2x0aXAgPSBzZWxmLnRvb2x0aXBcblx0Ly8gXHRcdFx0XHQuaHRtbCh0b29sdGlwSHRtbClcblx0Ly8gXHRcdFx0XHQuc3R5bGUoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpXG5cdC8vIFx0XHRcdFx0LnN0eWxlKCdib3JkZXItc3R5bGUnLCAnc29saWQnKVxuXHQvLyBcdFx0XHRcdC5zdHlsZSgnYm9yZGVyLWNvbG9yJywgZC5jb2xvcik7XG5cdC8vIFx0XHR9KVxuXHQvLyBcdFx0Lm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbigpIHtcblx0Ly8gXHRcdFx0c2VsZi50b29sdGlwID0gc2VsZi50b29sdGlwXG5cdC8vIFx0XHRcdFx0LnN0eWxlKCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKVxuXHQvLyBcdFx0XHRcdC5zdHlsZSgndG9wJywgKGQzLmV2ZW50LnBhZ2VZLTEwKSsncHgnKVxuXHQvLyBcdFx0XHRcdC5zdHlsZSgnbGVmdCcsIChkMy5ldmVudC5wYWdlWCsxMCkrJ3B4Jyk7XG5cdC8vIFx0XHR9KVxuXHQvLyBcdFx0Lm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uKCkge1xuXHQvLyBcdFx0XHRzZWxmLnRvb2x0aXAgPSBzZWxmLnRvb2x0aXAuc3R5bGUoJ3Zpc2liaWxpdHknLCAnaGlkZGVuJyk7IH0pO1xuXHQvLyB9XG5cblx0cmV0dXJuIHtcblx0XHQvLyB0b29sdGlwTGlzdGVuZXI6IHRvb2x0aXBMaXN0ZW5lclxuXHR9O1xufSgpKTtcbi8vIFRoaXMgd2lsbCBhZGQgdGhlIGFiaWxpdHkgdG8gY2hhbmdlIHRoZSB0eXBlIG9mIGRvbWFpbiAoZS5nLiBmcm9tIGNhdGVnb3J5IHRvIHZlbnVlKSB0aGF0IHRoZSBub2RlcyBhcmUgY29sb3JlZCBieVxuLy8gVGhlIEpTT04gZGF0YSBtdXN0IGhhdmUgdGhlIHJpZ2h0IHByb3BlcnRpZXMgKGkuZS4gYGdyYXBoLkRvbWFpbnNNdWx0YCBhbmQgbm9kZSBwcm9wZXJ0eSBgRG9tYWluTXVsdGBcbi8vIGFuZCB0aGUgVVJMIG11c3QgaGF2ZSB0aGUgcXVlcnkgcGFyYW1ldGVyIFwiZG9tYWluc011bHRcIlxuXG4vLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzkwMTExNS9ob3ctY2FuLWktZ2V0LXF1ZXJ5LXN0cmluZy12YWx1ZXMtaW4tamF2YXNjcmlwdFxuZnVuY3Rpb24gZ2V0UGFyYW1ldGVyQnlOYW1lKG5hbWUsIHVybCkge1xuXHRpZiAoIXVybCkgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG5cdG5hbWUgPSBuYW1lLnJlcGxhY2UoL1tcXFtcXF1dL2csIFwiXFxcXCQmXCIpO1xuICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoXCJbPyZdXCIgKyBuYW1lICsgXCIoPShbXiYjXSopfCZ8I3wkKVwiKSxcblx0XHRyZXN1bHRzID0gcmVnZXguZXhlYyh1cmwpO1xuXHRpZiAoIXJlc3VsdHMpIHJldHVybiBudWxsO1xuXHRpZiAoIXJlc3VsdHNbMl0pIHJldHVybiAnJztcblx0cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChyZXN1bHRzWzJdLnJlcGxhY2UoL1xcKy9nLCBcIiBcIikpO1xufVxuXG52YXIgY2l0YXRpb25WaXMgPSBjaXRhdGlvblZpcyB8fCB7fTtcblxuJCggZG9jdW1lbnQgKS5vbiggXCJpbml0Q29tcGxldGVcIiwgZnVuY3Rpb24oKSB7XG5cdHZhciBlZ29HcmFwaFZpcyA9IGNpdGF0aW9uVmlzLmVnb0dyYXBoVmlzO1xuXHR2YXIgZG9tYWluc011bHQgPSBlZ29HcmFwaFZpcy5kYXRhLmdyYXBoLkRvbWFpbnNNdWx0XG5cdGlmICggKCFkb21haW5zTXVsdCkgfHwgKCFnZXRQYXJhbWV0ZXJCeU5hbWUoJ2RvbWFpbnNNdWx0JykpICkge1xuXHRcdC8vIGluIHRoaXMgY2FzZSwgZXhpdCB3aXRob3V0IGRvaW5nIGFueXRoaW5nXG5cdFx0cmV0dXJuO1xuXHR9XG5cdHZhciAkZG9tYWluRHJvcGRvd24gPSAkKCAnPGRpdj4nICk7XG5cdCRkb21haW5Ecm9wZG93bi5hcHBlbmQoICQoICc8bGFiZWw+JyApLnRleHQoJ0NvbG9yIGJ5OiAnKS5jc3MoICdkaXNwbGF5JywgJ2lubGluZScgKSApO1xuXHR2YXIgZG9tYWluX3NlbGVjdCA9ICRkb21haW5Ecm9wZG93bi5hcHBlbmQoICQoICc8c2VsZWN0PicgKS5hdHRyKCAnaWQnLCAnZG9tYWluX3NlbGVjdCcgKSApO1xuXHQkKCAnI21haW5EaXYnICkucHJlcGVuZCggJGRvbWFpbkRyb3Bkb3duICk7XG5cdCQuZWFjaChkb21haW5zTXVsdCwgZnVuY3Rpb24oaywgdikge1xuXHRcdCQoICcjZG9tYWluX3NlbGVjdCcgKS5hcHBlbmQoICQoICc8b3B0aW9uPicgKS50ZXh0KGspICk7XG5cdFx0ZDMuc2VsZWN0KFwiI21haW5EaXZcIikuYXBwZW5kKFwicFwiKVxuXHRcdFx0LnRleHQoaylcblx0XHRcdC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge3N3aXRjaERvbWFpbihrKTt9KTtcblx0fSk7XG5cdCQoICcjZG9tYWluX3NlbGVjdCcgKS52YWwoXCJjYXRlZ29yeV9mcm9tX2tleXdvcmRcIik7XG5cdCQoICcjZG9tYWluX3NlbGVjdCcgKS5vbiggJ2NoYW5nZScsIGZ1bmN0aW9uKCkgeyBzd2l0Y2hEb21haW4oJCh0aGlzKS52YWwoKSk7IH0pO1xuXG5cdGZ1bmN0aW9uIHN3aXRjaERvbWFpbihkb21haW5UeXBlKSB7XG5cdFx0dmFyIGR1ciA9IDIwMDtcblx0XHRlZ29HcmFwaFZpcy5kYXRhLmdyYXBoLkRvbWFpbnMgPSBkb21haW5zTXVsdFtkb21haW5UeXBlXTtcblx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gZWdvR3JhcGhWaXMubm90RWdvTm9kZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdHZhciB0aGlzTm9kZSA9IGVnb0dyYXBoVmlzLm5vdEVnb05vZGVzW2ldO1xuXHRcdFx0dGhpc05vZGUuRG9tYWluSUQgPSB0aGlzTm9kZS5Eb21haW5NdWx0W2RvbWFpblR5cGVdO1xuXHRcdH1cblx0XHRlZ29HcmFwaFZpcy5nZXREb21haW5zVGhpc0dyYXBoKCk7XG5cdFx0ZDMuc2VsZWN0QWxsKFwiLmxlZ2VuZEl0ZW1cIikucmVtb3ZlKCk7XG5cdFx0ZWdvR3JhcGhWaXMubGVnZW5kSW5pdCgpO1xuXHRcdGQzLnNlbGVjdEFsbChcIi5ub2RlXCIpXG5cdFx0XHQuZWFjaChmdW5jdGlvbihkKSB7XG5cdFx0XHRcdGQuRG9tYWluTmFtZSA9IGVnb0dyYXBoVmlzLmRhdGEuZ3JhcGguRG9tYWluc1tkLkRvbWFpbklEXTtcblx0XHRcdFx0Zm9yICh2YXIgaT0wOyBpPGVnb0dyYXBoVmlzLmRvbWFpbnNUaGlzR3JhcGgubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHR2YXIgdGhpc0RvbWFpbiA9IGVnb0dyYXBoVmlzLmRvbWFpbnNUaGlzR3JhcGhbaV0ua2V5XG5cdFx0XHRcdFx0aWYgKHRoaXNEb21haW49PWQuRG9tYWluSUQpIHtcblx0XHRcdFx0XHRcdC8vIHZhciB0aGlzQ29sb3IgPSBzZWxmLmNvbG9yU2NoZW1lW2ldO1xuXHRcdFx0XHRcdFx0dmFyIHRoaXNDb2xvciA9IGVnb0dyYXBoVmlzLmRvbWFpbnNUaGlzR3JhcGhbaV0uY29sb3I7XG5cdFx0XHRcdFx0XHRkLmNvbG9yID0gdGhpc0NvbG9yO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHRcdC50cmFuc2l0aW9uKCkuZHVyYXRpb24oZHVyKVxuXHRcdFx0LmF0dHIoJ2ZpbGwnLCAnd2hpdGUnKVxuXHRcdFx0LmVhY2goJ2VuZCcsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRkMy5zZWxlY3QodGhpcylcblx0XHRcdFx0XHQudHJhbnNpdGlvbigpLmR1cmF0aW9uKGR1cilcblx0XHRcdFx0XHQuYXR0cignZmlsbCcsIGZ1bmN0aW9uKGQpIHtcblx0XHRcdFx0XHRcdC8vIGNvbG9yIHRoZSBub2RlcyBiYXNlZCBvbiBEb21haW5JRFxuXHRcdFx0XHRcdFx0cmV0dXJuIGQuY29sb3Jcblx0XHRcdFx0XHR9KVxuXHRcdFx0fSlcblx0XHRkMy50cmFuc2l0aW9uKCkuZHVyYXRpb24oZHVyKjIpLmVhY2goJ2VuZCcsIGZ1bmN0aW9uKCkge1xuXHRcdFx0ZWdvR3JhcGhWaXMucmV2ZWFsRmluYWxTdGF0ZSgpO1xuXHRcdH0pO1xuXHR9XG59KTtcblxuXG5mdW5jdGlvbiBsaW5lQ2hhcnRCeVllYXIoZGF0YSkge1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cdHNlbGYuZGF0YSA9IGRhdGEudmFsdWVzO1xuXHRzZWxmLnBld19DbGFzcyA9IGRhdGEucGV3X0NsYXNzO1xuXHRzZWxmLmhyYV9mdW5kaW5nID0gZGF0YS5mdW5kaW5nO1xuXHQvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBmdW5kaW5nIHJlY29yZDpcblx0Ly8gaWYgKHNlbGYuaHJhX2Z1bmRpbmcubGVuZ3RoID09IDEpIHtcblx0Ly8gXHRzZWxmLmhyYV9mdW5kaW5nID0gc2VsZi5ocmFfZnVuZGluZ1swXTtcblx0Ly8gfVxuXHRcblx0Ly8gdGVzdGluZzpcblx0Ly8gc2VsZi5ocmFfZnVuZGluZyA9IHNlbGYuaHJhX2Z1bmRpbmdbMF07XG5cdC8vIGNvbnNvbGUubG9nKHNlbGYuaHJhX2Z1bmRpbmcpO1xuXG5cdC8vIERlZmF1bHRzXG5cdC8vIEdyYXBoIFNWRyBEaW1lbnNpb25zXG4gICAgLy8gc2VsZi5saW5lQ2hhcnREaW1lbnNpb25zID0ge1xuXHQvLyBcdG1hcmdpbjoge3RvcDogMzAsIHJpZ2h0OiAyMCwgYm90dG9tOiAzMCwgbGVmdDogNTB9XG5cdC8vIH07XG5cdC8vIHNlbGYubGluZUNoYXJ0RGltZW5zaW9ucy53aWR0aCA9IDk2MCAqIDMvNCAtIHNlbGYubGluZUNoYXJ0RGltZW5zaW9ucy5tYXJnaW4ubGVmdCAtIHNlbGYubGluZUNoYXJ0RGltZW5zaW9ucy5tYXJnaW4ucmlnaHQ7XG5cdC8vIHNlbGYubGluZUNoYXJ0RGltZW5zaW9ucy5oZWlnaHQgPSAxMTAgLSBzZWxmLmxpbmVDaGFydERpbWVuc2lvbnMubWFyZ2luLnRvcCAtIHNlbGYubGluZUNoYXJ0RGltZW5zaW9ucy5tYXJnaW4uYm90dG9tO1xuXHRzZWxmLmxpbmVDaGFydERpbWVuc2lvbnM7ICAvLyBpbXBvcnRlZCBpbiBzZWxmLmltcG9ydERlZmF1bHRPcHRpb25zIGJlbG93XG5cdFxuXHRzZWxmLmNvbG9yU2NoZW1lO1xuXHQvLyAvLyBDb2xvcnM6XG4gICAgLy8gLy8gU2VlIGh0dHA6Ly9jb2xvcmJyZXdlcjIub3JnLz90eXBlPXF1YWxpdGF0aXZlJnNjaGVtZT1TZXQxJm49OFxuICAgIC8vIHNlbGYuY29sb3JTY2hlbWUgPSBbJ3JnYigyMjgsMjYsMjgpJywncmdiKDU1LDEyNiwxODQpJywncmdiKDc3LDE3NSw3NCknLFxuICAgIC8vICAgICAgICAgJ3JnYigxNTIsNzgsMTYzKScsJ3JnYigyNTUsMTI3LDApJywncmdiKDI1NSwyNTUsNTEpJyxcbiAgICAvLyAgICAgICAgICdyZ2IoMTY2LDg2LDQwKScsJ3JnYigyNDcsMTI5LDE5MSknXVxuICAgIC8vIC8vIEkgbGlrZWQgdGhlIGJsdWUgYmV0dGVyIGZvciB0aGUgbWFpbiBjb2xvciwgc28gdGhlIG5leHQgbGluZSBqdXN0IG1vdmVzXG4gICAgLy8gLy8gdGhlIGJsdWUgY29sb3IgKG9yaWdpbmFsbHkgc2VsZi5jb2xvclNjaGVtZVsxXSkgdG8gdGhlIGZyb250IChzZWxmLmNvbG9yU2NoZW1lWzBdKVxuICAgIC8vIHNlbGYuY29sb3JTY2hlbWUuc3BsaWNlKDAsIDAsIHNlbGYuY29sb3JTY2hlbWUuc3BsaWNlKDEsIDEpWzBdKVxuXG4gICAgLy8gc2VsZi54ID0gZDMudGltZS5zY2FsZSgpLnJhbmdlKFswLCBzZWxmLmxpbmVDaGFydERpbWVuc2lvbnMud2lkdGhdKTtcblxuXHRzZWxmLng7XG5cdHNlbGYueTtcblx0c2VsZi5jaGFydERpdjtcbiAgICBzZWxmLnN2ZztcbiAgICBzZWxmLnN2Z0RlZnM7XG5cdHNlbGYudGl0bGU7XG4gICAgc2VsZi5jbGlwUGF0aDtcbiAgICBzZWxmLmN1cnJZZWFySW5kaWNhdG9yO1xuXHRzZWxmLnllYXJBcmVhO1xuXHRzZWxmLnllYXJBcmVhT3BhY2l0eSA9IC4xO1xuICAgIHNlbGYueEF4aXM7XG4gICAgc2VsZi55QXhpcztcbiAgICBzZWxmLmxpbmU7ICAvLyBsaW5lIGRyYXdpbmcgZnVuY3Rpb25cbiAgICBzZWxmLmFyZWE7ICAvLyBhcmVhIGRyYXdpbmcgZnVuY3Rpb25cblx0c2VsZi5jaGFydExpbmU7ICAvLyBhY3R1YWwgbGluZSBlbGVtZW50XG5cdHNlbGYuY2hhcnRBcmVhOyAgLy8gYWN0dWFsIGFyZWEgZWxlbWVudFxuXHRzZWxmLmxpbmVhckdyYWRpZW50O1xuXG5cdHNlbGYuYW5pbWF0aW9uU3RhdGU7XG5cdHNlbGYuY3VyclllYXI7XG5cdHNlbGYudHJhbnNpdGlvblRpbWVQZXJZZWFyO1xuXHRzZWxmLnllYXJSYW5nZSA9IGQzLmV4dGVudChzZWxmLmRhdGEsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQueWVhcjsgfSk7XG5cdC8vIC8vIGN1dCBvZmYgYXQgMjAxNVxuXHQvLyBzZWxmLnllYXJSYW5nZVsxXSA9IE1hdGgubWluKHNlbGYueWVhclJhbmdlWzFdLCAyMDE1KTtcblx0Ly8gY3V0IG9mZiBhdCAyMDE3XG5cdHNlbGYueWVhclJhbmdlWzFdID0gTWF0aC5taW4oc2VsZi55ZWFyUmFuZ2VbMV0sIDIwMTcpO1xuXHRcblx0c2VsZi5mdW5kaW5nVGltZTtcblx0aWYgKHR5cGVvZiBzZWxmLnBld19DbGFzcyAhPSAndW5kZWZpbmVkJykge1xuXHRcdHNlbGYuZnVuZGluZ1RpbWUgPSA0OyAgLy8gZnVuZGluZyBwZXJpb2QgZm9yIFBld1xuXHR9XG5cdGlmICh0eXBlb2Ygc2VsZi5ocmFfZnVuZGluZyAhPSAndW5kZWZpbmVkJykge1xuXHRcdHNlbGYuaHJhX2Z1bmRpbmcgPSBzZWxmLmhyYV9mdW5kaW5nWzBdO1xuXHRcdHNlbGYuZnVuZGluZ1RpbWUgPSBzZWxmLmhyYV9mdW5kaW5nLmR1cmF0aW9uX2luX3llYXJzO1xuXHRcdC8vIHRoaXMgaXMgYSBoYWNrIHRoYXQgd2lsbCB3b3JrIGZvciBub3dcblx0XHQvLyBUT0RPOiBmaXggdGhpc1xuXHRcdHNlbGYucGV3X0NsYXNzID0gc2VsZi5ocmFfZnVuZGluZy5zdGFydF9kYXRlO1xuXHR9XG5cblx0Ly8gc2VsZi5pbml0KCk7XG5cblx0cmV0dXJuIHNlbGY7XG5cbn1cblxubGluZUNoYXJ0QnlZZWFyLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XG5cdHZhciBzZWxmID0gdGhpcztcblxuXG5cdHNlbGYuYW5pbWF0aW9uU3RhdGUgPSAnaW5pdCc7XG5cdHNlbGYuY3VyclllYXIgPSBzZWxmLnllYXJSYW5nZVswXTsgIC8vIEluaXRpYWxpemUgeWVhclxuXG4gICAgc2VsZi54ID0gZDMuc2NhbGUubGluZWFyKCkucmFuZ2UoWzAsIHNlbGYubGluZUNoYXJ0RGltZW5zaW9ucy53aWR0aF0pO1xuICAgIHNlbGYueSA9IGQzLnNjYWxlLmxpbmVhcigpLnJhbmdlKFtzZWxmLmxpbmVDaGFydERpbWVuc2lvbnMuaGVpZ2h0LCAwXSk7XG5cblx0c2VsZi5jaGFydERpdiA9IGQzLnNlbGVjdCgnI2NoYXJ0c0RpdicpLmFwcGVuZCgnZGl2Jylcblx0XHQuYXR0cignY2xhc3MnLCAnY2hhcnREaXYnKTtcblxuXHRzZWxmLnN2ZyA9IHNlbGYuY2hhcnREaXYuYXBwZW5kKCdzdmcnKVxuXHQgICAgLmF0dHIoJ3dpZHRoJywgc2VsZi5saW5lQ2hhcnREaW1lbnNpb25zLndpZHRoICsgc2VsZi5saW5lQ2hhcnREaW1lbnNpb25zLm1hcmdpbi5sZWZ0ICsgc2VsZi5saW5lQ2hhcnREaW1lbnNpb25zLm1hcmdpbi5yaWdodClcblx0ICAgIC5hdHRyKCdoZWlnaHQnLCBzZWxmLmxpbmVDaGFydERpbWVuc2lvbnMuaGVpZ2h0ICsgc2VsZi5saW5lQ2hhcnREaW1lbnNpb25zLm1hcmdpbi50b3AgKyBzZWxmLmxpbmVDaGFydERpbWVuc2lvbnMubWFyZ2luLmJvdHRvbSlcblx0ICAgIC8vIC5hdHRyKCdpZCcsICdjaGFydDJTdmcnKVxuXHQgICAgLmF0dHIoJ2NsYXNzJywgJ2xpbmVDaGFydCcpXG5cdCAgICAuYXBwZW5kKCdnJylcblx0ICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyBzZWxmLmxpbmVDaGFydERpbWVuc2lvbnMubWFyZ2luLmxlZnQgKyAnLCcgKyBzZWxmLmxpbmVDaGFydERpbWVuc2lvbnMubWFyZ2luLnRvcCArICcpJyk7XG5cdHNlbGYuc3ZnRGVmcyA9IHNlbGYuc3ZnLmFwcGVuZCgnZGVmcycpO1xuXHRcblx0Ly8gVGhlIHN0cmF0ZWd5IGlzIHRvIGRyYXcgdGhlIGVudGlyZSBsaW5lLCBidXQgdXNlIGEgY2xpcCBwYXRoIHRvIG9ubHlcblx0Ly8gZGlzcGxheSB1cCB0byB0aGUgY3VycmVudCB5ZWFyLlxuXHQvLyB2YXIgY2hhcnQyQ2xpcFBhdGggPSBzZWxmLnN2Z0RlZnNcblx0Ly8gXHQuYXBwZW5kKCdjbGlwUGF0aCcpXG5cdC8vIFx0LmF0dHIoJ2NsYXNzJywgJ2NsaXAnKVxuXHQvLyBcdC5hcHBlbmQoJ3JlY3QnKVxuXHQvLyBcdC5hdHRyKCd3aWR0aCcsIDApXG5cdC8vIFx0LmF0dHIoJ2hlaWdodCcsIHNlbGYubGluZUNoYXJ0RGltZW5zaW9ucy5oZWlnaHQpO1xuXG4gICAgLy8gc2VsZi54LmRvbWFpbihbc2VsZi5zdHJUb1llYXIoXCIxOTY4XCIpLCBzZWxmLnN0clRvWWVhcihcIjIwMTNcIildKTtcblx0c2VsZi54LmRvbWFpbihzZWxmLnllYXJSYW5nZSk7XG5cdC8vIEhhY2sgdG8gY3V0IG9mZiB4IGF4aXMgYXQgMjAxMDpcblx0Ly8gc2VsZi54LmRvbWFpbihbc2VsZi55ZWFyUmFuZ2VbMF0sIDIwMTBdKTtcblx0Ly8gc2VsZi55LmRvbWFpbihbMCwgZDMubWF4KHNlbGYuZGF0YSwgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5jb3VudCs1OyB9KV0pO1xuXHRzZWxmLnkuZG9tYWluKFswLCBkMy5tYXgoc2VsZi5kYXRhLCBmdW5jdGlvbihkKSB7IHJldHVybiBkLmNvdW50OyB9KV0pO1xuXG5cdHNlbGYueEF4aXMgPSBkMy5zdmcuYXhpcygpLnNjYWxlKHNlbGYueClcblx0XHQub3JpZW50KCdib3R0b20nKVxuXHRcdC50aWNrRm9ybWF0KGQzLmZvcm1hdChcImRcIikpXG5cdFx0Ly8gLnRpY2tzKDE2KTtcblx0XHQudGlja3MoTWF0aC5taW4oc2VsZi5kYXRhLmxlbmd0aCwgMjApKTtcblx0XG5cdHNlbGYueUF4aXMgPSBkMy5zdmcuYXhpcygpLnNjYWxlKHNlbGYueSlcblx0XHQub3JpZW50KCdsZWZ0Jylcblx0XHQudGlja3MoMilcblx0XHQudGlja1NpemUoMCk7XG5cdFxuICAgIC8vIERlZmluZSBsaW5lIGRyYXdpbmcgZnVuY3Rpb25cbiAgICBzZWxmLmxpbmUgPSBkMy5zdmcubGluZSgpXG5cdFx0LngoZnVuY3Rpb24oZCkgeyByZXR1cm4gc2VsZi54KGQueWVhcik7IH0pXG5cdFx0LnkoZnVuY3Rpb24oZCkgeyByZXR1cm4gc2VsZi55KGQuY291bnQpOyB9KTtcbiAgICBcbiAgICAvLyBEZWZpbmUgdGhlIGFyZWEgZHJhd2luZyBmdW5jdGlvblxuICAgIHNlbGYuYXJlYSA9IGQzLnN2Zy5hcmVhKClcblx0XHQueChmdW5jdGlvbihkKSB7IHJldHVybiBzZWxmLngoZC55ZWFyKTsgfSlcblx0XHQueTAoc2VsZi5saW5lQ2hhcnREaW1lbnNpb25zLmhlaWdodClcblx0XHQueTEoZnVuY3Rpb24oZCkgeyByZXR1cm4gc2VsZi55KGQuY291bnQpOyB9KTtcblxuXHQvLyBEcmF3IHggYXhpc1xuICAgIHNlbGYuc3ZnLmFwcGVuZCgnZycpXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCAneCBheGlzJylcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDAsJyArIHNlbGYubGluZUNoYXJ0RGltZW5zaW9ucy5oZWlnaHQgKyAnKScpXG4gICAgICAgICAgICAuY2FsbChzZWxmLnhBeGlzKTtcblxuICAgIC8vIFB1dCB0aGUgeWVhciBmb3IgZWFjaCBheGlzIHRpY2sgbGFiZWwgaW50byBhIGRhdGEgYXR0cmlidXRlXG4gICAgLy8gdG8gYmUgYWJsZSB0byBnZXQgaXQgbW9yZSBlYXNpbHkgbGF0ZXJcbiAgICB2YXIgeWVhckxhYmVscyA9IHNlbGYuc3ZnLnNlbGVjdCgnLnguYXhpcycpXG4gICAgICAgIC5zZWxlY3RBbGwoJy50aWNrJylcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywneWVhclRpY2snKVxuICAgICAgICAvLyAuYXR0cihcImRhdGEteWVhclwiLCBmdW5jdGlvbihkKSB7cmV0dXJuIHNlbGYueWVhclRvU3RyKGQpOyB9KVxuICAgICAgICAuYXR0cihcImRhdGEteWVhclwiLCBmdW5jdGlvbihkKSB7cmV0dXJuIGQ7IH0pXG5cdFx0LnN0eWxlKCdmb250LXNpemUnLCAnLjc1ZW0nKTtcblx0XG4gICAgLy8gQWRkIGEgcmVjdCBmb3IgZWFjaCB5ZWFyIGxhYmVsIHNvIHdlIGNhbiBoaWdobGlnaHQgaXQgbGF0ZXJcblx0dmFyIHllYXJMYWJlbCA9IHNlbGYuc3ZnLnNlbGVjdEFsbCgnLnllYXJUaWNrJylcblx0XHQuYXBwZW5kKCdzdmc6cmVjdCcpXG5cdFx0LmF0dHIoJ2ZpbGwnLCBzZWxmLmNvbG9yU2NoZW1lWzRdKVxuXHRcdC5zdHlsZSgnb3BhY2l0eScsIDApXG5cdFx0LmF0dHIoJ2NsYXNzJywgJ2hpZ2hsaWdodFJlY3QnKVxuXHRcdC5lYWNoKGZ1bmN0aW9uKGQpIHtcblx0XHRcdHZhciBiYm94ID0gdGhpcy5wYXJlbnROb2RlLmdldEJCb3goKTtcblx0XHRcdHZhciBwYWRkaW5nID0gYmJveC53aWR0aC80O1xuXHRcdFx0ZDMuc2VsZWN0KHRoaXMpXG5cdFx0XHRcdC5hdHRyKCd4JywgYmJveC54IC0gcGFkZGluZylcblx0XHRcdC5hdHRyKCd5JywgYmJveC55KVxuXHRcdFx0LmF0dHIoJ3dpZHRoJywgYmJveC53aWR0aCArIHBhZGRpbmcqMilcblx0XHRcdC5hdHRyKCdoZWlnaHQnLCBiYm94LmhlaWdodCk7XG5cdFx0fSk7XG5cblx0Ly8gRHJhdyB5IGF4aXNcblx0c2VsZi5zdmcuYXBwZW5kKCdnJylcblx0XHQuYXR0cignY2xhc3MnLCAneSBheGlzJylcblx0XHQuY2FsbChzZWxmLnlBeGlzKVxuXHRcdC5hcHBlbmQoJ3RleHQnKVxuXHRcdC5hdHRyKCd0cmFuc2Zvcm0nLCAncm90YXRlKC05MCknKVxuXHRcdC5hdHRyKCd5JywgLXNlbGYubGluZUNoYXJ0RGltZW5zaW9ucy5tYXJnaW4ubGVmdC8yIC0gNilcblx0XHQuYXR0cigneCcsIC0oc2VsZi5saW5lQ2hhcnREaW1lbnNpb25zLmhlaWdodCArIHNlbGYubGluZUNoYXJ0RGltZW5zaW9ucy5tYXJnaW4udG9wICsgc2VsZi5saW5lQ2hhcnREaW1lbnNpb25zLm1hcmdpbi5ib3R0b20pLzIpXG5cdFx0LmF0dHIoJ2NsYXNzJywgJ2F4aXNMYWJlbCcpXG5cdFx0LnRleHQoJ051bSBjaXRhdGlvbnMnKVxuXHRcdC5hdHRyKCdmb250LXNpemUnLCAnLjVlbScpO1xuXG5cdC8vIHZhciBtYXhYID0gc2VsZi54KHNlbGYueWVhclJhbmdlWzFdKTtcblx0Ly8gY29uc29sZS5sb2coc2VsZi55ZWFyUmFuZ2VbMF0pO1xuXHQvLyBzZWxmLmxpbmVhckdyYWRpZW50ID0gc2VsZi5zdmcuYXBwZW5kKCdsaW5lYXJHcmFkaWVudCcpXG5cdC8vICAgICAuYXR0cignaWQnLCAnbGluZS1ncmFkaWVudCcpXG5cdC8vICAgICAuYXR0cignZ3JhZGllbnRVbml0cycsICd1c2VyU3BhY2VPblVzZScpXG5cdC8vICAgICAuYXR0cigneDEnLCAwKS5hdHRyKCd5MScsIHNlbGYueChzZWxmLnllYXJSYW5nZVswXSkpXG5cdC8vICAgICAuYXR0cigneDInLCBtYXhYKVxuXHQvLyAgICAgLmF0dHIoJ3kyJywgMClcblx0Ly8gICAgIC5zZWxlY3RBbGwoJ3N0b3AnKVxuXHQvLyAgICAgLmRhdGEoW1xuXHQvLyBcdHtvZmZzZXQ6IHNlbGYueChzZWxmLnllYXJSYW5nZVswXSkvbWF4WCwgY29sb3I6IGQzLnJnYihzZWxmLmNvbG9yU2NoZW1lWzddKS5kYXJrZXIoKX0sXG5cdC8vIFx0e29mZnNldDogc2VsZi54KDE5ODUpL21heFgsIGNvbG9yOiBkMy5yZ2Ioc2VsZi5jb2xvclNjaGVtZVs3XSkuZGFya2VyKCl9LFxuXHQvLyBcdHtvZmZzZXQ6IHNlbGYueCgxOTg3KS9tYXhYLCBjb2xvcjogc2VsZi5jb2xvclNjaGVtZVsyXX0sXG5cdC8vIFx0e29mZnNldDogc2VsZi54KDE5ODkpL21heFgsIGNvbG9yOiBzZWxmLmNvbG9yU2NoZW1lWzJdfSxcblx0Ly8gXHR7b2Zmc2V0OiBzZWxmLngoMTk5MSkvbWF4WCwgY29sb3I6IHNlbGYuY29sb3JTY2hlbWVbMF19LFxuXHQvLyBcdHtvZmZzZXQ6IDEsIGNvbG9yOiBzZWxmLmNvbG9yU2NoZW1lWzBdfVxuXHQvLyAgICAgXSlcblx0Ly8gICAgIC5lbnRlcigpLmFwcGVuZCgnc3RvcCcpXG5cdC8vICAgICAuYXR0cignb2Zmc2V0JywgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5vZmZzZXQ7IH0pXG5cdC8vICAgICAuYXR0cignc3RvcC1jb2xvcicsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQuY29sb3I7IH0pO1xuXHQvLyBjb25zb2xlLmxvZyhzZWxmLmxpbmVhckdyYWRpZW50KTtcblx0c2VsZi5saW5lYXJHcmFkaWVudCA9IGQzLnNlbGVjdCgnI2xpbmUtZ3JhZGllbnQnKTtcblx0Ly8gaWYgKHNlbGYubGluZWFyR3JhZGllbnQuZW1wdHkoKSkge1xuXHQvLyBcdC8vIHNlbGYubGluZWFyR3JhZGllbnQgPSBzZWxmLm1ha2VDb2xvckdyYWRpZW50KDE5ODkpO1xuXHQvLyBcdHNlbGYubGluZWFyR3JhZGllbnQgPSBzZWxmLm1ha2VDb2xvckdyYWRpZW50KHNlbGYucGV3X0NsYXNzKTtcblx0Ly8gfVxuXHQvLyBzZWxmLmxpbmVhckdyYWRpZW50ID0gc2VsZi5tYWtlQ29sb3JHcmFkaWVudChzZWxmLnBld19DbGFzcyk7XG5cblx0c2VsZi5jaGFydEFyZWEgPSBzZWxmLnN2Zy5hcHBlbmQoJ2cnKVxuXHRcdC8vIC5hdHRyKCdjbGlwLXBhdGgnLCAndXJsKCNjbGlwKScpXG5cdFx0LmFwcGVuZCgncGF0aCcpXG5cdFx0LmRhdHVtKHNlbGYuZGF0YSlcblx0XHQuYXR0cignY2xhc3MnLCAnYXJlYScpXG5cdFx0Ly8gLnN0eWxlKCdmaWxsJywgc2VsZi5ncmFwaFBhcmFtcy5jb2xvclNjaGVtZS52YWx1ZVswXSlcblx0XHQuc3R5bGUoJ2ZpbGwnLCAndXJsKCNsaW5lLWdyYWRpZW50KScpXG5cdFx0LmF0dHIoJ2QnLCBzZWxmLmFyZWEpO1xuXG5cdHNlbGYuY2hhcnRMaW5lID0gc2VsZi5zdmcuYXBwZW5kKCdnJylcblx0XHQvLyAuYXR0cignY2xpcC1wYXRoJywgJ3VybCgjY2xpcCknKVxuXHRcdC5hcHBlbmQoJ3BhdGgnKVxuXHRcdC5kYXR1bShzZWxmLmRhdGEpXG5cdFx0LmF0dHIoJ2NsYXNzJywgJ2xpbmUnKVxuXHRcdC8vIC5zdHlsZSgnc3Ryb2tlJywgc2VsZi5ncmFwaFBhcmFtcy5jb2xvclNjaGVtZS52YWx1ZVswXSlcblx0XHQvLyAuc3R5bGUoJ3N0cm9rZScsICd1cmwoI2xpbmUtZ3JhZGllbnQpJylcblx0XHQuc3R5bGUoJ3N0cm9rZScsICdibGFjaycpXG5cdFx0LmF0dHIoJ2QnLCBzZWxmLmxpbmUpO1xuXG5cdHNlbGYuY3VyclllYXJJbmRpY2F0b3IgPSBzZWxmLnN2Zy5hcHBlbmQoJ3N2ZzpsaW5lJylcblx0XHQvLyAuYXR0cignY2xhc3MnLCAndmVydGljYWxMaW5lIHllYXJJbmRpY2F0b3InKVxuXHRcdC5hdHRyKCdjbGFzcycsICd2ZXJ0aWNhbExpbmUgeWVhckluZGljYXRvciBoaWRkZW4nKSAvLyB0dXJuIGl0IG9mZiBmb3Igbm93ICh0ZXN0aW5nIG90aGVyIHRoaW5ncylcblx0XHQvLyBLZWVwIHRyYWNrIG9mIHRyYW5zaXRpb24gdGltaW5nOlxuXHRcdC5hdHRyKCdUJywgMClcblx0XHQuYXR0cigneDEnLCBzZWxmLngoc2VsZi5jdXJyWWVhcikpXG5cdFx0LmF0dHIoJ3gyJywgc2VsZi54KHNlbGYuY3VyclllYXIpKVxuXHRcdC5hdHRyKCd5MScsIHNlbGYubGluZUNoYXJ0RGltZW5zaW9ucy5oZWlnaHQpXG5cdFx0Ly8gLmF0dHIoJ3kyJywgc2VsZi5saW5lQ2hhcnRZU2NhbGUoY3VyclZhbCkpXG5cdFx0LmF0dHIoJ3kyJywgMClcblx0XHQuYXR0cignc3Ryb2tlLXdpZHRoJywgMilcblx0XHQuYXR0cignc3Ryb2tlJywgJ2JsYWNrJylcblx0XHQuYXR0cignc3Ryb2tlLWRhc2hhcnJheScsICgnNSwgMicpKVxuXHRcdC5zdHlsZSgnb3BhY2l0eScsIC4yNSk7XG5cblx0Ly8gc2VsZi5zdmcuc2VsZWN0KCcueWVhclRpY2snKS5zZWxlY3QoJy5oaWdobGlnaHRSZWN0Jylcblx0Ly8gXHQuYXR0cignY2xhc3MnLCAnY3VyclllYXInKVxuXHQvLyBcdC50cmFuc2l0aW9uKClcblx0Ly8gXHQuZHVyYXRpb24oNTAwKVxuXHQvLyBcdC5zdHlsZSgnb3BhY2l0eScsIC4xKTtcblxuXHRzZWxmLnllYXJBcmVhID0gc2VsZi5zdmcuc2VsZWN0QWxsKCcueWVhckFyZWEnKVxuXHRcdC5kYXRhKHNlbGYuZGF0YSlcblx0XHQuZW50ZXIoKS5hcHBlbmQoJ3N2ZzpyZWN0Jylcblx0XHQuYXR0cignY2xhc3MnLCAneWVhckFyZWEgaGlkZGVuJylcblx0XHQuYXR0cignZGF0YS15ZWFyJywgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC55ZWFyOyB9KVxuXHRcdC5hdHRyKCd4JywgZnVuY3Rpb24oZCkgeyByZXR1cm4gc2VsZi54KGQueWVhcik7IH0pXG5cdFx0LmF0dHIoJ3knLCAwKVxuXHRcdC5hdHRyKCd3aWR0aCcsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHNlbGYueChkLnllYXIrMSktc2VsZi54KGQueWVhcik7IH0pXG5cdFx0LmF0dHIoJ2hlaWdodCcsIHNlbGYubGluZUNoYXJ0RGltZW5zaW9ucy5oZWlnaHQpXG5cdFx0LmF0dHIoJ2ZpbGwnLCBzZWxmLmNvbG9yU2NoZW1lWzRdKVxuXHRcdC5zdHlsZSgnb3BhY2l0eScsIDApO1xuXG5cblx0aWYgKHR5cGVvZiBzZWxmLnBld19DbGFzcyAhPSAndW5kZWZpbmVkJykge1xuXHRcdHNlbGYubWFrZUZ1bmRpbmdMaW5lcyhzZWxmLnBld19DbGFzcyk7XG5cdH1cblxufTtcblxubGluZUNoYXJ0QnlZZWFyLnByb3RvdHlwZS5pbXBvcnREZWZhdWx0T3B0aW9ucyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdHNlbGYuY29sb3JTY2hlbWUgPSBvcHRpb25zLmNvbG9yU2NoZW1lO1xuXG5cdHNlbGYubGluZUNoYXJ0RGltZW5zaW9ucyA9IG9wdGlvbnMuZGltZW5zaW9ucy5saW5lQ2hhcnQ7XG5cblx0c2VsZi50cmFuc2l0aW9uVGltZVBlclllYXIgPSBvcHRpb25zLnRyYW5zaXRpb25UaW1lUGVyWWVhcjtcblxufTtcblxubGluZUNoYXJ0QnlZZWFyLnByb3RvdHlwZS5tYWtlQ29sb3JHcmFkaWVudCA9IGZ1bmN0aW9uKGZ1bmRpbmdZZWFyKSB7XG5cdHZhciBzZWxmID0gdGhpcztcblx0Y29uc29sZS5sb2coZnVuZGluZ1llYXIpO1xuXG5cdC8vIFRoaXMgbWV0aG9kIHNob3VsZCBiZSBjYWxsZWQgYnkgdGhlIG1haW4gYXBwIChlLmcuIE1haW4uanMpXG5cdC8vIEl0IG1ha2VzIGEgbGluZWFyIGdyYWRpZW50IGZvciB0aGUgbGluZSBjaGFydHMgYmFzZWQgb24gZnVuZGluZyBwZXJpb2Rcblx0Ly8gZnVuZGluZ1llYXIgaXMgdGhlIFBldyBTY2hvbGFyJ3MgY2xhc3MgeWVhclxuXHQvLyBUaGUgUGV3IGZ1bmRpbmcgbGFzdHMgZm9yIGZpdmUgeWVhcnNcblx0Ly8gTWF5YmUgdGhpcyBtZXRob2Qgc2hvdWxkIGJlIG1vZGlmaWVkIGF0IHNvbWUgcG9pbnQgdG8gYmUgYWJsZSB0byBoYXZlIGRpZmZlcmVudCBsZW5ndGhzIG9mIGZ1bmRpbmdcblx0XG5cdC8vIFRISVMgRElETidUIFdPUksgYmVjYXVzZSB0aGUgd2lkdGggZGVwZW5kcyBvbiBzZWxmLmluaXQsIGJ1dCB0aGlzIG5lZWRzIHRvIGJlIGNhbGxlZCBiZWZvcmUgc2VsZi5pbml0XG5cdC8vXG5cdC8vIGluc3RlYWQgY2FsbCBpdCBpbiBzZWxmLmluaXQoKVxuXHRcblxuXHR2YXIgbWF4WCA9IHNlbGYueChzZWxmLnllYXJSYW5nZVsxXSk7XG5cdHZhciBsaW5lYXJHcmFkaWVudCA9IHNlbGYuc3ZnLmFwcGVuZCgnbGluZWFyR3JhZGllbnQnKVxuXHQgICAgLmF0dHIoJ2lkJywgJ2xpbmUtZ3JhZGllbnQnKVxuXHQgICAgLmF0dHIoJ2dyYWRpZW50VW5pdHMnLCAndXNlclNwYWNlT25Vc2UnKVxuXHQgICAgLmF0dHIoJ3gxJywgMCkuYXR0cigneTEnLCBzZWxmLngoc2VsZi55ZWFyUmFuZ2VbMF0pKVxuXHQgICAgLmF0dHIoJ3gyJywgbWF4WClcblx0ICAgIC5hdHRyKCd5MicsIDApXG5cdCAgICAuc2VsZWN0QWxsKCdzdG9wJylcblx0ICAgIC5kYXRhKFtcblx0XHR7b2Zmc2V0OiBzZWxmLngoc2VsZi55ZWFyUmFuZ2VbMF0pL21heFgsIGNvbG9yOiBkMy5yZ2Ioc2VsZi5jb2xvclNjaGVtZVs3XSkuZGFya2VyKCl9LFxuXHRcdHtvZmZzZXQ6IHNlbGYueChmdW5kaW5nWWVhci0xKS9tYXhYLCBjb2xvcjogZDMucmdiKHNlbGYuY29sb3JTY2hlbWVbN10pLmRhcmtlcigpfSxcblx0XHR7b2Zmc2V0OiBzZWxmLngoZnVuZGluZ1llYXIrMSkvbWF4WCwgY29sb3I6IHNlbGYuY29sb3JTY2hlbWVbMl19LFxuXHRcdHtvZmZzZXQ6IHNlbGYueChmdW5kaW5nWWVhciArIChzZWxmLmZ1bmRpbmdUaW1lKS0xKS9tYXhYLCBjb2xvcjogc2VsZi5jb2xvclNjaGVtZVsyXX0sXG5cdFx0e29mZnNldDogc2VsZi54KGZ1bmRpbmdZZWFyICsgKHNlbGYuZnVuZGluZ1RpbWUpKzEpL21heFgsIGNvbG9yOiBzZWxmLmNvbG9yU2NoZW1lWzBdfSxcblx0XHR7b2Zmc2V0OiAxLCBjb2xvcjogc2VsZi5jb2xvclNjaGVtZVswXX1cblx0ICAgIF0pXG5cdCAgICAuZW50ZXIoKS5hcHBlbmQoJ3N0b3AnKVxuXHQgICAgLmF0dHIoJ29mZnNldCcsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQub2Zmc2V0OyB9KVxuXHQgICAgLmF0dHIoJ3N0b3AtY29sb3InLCBmdW5jdGlvbihkKSB7IHJldHVybiBkLmNvbG9yOyB9KTtcblxuXHRyZXR1cm4gbGluZWFyR3JhZGllbnQ7XG5cbn07XG5cbmxpbmVDaGFydEJ5WWVhci5wcm90b3R5cGUubWFrZUZ1bmRpbmdMaW5lcyA9IGZ1bmN0aW9uKGZ1bmRpbmdZZWFyKSB7XG5cdHZhciBzZWxmID0gdGhpcztcblxuXHQvLyBNYWtlIHRoZSB2ZXJ0aWNhbCBsaW5lcyB0aGF0IHNob3cgZnVuZGluZyBwZXJpb2RcblxuXG5cdHNlbGYuc3ZnLmFwcGVuZCgnc3ZnOmxpbmUnKVxuXHRcdC5hdHRyKCdjbGFzcycsICd2ZXJ0aWNhbExpbmVTdGF0aWMgdmVydGljYWxMaW5lRnVuZGluZ0JlZ2luJylcblx0XHQuYXR0cigneDEnLCBzZWxmLngoZnVuZGluZ1llYXIpKVxuXHRcdC5hdHRyKCd4MicsIHNlbGYueChmdW5kaW5nWWVhcikpXG5cdFx0LmF0dHIoJ3kxJywgc2VsZi5saW5lQ2hhcnREaW1lbnNpb25zLmhlaWdodClcblx0XHQuYXR0cigneTInLCAwKVxuXHRcdC5hdHRyKCdzdHJva2Utd2lkdGgnLCAyKVxuXHRcdC5hdHRyKCdzdHJva2UnLCBzZWxmLmNvbG9yU2NoZW1lWzJdKVxuXHRcdC5zdHlsZSgnc3Ryb2tlLWRhc2hhcnJheScsICgnNSwgMicpKVxuXHRcdC5zdHlsZSgnb3BhY2l0eScsIC44KTtcblx0c2VsZi5zdmcuYXBwZW5kKCdzdmc6bGluZScpXG5cdFx0LmF0dHIoJ2NsYXNzJywgJ3ZlcnRpY2FsTGluZVN0YXRpYyB2ZXJ0aWNhbExpbmVGdW5kaW5nRW5kJylcblx0XHQuYXR0cigneDEnLCBzZWxmLngoZnVuZGluZ1llYXIgKyBzZWxmLmZ1bmRpbmdUaW1lKSlcblx0XHQuYXR0cigneDInLCBzZWxmLngoZnVuZGluZ1llYXIgKyBzZWxmLmZ1bmRpbmdUaW1lKSlcblx0XHQuYXR0cigneTEnLCBzZWxmLmxpbmVDaGFydERpbWVuc2lvbnMuaGVpZ2h0KVxuXHRcdC5hdHRyKCd5MicsIDApXG5cdFx0LmF0dHIoJ3N0cm9rZS13aWR0aCcsIDIpXG5cdFx0LmF0dHIoJ3N0cm9rZScsIHNlbGYuY29sb3JTY2hlbWVbMF0pXG5cdFx0LnN0eWxlKCdzdHJva2UtZGFzaGFycmF5JywgKCc1LCAyJykpXG5cdFx0LnN0eWxlKCdvcGFjaXR5JywgLjgpO1xufTtcblxubGluZUNoYXJ0QnlZZWFyLnByb3RvdHlwZS5jaGFuZ2VBbmltYXRpb25TdGF0ZSA9IGZ1bmN0aW9uKGFuaW1hdGlvblN0YXRlKSB7XG5cdHZhciBzZWxmID0gdGhpcztcblxuXHRzZWxmLmFuaW1hdGlvblN0YXRlID0gYW5pbWF0aW9uU3RhdGU7XG5cdGNvbnNvbGUubG9nKHNlbGYuYW5pbWF0aW9uU3RhdGUpO1xuXHRmdW5jdGlvbiBhZHZhbmNlTGluZSgpIHtcblx0XHR2YXIgdGltZUVsYXBzZWQgPSBzZWxmLmN1cnJZZWFySW5kaWNhdG9yLmF0dHIoJ1QnKTtcblx0XHRzZWxmLmN1cnJZZWFySW5kaWNhdG9yXG5cdFx0XHQuYXR0cignZGF0YS1zdGF0ZScsICdmb3J3YXJkJylcblx0XHRcdC8vIC5hdHRyKCdUJywgMClcblx0XHRcdC5jbGFzc2VkKCdoaWRkZW4nLCBmYWxzZSlcblx0XHRcdC50cmFuc2l0aW9uKClcblx0XHRcdC8vIC5kdXJhdGlvbihzZWxmLnRyYW5zaXRpb25UaW1lUGVyWWVhcltzZWxmLmN1cnJZZWFyXSAtIHRpbWVFbGFwc2VkKVxuXHRcdFx0LmR1cmF0aW9uKHNlbGYudHJhbnNpdGlvblRpbWVQZXJZZWFyW3NlbGYuY3VyclllYXJdKVxuXHRcdFx0LmVhc2UoJ2xpbmVhcicpXG5cdFx0XHQuYXR0cigneDEnLCBzZWxmLngoc2VsZi5jdXJyWWVhcikpXG5cdFx0XHQuYXR0cigneDInLCBzZWxmLngoc2VsZi5jdXJyWWVhcikpXG5cdFx0XHQvLyAuYXR0cigneTInLCBzZWxmLmxpbmVDaGFydFlTY2FsZShjdXJyVmFsKSlcblx0XHRcdC5hdHRyKCdkYXRhLXN0YXRlJywgJ3N0b3BwZWQnKVxuXHRcdFx0LmF0dHIoJ1QnLCAxKVxuXHRcdFx0LmVhY2goJ2VuZCcsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRkMy5zZWxlY3QodGhpcykuYXR0cignVCcsIDApO1xuXHRcdFx0XHRzZWxmLmN1cnJZZWFyKys7XG5cdFx0XHRcdC8vIGFkdmFuY2VMaW5lKClcblx0XHRcdH0pO1xuXHRcdC8vIC8vIFVwZGF0ZSB0aGUgY2xpcCBwYXRoIHRvIHNob3cgdGhlIHBhcnQgb2YgdGhlIGxpbmUgd2Ugd2FudCAod2l0aCB0cmFuc2l0aW9uKVxuXHRcdC8vIHNlbGYubGluZUNoYXJ0Q2xpcFBhdGhcblx0XHQvLyBcdC5hdHRyKCdkYXRhLXN0YXRlJywgJ2ZvcndhcmQnKVxuXHRcdC8vIFx0Ly8gLmF0dHIoJ1QnLCAwKVxuXHRcdC8vIFx0LnRyYW5zaXRpb24oKVxuXHRcdC8vIFx0LmR1cmF0aW9uKHNlbGYuZ3JhcGhQYXJhbXMudHJhbnNpdGlvblRpbWVQZXJZZWFyLnZhbHVlIC0gdGltZUVsYXBzZWQpXG5cdFx0Ly8gXHQuZWFzZSgnbGluZWFyJylcblx0XHQvLyBcdC5hdHRyKCd3aWR0aCcsIHNlbGYubGluZUNoYXJ0WFNjYWxlKGN1cnJZZWFyRGF0ZUZvcm1hdCkpXG5cdFx0Ly8gXHQuYXR0cignZGF0YS1zdGF0ZScsICdzdG9wcGVkJylcblx0XHQvLyBcdC5hdHRyKCdUJywgMSlcblx0XHQvLyBcdC5lYWNoKCdlbmQnLCBmdW5jdGlvbigpIHsgZDMuc2VsZWN0KHRoaXMpLmF0dHIoJ1QnLCAwKTsgfSk7XG5cdH1cblx0aWYgKHNlbGYuYW5pbWF0aW9uU3RhdGUgPT09ICdmb3J3YXJkJykge1xuXHRcdGFkdmFuY2VMaW5lKCk7XG5cdH1cbn07XG5cbmxpbmVDaGFydEJ5WWVhci5wcm90b3R5cGUuY29ycmVjdFllYXIgPSBmdW5jdGlvbihjdXJyWWVhcikge1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cdGlmIChjdXJyWWVhciAhPSBzZWxmLmN1cnJZZWFyKSB7XG5cdFx0c2VsZi5jdXJyWWVhciA9IGN1cnJZZWFyO1xuXHRcdHNlbGYuY3VyclllYXJJbmRpY2F0b3Jcblx0XHRcdC5hdHRyKCd4MScsIHNlbGYueChzZWxmLmN1cnJZZWFyKSlcblx0XHRcdC5hdHRyKCd4MicsIHNlbGYueChzZWxmLmN1cnJZZWFyKSk7XG5cdFx0c2VsZi5jaGFuZ2VBbmltYXRpb25TdGF0ZSgpO1xuXHR9XG59O1xuXG5saW5lQ2hhcnRCeVllYXIucHJvdG90eXBlLm1vdmVZZWFySW5kaWNhdG9yID0gZnVuY3Rpb24oY3VyclllYXIpIHtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdHNlbGYuY3VyclllYXIgPSBjdXJyWWVhcjtcblx0c2VsZi5jdXJyWWVhckluZGljYXRvclxuXHRcdC5hdHRyKCdUJywgMClcblx0XHQudHJhbnNpdGlvbigpXG5cdFx0LmR1cmF0aW9uKHNlbGYudHJhbnNpdGlvblRpbWVQZXJZZWFyW3NlbGYuY3VyclllYXJdKVxuXHRcdC5lYXNlKCdsaW5lYXInKVxuXHRcdC5hdHRyKCd4MScsIHNlbGYueChzZWxmLmN1cnJZZWFyKSlcblx0XHQuYXR0cigneDInLCBzZWxmLngoc2VsZi5jdXJyWWVhcikpXG5cdFx0Ly8gLmF0dHIoJ3kyJywgc2VsZi5saW5lQ2hhcnRZU2NhbGUoY3VyclZhbCkpXG5cdFx0Ly8gLmF0dHIoJ2RhdGEtc3RhdGUnLCAnc3RvcHBlZCcpXG5cdFx0LmF0dHIoJ1QnLCAxKVxuXHRcdC5lYWNoKCdlbmQnLCBmdW5jdGlvbigpIHtcblx0XHRcdGQzLnNlbGVjdCh0aGlzKS5hdHRyKCdUJywgMCk7XG5cdFx0fSk7XG5cdGZ1bmN0aW9uIGhpZ2hsaWdodEN1cnJZZWFyVGljaygpIHtcblx0XHRzZWxmLnN2Zy5zZWxlY3RBbGwoJy55ZWFyVGljaycpLnNlbGVjdEFsbCgnLmhpZ2hsaWdodFJlY3QnKVxuXHRcdFx0LmZpbHRlcihmdW5jdGlvbihkKSB7IHJldHVybiBkID09IHNlbGYuY3VyclllYXI7IH0pXG5cdFx0XHQuYXR0cignY2xhc3MnLCAnY3VyclllYXInKVxuXHRcdFx0LnRyYW5zaXRpb24oKVxuXHRcdFx0LmR1cmF0aW9uKHNlbGYudHJhbnNpdGlvblRpbWVQZXJZZWFyW3NlbGYuY3VyclllYXJdLzQpXG5cdFx0XHQuc3R5bGUoJ29wYWNpdHknLCAuMSk7XG5cdH1cblx0c2VsZi5zdmcuc2VsZWN0QWxsKCcueWVhclRpY2snKS5zZWxlY3RBbGwoJy5jdXJyWWVhcicpXG5cdFx0LmNsYXNzZWQoJy5jdXJyWWVhcicsIGZhbHNlKVxuXHRcdC50cmFuc2l0aW9uKClcblx0XHQuZHVyYXRpb24oc2VsZi50cmFuc2l0aW9uVGltZVBlclllYXJbc2VsZi5jdXJyWWVhcl0vNClcblx0XHQuc3R5bGUoJ29wYWNpdHknLCAwKTtcblx0Ly8gaGlnaGxpZ2h0Q3VyclllYXJUaWNrKCk7XG5cblx0c2VsZi5zdmcuc2VsZWN0QWxsKCcueWVhckFyZWEuY3VyclllYXInKVxuXHRcdC5jbGFzc2VkKCdjdXJyWWVhcicsIGZhbHNlKVxuXHRcdC50cmFuc2l0aW9uKClcblx0XHQuZHVyYXRpb24oc2VsZi50cmFuc2l0aW9uVGltZVBlclllYXJbc2VsZi5jdXJyWWVhcl0vNClcblx0XHQvLyAuc3R5bGUoJ29wYWNpdHknLCBzZWxmLnllYXJBcmVhT3BhY2l0eS8yKTtcblx0XHQuc3R5bGUoJ29wYWNpdHknLCBmdW5jdGlvbihkKSB7XG5cdFx0XHRpZiAoZC55ZWFyIDwgc2VsZi5jdXJyWWVhcikge1xuXHRcdFx0XHRyZXR1cm4gc2VsZi55ZWFyQXJlYU9wYWNpdHkvMjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiAwO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRzZWxmLnllYXJBcmVhLmZpbHRlcihmdW5jdGlvbihkKSB7IHJldHVybiBkLnllYXIgPT0gc2VsZi5jdXJyWWVhcjsgfSlcblx0XHQuY2xhc3NlZCgnY3VyclllYXInLCB0cnVlKVxuXHRcdC5jbGFzc2VkKCdoaWRkZW4nLCBmYWxzZSlcblx0XHQuc3R5bGUoJ29wYWNpdHknLCBzZWxmLnllYXJBcmVhT3BhY2l0eSoyKVxuXHRcdC50cmFuc2l0aW9uKClcblx0XHQuZHVyYXRpb24oc2VsZi50cmFuc2l0aW9uVGltZVBlclllYXJbc2VsZi5jdXJyWWVhcl0vMilcblx0XHQuc3R5bGUoJ29wYWNpdHknLCBzZWxmLnllYXJBcmVhT3BhY2l0eSk7XG5cblx0Ly8gbWFrZSBzdXJlIHRoYXQgZXZlcnl0aGluZyBpcyBpbiBvcmRlci4uLiBpLmUuIHRoYXQgeWVhcnMgYmVmb3JlIGN1cnJZZWFyIGFyZSBoaWdobGlnaHRlZFxuXHQvLyBhbmQgeWVhcnMgYWZ0ZXIgY3VyclllYXIgYXJlIG5vdFxuXHRzZWxmLnllYXJBcmVhLmZpbHRlcihmdW5jdGlvbihkKSB7IHJldHVybiBkLnllYXIgPCBzZWxmLmN1cnJZZWFyOyB9KVxuXHRcdC5jbGFzc2VkKCdoaWRkZW4nLCBmYWxzZSlcblx0XHQuc3R5bGUoJ29wYWNpdHknLCBzZWxmLnllYXJBcmVhT3BhY2l0eS8yKTtcblx0c2VsZi55ZWFyQXJlYS5maWx0ZXIoZnVuY3Rpb24oZCkgeyByZXR1cm4gZC55ZWFyID4gc2VsZi5jdXJyWWVhcjsgfSlcblx0XHQuc3R5bGUoJ29wYWNpdHknLCAwKTtcblx0Y29uc29sZS5sb2coc2VsZi5jdXJyWWVhcik7XG5cbn07XG5cbmxpbmVDaGFydEJ5WWVhci5wcm90b3R5cGUuYWRkVGl0bGUgPSBmdW5jdGlvbih0aXRsZSkge1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0c2VsZi50aXRsZSA9IHNlbGYuc3ZnLmFwcGVuZCgndGV4dCcpXG5cdCAgICAuYXR0cignY2xhc3MnLCAnbGluZUNoYXJ0VGl0bGUnKVxuXHQgICAgLmF0dHIoJ3gnLCBzZWxmLmxpbmVDaGFydERpbWVuc2lvbnMud2lkdGgvMilcblx0ICAgIC5hdHRyKCd5JywgMCAtIChzZWxmLmxpbmVDaGFydERpbWVuc2lvbnMubWFyZ2luLnRvcCAvIDIpIClcblx0ICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKVxuXHQgICAgLnRleHQodGl0bGUpO1xuXG59O1xudmFyIGNpdGF0aW9uVmlzID0gY2l0YXRpb25WaXMgfHwge307XG5cbmNpdGF0aW9uVmlzLnN1bW1hcnlTdGF0aXN0aWNzID0gKGZ1bmN0aW9uKCkge1xuXG5cdGZ1bmN0aW9uIGFkZFN1bW1hcnlTdGF0aXN0aWNzKGdyYXBoKSB7XG5cblx0XHRmdW5jdGlvbiBjbGVhbkxpbmtzKGxpbmtzKSB7XG5cdFx0XHR2YXIgY2xlYW5lZExpbmtzID0gW107XG5cdFx0XHRsaW5rcy5mb3JFYWNoKGZ1bmN0aW9uKGQpIHtcblx0XHRcdFx0aWYgKCAodHlwZW9mIGQubGlua1RvRWdvICE9ICd1bmRlZmluZWQnKSAmJiAoZC5saW5rVG9FZ28gPT09IHRydWUpICkge1xuXHRcdFx0XHRcdHZhciBzb3VyY2VZZWFyID0gK2Quc291cmNlWWVhcjtcblx0XHRcdFx0XHR2YXIgdGFyZ2V0WWVhciA9ICtkLnRhcmdldFllYXI7XG5cdFx0XHRcdFx0aWYgKCAoc291cmNlWWVhciA+IDApICYmICh0YXJnZXRZZWFyID4gMCkgJiYgKHNvdXJjZVllYXIgPj0gdGFyZ2V0WWVhcikgKSB7XG5cdFx0XHRcdFx0XHRjbGVhbmVkTGlua3MucHVzaChkKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIGNsZWFuZWRMaW5rcztcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBnZXRZZWFyUmFuZ2UobGlua3MpIHtcblx0XHRcdC8vIEEgbG90IG9mIHRoaXMgY29kZSB3YXMgY29waWVkIGZyb20gbGluZUNoYXJ0RGF0YVxuXHRcdFx0Ly8gTWF5IG5lZWQgdG8gY2xlYW4gdGhpcyB1cCAoVE9ETylcblxuXHRcdFx0Ly8gTWFrZSBzdXJlIGFsbCBvdXIgZGF0YSBmYWxsIHdpdGhpbiB0aGUgYXBwcm9wcmlhdGUgdGltZSBzcGFuLlxuXHRcdFx0Ly8gVGhlIG1pbmltdW0geWVhciBpcyB0aGUgZWFybGllc3QgcHVibGljYXRpb24gYnkgdGhlIGVnbyBhdXRob3IgKHRoZXJlIHdpbGwgbGlrZWx5IGJlIG5vIGNpdGF0aW9ucyB3aXRoaW4gdGhpcyB5ZWFyLCBidXQgdGhpcyBjaGFydCBuZWVkcyB0byBsaW5lIHVwIHdpdGggdGhlIG90aGVyIGNoYXJ0cykuXG5cdFx0XHQvLyBUaGUgbWF4aW11bSB5ZWFyIGlzIHRoZSBsYXN0IHllYXIgdGhhdCBhIHBhcGVyIGNpdGVkIG9uZSBvZiB0aGUgZWdvIGF1dGhvcidzIHBhcGVyIChjaGVja2luZyB0byBtYWtlIHN1cmUgaXQgaXMgbm90IGluIHRoZSBmdXR1cmUsIHdoaWNoIHdvdWxkIG1lYW4gYmFkIGRhdGEpLlxuXHRcdFx0dmFyIGNsZWFuZWRMaW5rcyA9IGNsZWFuTGlua3MobGlua3MpO1xuXHRcdFx0dmFyIG1pblllYXIgPSBkMy5taW4oY2xlYW5lZExpbmtzLCBmdW5jdGlvbihkKSB7IHJldHVybiBkLnRhcmdldFllYXI+MCA/IGQudGFyZ2V0WWVhciA6IG51bGw7IH0pO1xuXHRcdFx0Ly8gR2V0IGN1cnJlbnQgeWVhciAodXNpbmcgdG9kYXkncyBkYXRlKTpcblx0XHRcdHZhciB0b2RheVllYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCk7XG5cdFx0XHR2YXIgbWF4WWVhciA9IGQzLm1heChjbGVhbmVkTGlua3MsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQuc291cmNlWWVhcjw9dG9kYXlZZWFyID8gZC5zb3VyY2VZZWFyIDogbnVsbDsgfSk7XG5cdFx0XHRyZXR1cm4gW21pblllYXIsIG1heFllYXJdO1xuXHRcdH1cblxuXG5cdFx0ZnVuY3Rpb24gZ2V0RW1wdHlDb3VudERhdGEoeWVhclJhbmdlKSB7XG5cdFx0XHR2YXIgZW1wdHlDb3VudERhdGEgPSBbXTtcblx0XHRcdGZvciAodmFyIGk9eWVhclJhbmdlWzBdOyBpPD15ZWFyUmFuZ2VbMV07IGkrKykge1xuXHRcdFx0XHRlbXB0eUNvdW50RGF0YS5wdXNoKHt5ZWFyOiBpLCBjb3VudDogMH0pO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGVtcHR5Q291bnREYXRhO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGdldENpdGF0aW9uQ291bnRzUGVyWWVhcihncmFwaCkge1xuXHRcdFx0dmFyIGNpdGF0aW9uQ291bnRzUGVyWWVhciA9IGdldEVtcHR5Q291bnREYXRhKGdyYXBoLmdyYXBoLnllYXJSYW5nZSk7XG5cdFx0XHR2YXIgY2xlYW5lZExpbmtzID0gY2xlYW5MaW5rcyhncmFwaC5saW5rcyk7XG5cdFx0XHRjbGVhbmVkTGlua3MuZm9yRWFjaChmdW5jdGlvbihkLCBpKSB7XG5cdFx0XHRcdHZhciB0aGlzU291cmNlWWVhciA9IGQuc291cmNlWWVhcjtcblx0XHRcdFx0dmFyIGRhdGFUaGlzWWVhciA9IGNpdGF0aW9uQ291bnRzUGVyWWVhci5maWx0ZXIoZnVuY3Rpb24oZGQpIHsgcmV0dXJuIGRkLnllYXI9PT10aGlzU291cmNlWWVhcjsgfSlbMF07XG5cdFx0XHRcdGRhdGFUaGlzWWVhci5jb3VudCsrO1xuXHRcdFx0fSk7XG5cblx0XHRcdHJldHVybiBjaXRhdGlvbkNvdW50c1BlclllYXI7XG5cdFx0fVxuXG5cdFx0Z3JhcGguZ3JhcGgueWVhclJhbmdlID0gZ2V0WWVhclJhbmdlKGdyYXBoLmxpbmtzKTtcblx0XHRncmFwaC5ncmFwaC5jaXRhdGlvbkNvdW50c1BlclllYXIgPSBnZXRDaXRhdGlvbkNvdW50c1BlclllYXIoZ3JhcGgpO1xuXHRcdHJldHVybiBncmFwaDtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0YWRkU3VtbWFyeVN0YXRpc3RpY3M6IGFkZFN1bW1hcnlTdGF0aXN0aWNzXG5cdH07XG59KCkpO1xuXG5cblxuLy8gaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9zbmlwcGV0cy9qYXZhc2NyaXB0L2dldC11cmwtdmFyaWFibGVzL1xuZnVuY3Rpb24gZ2V0UXVlcnlWYXJpYWJsZSh2YXJpYWJsZSlcbntcbiAgICB2YXIgcXVlcnkgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoLnN1YnN0cmluZygxKTtcbiAgICB2YXIgdmFycyA9IHF1ZXJ5LnNwbGl0KFwiJlwiKTtcbiAgICBmb3IgKHZhciBpPTA7IGk8dmFycy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcGFpciA9IHZhcnNbaV0uc3BsaXQoXCI9XCIpO1xuICAgICAgICBpZihwYWlyWzBdID09IHZhcmlhYmxlKSB7cmV0dXJuIHBhaXJbMV07fVxuICAgIH1cbiAgICByZXR1cm4oZmFsc2UpO1xufVxuXG5cblxudmFyIGNpdGF0aW9uVmlzID0gY2l0YXRpb25WaXMgfHwge307XG5cbmNpdGF0aW9uVmlzLmdldFRyYW5zaXRpb25UaW1lUGVyWWVhcj0gZnVuY3Rpb24oZ3JhcGgsIGxvbmdlc3RZZWFyVHJhbnNpdGlvblRpbWUpIHtcblx0Y29uc29sZS5sb2coZ3JhcGgpO1xuXHQvLyBUaGlzIHdpbGwgbGV0IHVzIHZhcnkgdGhlIHRyYW5zaXRpb24gdGltZSBwZXIgeWVhclxuXHR2YXIgdHJhbnNpdGlvblRpbWVQZXJZZWFyID0ge307XG5cdHZhciBlbXB0eVllYXJUcmFuc2l0aW9uVGltZSA9IDMwMDtcblx0Ly8gdmFyIGxvbmdlc3RZZWFyVHJhbnNpdGlvblRpbWUgPSA0MDAwO1xuXHQvLyBTZXQgZGVmYXVsdCB2YWx1ZTpcblx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy84OTQ4NjAvc2V0LWEtZGVmYXVsdC1wYXJhbWV0ZXItdmFsdWUtZm9yLWEtamF2YXNjcmlwdC1mdW5jdGlvblxuXHR2YXIgbG9uZ2VzdFllYXJUcmFuc2l0aW9uVGltZSA9IHR5cGVvZiBsb25nZXN0WWVhclRyYW5zaXRpb25UaW1lICE9PSAndW5kZWZpbmVkJyA/IGxvbmdlc3RZZWFyVHJhbnNpdGlvblRpbWUgOiA0MDAwO1xuXHQvLyBUaGlzIHNjYWxlIHRha2VzIHRoZSBudW1iZXIgb2Ygbm9kZXMgZm9yIGEgZ2l2ZW4geWVhciBhcyBpbnB1dFxuXHQvLyBhbmQgb3V0cHV0cyB0aGUgdHJhbnNpdGlvbiB0aW1lLCBiYXNlZCBvbiBhIHRocmVzaG9sZCBtYXBwaW5nXG5cdHZhciB0aHJlc2hvbGRTY2FsZSA9IGQzLnNjYWxlLnRocmVzaG9sZCgpXG5cdFx0LmRvbWFpbihbMSwgMywgMTAsIDIwLCAzMF0pXG5cdFx0LnJhbmdlKFtcblx0XHRcdFx0ZW1wdHlZZWFyVHJhbnNpdGlvblRpbWUsICAvLyB6ZXJvIG5vZGVzXG5cdFx0XHRcdGxvbmdlc3RZZWFyVHJhbnNpdGlvblRpbWUgKiAuMiwgIC8vIG9uZSBvciB0d28gbm9kZXNcblx0XHRcdFx0bG9uZ2VzdFllYXJUcmFuc2l0aW9uVGltZSAqIC41LCAvLyAzIHRvIDlcblx0XHRcdFx0bG9uZ2VzdFllYXJUcmFuc2l0aW9uVGltZSAqIC43LCAgLy8gMTAgdG8gMTlcblx0XHRcdFx0bG9uZ2VzdFllYXJUcmFuc2l0aW9uVGltZSAqIC44NSwgIC8vIDIwIHRvIDI5XG5cdFx0XHRcdGxvbmdlc3RZZWFyVHJhbnNpdGlvblRpbWUgIC8vIDMwK1xuXHRcdFx0XHRdKTtcblx0dmFyIHllYXJSYW5nZSA9IGdyYXBoLmdyYXBoLnllYXJSYW5nZTtcblx0XG5cdC8vIFB1dCB0aGUgdHJhbnNpdGlvbiB0aW1lIGZvciBlYWNoIHllYXIgaW50byBhbiBvYmplY3Rcblx0Zm9yICh2YXIgaT15ZWFyUmFuZ2VbMF07IGk8PXllYXJSYW5nZVsxXTsgaSsrKSB7XG5cdFx0Ly8gdHJhbnNpdGlvblRpbWVQZXJZZWFyW2ldID0gMTAwMDtcblx0XHR0cmFuc2l0aW9uVGltZVBlclllYXJbaV0gPSB0aHJlc2hvbGRTY2FsZShncmFwaC5ncmFwaC5ub2RlQ291bnRzUGVyWWVhcltpXSk7XG5cdH1cblx0cmV0dXJuIHRyYW5zaXRpb25UaW1lUGVyWWVhcjtcbn07XG5cbmNpdGF0aW9uVmlzLnllYXJUaWNrQ2xpY2tFdmVudExpc3RlbmVyID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gQWRkIGNsaWNrIGxpc3RlbmVycyB0byBsaW5lIGNoYXJ0IGF4aXMgdGljayBsYWJlbHMgKHllYXJzKS5cbiAgICAvLyBPbiBjbGljaywgYSBuZXcgZGVzdGluYXRpb24gbm9kZSB3aWxsIGJlIHNldC5cbiAgICBkMy5zZWxlY3RBbGwoJy55ZWFyVGljaycpXG4gICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAvLyBHZXQgdGhlIHllYXIgKGFzIGludGVnZXIpXG4gICAgICAgICAgICB2YXIgZGVzdGluYXRpb25ZZWFyID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEteWVhcicpO1xuICAgICAgICAgICAgLy8gU3RvcCBhbGwgdHJhbnNpdGlvbnMgb24gbm9kZXMgYW5kIGxpbmtzXG4gICAgICAgICAgICBkMy5zZWxlY3RBbGwoJy5ub2RlLCAubGluaycpLnRyYW5zaXRpb24oKS5kdXJhdGlvbigwKTtcblxuXHRcdFx0Y2l0YXRpb25WaXMuZWdvR3JhcGhWaXMubmV3RGVzdGluYXRpb25Ob2RlKGRlc3RpbmF0aW9uWWVhcik7XG4gICAgICAgIH0pO1xufTtcblxuZnVuY3Rpb24gbWFpbigpIHtcblxuXG5kMy5zZWxlY3QoJyNtYWluRGl2JykuYXBwZW5kKCdwJylcblx0LmF0dHIoXCJjbGFzc1wiLCBcImxvYWRpbmdUZXh0XCIpXG5cdC50ZXh0KCdMb2FkaW5nLi4uJyk7XG5cbmQzLmpzb24oJ25hczJfbWFnX2RvaV9qb2luX25ldHdvcmtfZnVsbGRhdGFfd2l0aF9mb3NfbmFtZXMuanNvbicsIGZ1bmN0aW9uKGVycm9yLCBncmFwaCkge1xuXHRjb25zb2xlLmxvZyhlcnJvcik7XG5cdGlmIChlcnJvcikge1xuXHRcdHZhciBjb250YWN0RW1haWwgPSAnanBvcnRlbm9AdXcuZWR1Jztcblx0XHR2YXIgZXJySHRtbCA9ICdUaGVyZSB3YXMgYW4gZXJyb3IgZ2VuZXJhdGluZyB0aGUgdmlzdWFsaXphdGlvbiwgb3IgZWxzZSBkYXRhIHByb2Nlc3NpbmcgaXMgc3RpbGwgaW4gcHJvZ3Jlc3MuIFRyeSByZWxvYWRpbmcgdGhlIHBhZ2UgbGF0ZXIsIG9yIGdlbmVyYXRpbmcgdGhlIHZpc3VhbGl6YXRpb24gYWdhaW4uIElmIHRoZSBwcm9ibGVtIHBlcnNpc3RzLCA8YSBocmVmPVwibWFpbHRvOicgKyBjb250YWN0RW1haWwgKyAnXCI+Y29udGFjdCB0aGUgYWRtaW5pc3RyYXRvcjwvYT4uJ1xuXHRcdCQoICcubG9hZGluZ1RleHQnICkuaHRtbCggZXJySHRtbCApXG5cdFx0XHQuY3NzKCB7J2NvbG9yJzogJ3JlZCd9ICk7XG5cdFx0dGhyb3cgZXJyb3I7XG5cdH1cblxuXHQvLyBHZXQgdGhlIG1vc3QgY29tbW9uIERvbWFpbiBJRHMgZm9yIHRoZSBlZ28gYXV0aG9yJ3MgcGFwZXJzXG5cdHZhciBkb21haW5zTmVzdCA9IGQzLm5lc3QoKVxuXHRcdC5rZXkoZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5Eb21haW5JRDsgfSkuc29ydFZhbHVlcyhkMy5kZXNjZW5kaW5nKVxuXHRcdC5yb2xsdXAoZnVuY3Rpb24obGVhdmVzKSB7IHJldHVybiBsZWF2ZXMubGVuZ3RoOyB9KVxuXHRcdC5lbnRyaWVzKGdyYXBoLm5vZGVzWzBdLnBhcGVycyk7XG5cdGRvbWFpbnNOZXN0LnNvcnQoZnVuY3Rpb24oYSxiKSB7IHJldHVybiBkMy5kZXNjZW5kaW5nKGEudmFsdWVzLCBiLnZhbHVlcyk7IH0pO1xuXHQvLyBzdG9yZSBhcyBhIG5vZGUgcHJvcGVydHlcblx0Z3JhcGgubm9kZXNbMF0uRG9tYWluQ291bnRzID0gZG9tYWluc05lc3Q7XG5cdGNvbnNvbGUubG9nKGdyYXBoKTtcblx0Ly8gZDMuc2VsZWN0KCcjaW5mb0RpdicpLmFwcGVuZCgncCcpLnRleHQoZ3JhcGgubm9kZXNbMF0uQXV0aG9yTmFtZSk7XG5cblx0dmFyIGRlZmF1bHRfb3B0aW9ucyA9IGNpdGF0aW9uVmlzLmRlZmF1bHRfb3B0aW9ucywgXG5cdFx0c3VtbWFyeVN0YXRpc3RpY3MgPSBjaXRhdGlvblZpcy5zdW1tYXJ5U3RhdGlzdGljcyxcblx0XHRlZ29HcmFwaERhdGEgPSBjaXRhdGlvblZpcy5lZ29HcmFwaERhdGEsXG5cdCAgICBsaW5lQ2hhcnREYXRhID0gY2l0YXRpb25WaXMubGluZUNoYXJ0RGF0YSxcblx0XHRldmVudExpc3RlbmVycyA9IGNpdGF0aW9uVmlzLmV2ZW50TGlzdGVuZXJzO1xuXG5cdHZhciBvcHRpb25zID0gZGVmYXVsdF9vcHRpb25zLmRlZmF1bHRzO1xuXHRjb25zb2xlLmxvZyhvcHRpb25zKTtcblxuXHRncmFwaCA9IHN1bW1hcnlTdGF0aXN0aWNzLmFkZFN1bW1hcnlTdGF0aXN0aWNzKGdyYXBoKTtcblx0Y2l0YXRpb25WaXMuZ3JhcGhfZGF0YSA9IGVnb0dyYXBoRGF0YS5wcmVwYXJlX2Vnb0dyYXBoRGF0YShncmFwaCk7XG5cdGNpdGF0aW9uVmlzLnB1YmxpY2F0aW9uc19kYXRhID0gbGluZUNoYXJ0RGF0YS5wcmVwYXJlRGF0YV9lZ29BdXRob3JQdWJsaWNhdGlvbnMoZ3JhcGgpO1xuXHRjaXRhdGlvblZpcy5hbGxfY2l0YXRpb25zX2RhdGEgPSBsaW5lQ2hhcnREYXRhLnByZXBhcmVEYXRhX2FsbENpdGF0aW9ucyhncmFwaCk7XG5cdGNpdGF0aW9uVmlzLmVpZ2VuZmFjdG9yX3N1bV9kYXRhID0gbGluZUNoYXJ0RGF0YS5wcmVwYXJlRGF0YV9hdXRob3JFaWdlbmZhY3RvclN1bShncmFwaCk7XG5cblx0Ly8gVmlzdWFsaXphdGlvbiBvYmplY3RzIGdvIGhlcmVcblx0Y2l0YXRpb25WaXMuZWdvR3JhcGhWaXMgPSBuZXcgZWdvR3JhcGhWaXMoY2l0YXRpb25WaXMuZ3JhcGhfZGF0YSk7XG5cdC8vIGNpdGF0aW9uVmlzLnB1YmxpY2F0aW9uc0xpbmVDaGFydCA9IG5ldyBsaW5lQ2hhcnRCeVllYXIoY2l0YXRpb25WaXMucHVibGljYXRpb25zX2RhdGEpO1xuXHQvLyBjaXRhdGlvblZpcy5jaXRhdGlvbnNMaW5lQ2hhcnQgPSBuZXcgbGluZUNoYXJ0QnlZZWFyKGNpdGF0aW9uVmlzLmFsbF9jaXRhdGlvbnNfZGF0YSk7XG5cdC8vIGNpdGF0aW9uVmlzLmVpZ2VuZmFjdG9yU3VtTGluZUNoYXJ0ID0gbmV3IGxpbmVDaGFydEJ5WWVhcihjaXRhdGlvblZpcy5laWdlbmZhY3Rvcl9zdW1fZGF0YSk7XG5cdGNpdGF0aW9uVmlzLmxpbmVDaGFydHMgPSBbXTtcblx0Y2l0YXRpb25WaXMubGluZUNoYXJ0cy5wdXNoKG5ldyBsaW5lQ2hhcnRCeVllYXIoY2l0YXRpb25WaXMucHVibGljYXRpb25zX2RhdGEpKTtcblx0Y2l0YXRpb25WaXMubGluZUNoYXJ0cy5wdXNoKG5ldyBsaW5lQ2hhcnRCeVllYXIoY2l0YXRpb25WaXMuYWxsX2NpdGF0aW9uc19kYXRhKSk7XG5cdGNpdGF0aW9uVmlzLmxpbmVDaGFydHMucHVzaChuZXcgbGluZUNoYXJ0QnlZZWFyKGNpdGF0aW9uVmlzLmVpZ2VuZmFjdG9yX3N1bV9kYXRhKSk7XG5cblx0b3B0aW9ucy50cmFuc2l0aW9uVGltZVBlclllYXIgPSBjaXRhdGlvblZpcy5nZXRUcmFuc2l0aW9uVGltZVBlclllYXIoZ3JhcGgpO1xuXG5cdGNpdGF0aW9uVmlzLmVnb0dyYXBoVmlzLmltcG9ydERlZmF1bHRPcHRpb25zKG9wdGlvbnMpO1xuXHRmb3IgKHZhciBpPTA7IGk8Y2l0YXRpb25WaXMubGluZUNoYXJ0cy5sZW5ndGg7IGkrKykge1xuXHRcdGNpdGF0aW9uVmlzLmxpbmVDaGFydHNbaV0uaW1wb3J0RGVmYXVsdE9wdGlvbnMob3B0aW9ucyk7XG5cdH1cblxuXHRjaXRhdGlvblZpcy5lZ29HcmFwaFZpcy5pbml0KCk7XG5cdGZvciAodmFyIGk9MDsgaTxjaXRhdGlvblZpcy5saW5lQ2hhcnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0Y2l0YXRpb25WaXMubGluZUNoYXJ0c1tpXS5pbml0KCk7XG5cdH1cblx0JC5ldmVudC50cmlnZ2VyKHtcblx0XHR0eXBlOiBcImluaXRDb21wbGV0ZVwiLFxuXHR9KTtcblxuXHRjaXRhdGlvblZpcy5saW5lQ2hhcnRzWzBdLmFkZFRpdGxlKFwiTnVtYmVyIG9mIHB1YmxpY2F0aW9uc1wiKTtcblx0Y2l0YXRpb25WaXMubGluZUNoYXJ0c1sxXS5hZGRUaXRsZShcIk51bWJlciBvZiBjaXRhdGlvbnMgcmVjZWl2ZWRcIik7XG5cdHZhciBjdHJ0eXBlID0gZ2V0UXVlcnlWYXJpYWJsZShcImN0cnR5cGVcIik7XG5cdGlmICghY3RydHlwZSkge1xuXHRcdGN0cnR5cGUgPSBcImF1dGhvclwiO1xuXHR9XG5cdGNvbnNvbGUubG9nKGN0cnR5cGUpO1xuXHQvLyBjaXRhdGlvblZpcy5saW5lQ2hhcnRzWzJdLmFkZFRpdGxlKFwiU3VtIG9mIGVpZ2VuZmFjdG9yIGZvciB0aGlzIGF1dGhvcidzIHB1YmxpY2F0aW9ucyBieSB5ZWFyXCIpO1xuXHRjaXRhdGlvblZpcy5saW5lQ2hhcnRzWzJdLmFkZFRpdGxlKFwiU3VtIG9mIGVpZ2VuZmFjdG9yIGZvciB0aGlzIFwiICsgY3RydHlwZSArIFwiJ3MgcHVibGljYXRpb25zIGJ5IHllYXJcIik7XG5cblxuXHQkKCBkb2N1bWVudCApLm9uKCBcInllYXJDaGFuZ2VcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGN1cnJZZWFyID0gY2l0YXRpb25WaXMuZWdvR3JhcGhWaXMuY3VyclllYXI7XG5cdFx0Zm9yICh2YXIgaT0wOyBpPGNpdGF0aW9uVmlzLmxpbmVDaGFydHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNpdGF0aW9uVmlzLmxpbmVDaGFydHNbaV0ubW92ZVllYXJJbmRpY2F0b3IoY3VyclllYXIpO1xuXHRcdH1cblx0fSk7XG5cblx0Ly8gSGFjayB0byBsYWJlbCB0aGUgcHVibGljYXRpb25zIGxpbmUgY2hhcnQuIFRPRE86IEZpeCB0aGlzIGxhdGVyXG5cdC8vIHZhciBwdWJzID0gZDMuc2VsZWN0KGNpdGF0aW9uVmlzLnB1YmxpY2F0aW9uc0xpbmVDaGFydC5jaGFydERpdlswXVswXSk7XG5cdHZhciBwdWJzID0gZDMuc2VsZWN0KGNpdGF0aW9uVmlzLmxpbmVDaGFydHNbMF0uY2hhcnREaXZbMF1bMF0pO1xuXHR2YXIgcHVic0F4aXNMYWJlbCA9IHB1YnMuc2VsZWN0KCcueS5heGlzJykuc2VsZWN0KCcuYXhpc0xhYmVsJyk7XG5cdHB1YnNBeGlzTGFiZWwudGV4dCgnTnVtIHB1YmxpY2F0aW9ucycpO1xuXHQvLyBIYWNrIHRvIGFsdGVyIGVpZ2VuZmFjdG9yIGxpbmUgY2hhcnQuIFRPRE86IEZpeCB0aGlzIGxhdGVyXG5cdC8vIGNpdGF0aW9uVmlzLmVpZ2VuZmFjdG9yU3VtTGluZUNoYXJ0LnlBeGlzLnRpY2tGb3JtYXQoZDMuZm9ybWF0KCdlJykpO1xuXHRjaXRhdGlvblZpcy5saW5lQ2hhcnRzWzJdLnlBeGlzLnRpY2tGb3JtYXQoZDMuZm9ybWF0KCdlJykpO1xuXHQvLyB2YXIgRUZDaGFydCA9IGQzLnNlbGVjdChjaXRhdGlvblZpcy5laWdlbmZhY3RvclN1bUxpbmVDaGFydC5jaGFydERpdlswXVswXSk7XG5cdHZhciBFRkNoYXJ0ID0gZDMuc2VsZWN0KGNpdGF0aW9uVmlzLmxpbmVDaGFydHNbMl0uY2hhcnREaXZbMF1bMF0pO1xuXHRFRkNoYXJ0LnNlbGVjdCgnLnkuYXhpcycpXG5cdFx0Ly8gLmNhbGwoY2l0YXRpb25WaXMuZWlnZW5mYWN0b3JTdW1MaW5lQ2hhcnQueUF4aXMpXG5cdFx0LmNhbGwoY2l0YXRpb25WaXMubGluZUNoYXJ0c1syXS55QXhpcylcblx0XHQuc2VsZWN0KCcuYXhpc0xhYmVsJykudGV4dCgnU3VtIG9mIEVpZ2VuZmFjdG9yJyk7XG5cblxuXHQvLyBFdmVudCBsaXN0ZW5lcnNcblx0Ly8gRXZlbnQgbGlzdGVuZXJzIHRoYXQgYWN0IGFjcm9zcyBkaWZmZXJlbnQgdmlzdWFsaXphdGlvbiBvYmplY3RzIGdvIGhlcmVcblx0Y2l0YXRpb25WaXMueWVhclRpY2tDbGlja0V2ZW50TGlzdGVuZXIoKTtcblx0XG5cdGQzLnNlbGVjdChcIi5sb2FkaW5nVGV4dFwiKS5yZW1vdmUoKTtcbn0pO1xuLy8gfSkoY2l0YXRpb252aXNfZGF0YSk7XG59XG5cbi8vIG1haW4oKTtcbmV4cG9ydCB7IGNpdGF0aW9uVmlzLCBlZ29HcmFwaFZpcywgbGluZUNoYXJ0QnlZZWFyIH07XG4iLCJpbXBvcnQgeyBjaXRhdGlvblZpcywgZWdvR3JhcGhWaXMsIGxpbmVDaGFydEJ5WWVhciB9IGZyb20gJy4vY29uY2F0LmpzJztcbmV4cG9ydCB7IGNpdGF0aW9uVmlzLCBlZ29HcmFwaFZpcywgbGluZUNoYXJ0QnlZZWFyIH07XG5cbiJdLCJzb3VyY2VSb290IjoiIn0=